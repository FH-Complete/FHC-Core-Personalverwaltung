{"version":3,"file":"common.js","sources":["../../../../../extensions/FHC-Core-Personalverwaltung/js/apps/common.js"],"sourcesContent":["import { CoreFilterAPIs } from '../../../../js/components/filter/API.js';\n\nlet protocol_host = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\t \n\nexport const searchbaroptions = {\n    cssclass: \"position-relative\",\n    origin: 'pv21',\n    types: [\n        \"person\",\n        \"raum\",\n        \"mitarbeiter\",\n        \"mitarbeiter_ohne_zuordnung\",\n/*\n        \"student\",\n        \"prestudent\",\n        \"document\",\n        \"cms\",\n*/\n        \"organisationunit\"\n    ],\n    actions: {\n        person: {\n            defaultaction: {\n                type: \"link\",\n                action: function(data) { \n                    return data.profil;\n                }\n            },\n            childactions: [\n                {\n                    label: \"testchildaction1\",\n                    icon: \"fas fa-check-circle\",\n                    type: \"function\",\n                    action: function(data) { \n                        alert('person testchildaction 01 ' + JSON.stringify(data)); \n                    }\n                },\n                {\n                    label: \"testchildaction2\",\n                    icon: \"fas fa-file-csv\",\n                    type: \"function\",\n                    action: function(data) { \n                        alert('person testchildaction 02 ' + JSON.stringify(data)); \n                    }\n                }\n            ]\n        },\n\t\traum: {\n\t\t\tdefaultaction: {\n\t\t\t\ttype: \"link\",\n\t\t\t\trenderif: function(data) {\n\t\t\t\t\tif(data.content_id === \"N/A\"){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\taction: function(data) { \n\t\t\t\t\tconst link= FHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\t\t\t\t'cms/content.php?content_id=' + data.content_id;\n\t\t\t\t\treturn link;\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"LV-Plan\",\n\t\t\t\t\ticon: \"fas fa-bookmark\",\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\taction: function(data) {\n\t\t\t\t\t\tconst link = FHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\t\t\t\t\t'cis/private/lvplan/stpl_week.php?type=ort&ort_kurzbz=' + data.ort_kurzbz;\n\t\t\t\t\t\treturn link;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Rauminformation\",\n\t\t\t\t\ticon: \"fas fa-info-circle\",\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\trenderif: function(data) {\n\t\t\t\t\t\tif(data.content_id === \"N/A\"){\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},\n\t\t\t\t\taction: function(data) {\n\t\t\t\t\tconst link= FHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\t\t\t\t'cms/content.php?content_id=' + data.content_id;\n\t\t\t\t\t\treturn link;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t]\n\t\t},\n        employee: {\n            defaultaction: {\n                type: \"link\",\n                action: (data) => {\n                    return `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees/${data.person_id}/${data.uid}/summary`;\n                }\n            },\n            childactions: [\n                {\n                    label: \"Dienstverh√§ltnis\",\n                    icon: \"fas fa-address-book\",\n                    type: \"link\",\n                    action: function(data) {\n                        return `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees/${data.person_id}/${data.uid}/contract`;\n                    }\n                },\n                {\n                    label: \"Stammdaten\",\n                    icon: \"fas fa-address-card\",\n                    type: \"link\",\n                    action: function(data) {\n                        return `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees/${data.person_id}/${data.uid}`;\n                    }\n                },\n                {\n                    label: \"Vertragshistorie\",\n                    icon: \"fas fa-address-book\",\n                    type: \"link\",\n                    action: function(data) {\n                        return `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees/${data.person_id}/${data.uid}/contract#dvhistory`;\n                    }\n                },\n/*\n                {\n                    label: \"testchildaction3\",\n                    icon: \"fas fa-bell\",\n                    type: \"function\",\n                    action: function(data) { \n                        alert('employee testchildaction 03 ' + JSON.stringify(data)); \n                    }\n                },\n                {\n                    label: \"testchildaction4\",\n                    icon: \"fas fa-calculator\",\n                    type: \"function\",\n                    action: function(data) { \n                        alert('employee testchildaction 04 ' + JSON.stringify(data)); \n                    }\n                }\n */\n            ]\n        },\n        organisationunit: {\n            defaultaction: {\n                type: \"function\",\n                action: function(data) { \n                    //alert('organisationunit defaultaction ' + JSON.stringify(data));\n                    const filterFields = {\n                        \"filterUniqueId\":\"extensions/FHC-Core-Personalverwaltung/Employees/index\",\n                        \"filterType\":\"EmployeeViewer\",\n                        \"filterFields\":[{\"name\":\"OE Key\",\"operation\":\"equal\",\"condition\":data.oe_kurzbz}]\n                    };\n\t\t\t\t\tlet protocol_host = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n\t\t\t\t\taxios.post(protocol_host + '/api/frontend/v1/filter/applyFilterFields', filterFields).then(function() {\n                        // redirect\n                        window.location.href = `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees`;\n                    });\n                }\n            },\n            childactions: []\n        }\n    }\n};\n"],"names":["protocol_host","FHC_JS_DATA_STORAGE_OBJECT","app_root","ci_router","searchbaroptions","cssclass","origin","types","actions","person","defaultaction","type","action","data","profil","childactions","label","icon","alert","JSON","stringify","raum","renderif","content_id","link","ort_kurzbz","employee","person_id","uid","organisationunit","filterFields","oe_kurzbz","axios","post","then","window","location","href"],"mappings":"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"}