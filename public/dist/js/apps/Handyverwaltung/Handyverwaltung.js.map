{"version":3,"file":"Handyverwaltung.js","sources":["../../../../../../js/api/checkperson.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/common.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/dv.js","../../../../../../js/components/Fetch.js","../../../../../../js/components/filter/Filter/Config.js","../../../../../../js/components/filter/Filter/Columns.js","../../../../../../js/components/filter/Table/Download.js","../../../../../../js/directives/collapseAutoClose.js","../../../../../../js/tabulator/layouts/fitDataStretchFrozen.js","../../../../../../js/api/factory/filter.js","../../../../../../js/components/filter/Filter.js","../../../../../../js/api/factory/navigation.js","../../../../../../js/components/navigation/Navigation.js","../../../../../../js/components/verticalsplit/verticalsplit.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/Modal.js","../../../../../../js/mixins/Phrasen.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/ModalDialog.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/person.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/contact/EmailTelData.js","../../../../../../js/api/factory/betriebsmittel/person.js","../../../../../../js/components/Bootstrap/Modal.js","../../../../../../js/components/Fragment.js","../../../../../../js/components/Form/Input.js","../../../../../../js/components/Betriebsmittel/Betriebsmittel.js","../../../../../../js/components/Form/Form.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/orgviewer.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/organisation/OrgChooser.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/funktion.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/JobFunction.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/vertragsbestandteil.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/employee.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/EmployeeStatus.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/issue.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/EmployeeHeader.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/contract/EmployeeContractInfo.js","../../../../../../js/api/search.js","../../../../../../js/api/phrasen.js","../../../../../../js/api/navigation.js","../../../../../../js/api/filter.js","../../../../../../js/api/studstatus.js","../../../../../../js/api/profil.js","../../../../../../js/api/profilUpdate.js","../../../../../../js/api/lvPlan.js","../../../../../../js/api/stv.js","../../../../../../js/api/stv/verband.js","../../../../../../js/api/stv/students.js","../../../../../../js/api/stv/filter.js","../../../../../../js/api/stv/konto.js","../../../../../../js/api/stv/group.js","../../../../../../js/api/stv/kontakt.js","../../../../../../js/api/stv/prestudent.js","../../../../../../js/api/stv/status.js","../../../../../../js/api/stv/details.js","../../../../../../js/api/stv/exam.js","../../../../../../js/api/stv/abschlusspruefung.js","../../../../../../js/api/stv/grades.js","../../../../../../js/api/stv/mobility.js","../../../../../../js/api/stv/archiv.js","../../../../../../js/api/stv/documents.js","../../../../../../js/api/stv/exemptions.js","../../../../../../js/api/stv/jointstudies.js","../../../../../../js/api/stv/courselist.js","../../../../../../js/api/notiz.js","../../../../../../js/api/notiz/person.js","../../../../../../js/api/betriebsmittel.js","../../../../../../js/api/betriebsmittel/person.js","../../../../../../js/api/ort.js","../../../../../../js/api/cms.js","../../../../../../js/api/lehre.js","../../../../../../js/api/addons.js","../../../../../../js/api/messages.js","../../../../../../js/api/messages/person.js","../../../../../../js/api/vorlagen.js","../../../../../../js/api/studium.js","../../../../../../js/api/fhcapifactory.js","../../../../../../js/api/dashboard.js","../../../../../../js/api/bookmark.js","../../../../../../js/api/ampeln.js","../../../../../../js/api/studiengang.js","../../../../../../js/api/menu.js","../../../../../../js/api/authinfo.js","../../../../../../js/api/language.js","../../../../../../js/plugin/OldFhcApi.js","../../../../../../js/RESTClient.js","../../../../../../js/plugins/FhcAlert.js","../../../../../../js/plugins/Api.js","../../../../../../js/api/factory/phrasen.js","../../../../../../js/plugins/Phrasen.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/apps/Handyverwaltung/Handyverwaltung.js","../../../../../../js/components/Form/Upload/Image.js","../../../../../../js/components/Form/Upload/Dms.js","../../../../../../js/components/Form/Upload/Dms/Item.js"],"sourcesContent":["export default {\n\tupdatePersonUnrulyStatus(person_id, unrulyParam) {\n\n\t\ttry {\n\t\t\tconst payload = {person_id, unruly: unrulyParam}\n\t\t\tconst url = '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus';\n\t\t\treturn this.$fhcApi.post(url, payload, null);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t},\n\tfilterPerson(payload, base = ''){\n\n\t\ttry {\n\t\t\tconst url = base + '/api/frontend/v1/checkperson/CheckPerson/filterPerson';\n\t\t\treturn axios.post(url, payload)\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t}\n}","export default {\n    getGemeinden(plz) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getGemeinden',\n          params: { plz }\n        }\n    },\n    getOrtschaften(plz) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getOrtschaften',\n          params: { plz },\n        };\n    },\n    getContractExpire(year, month) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getContractExpire',\n          params: { year: year, month: month}\n        };\n    },\n    getContractNew(year, month) {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getContractNew',\n        params: { year: year, month: month}\n      };\n    },\n    getBirthdays(date) {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getBirthdays',\n        params: { date },\n      };\n    },\n    getCovidState(person_id, date) {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getCovidState',\n        params: { person_id: person_id, d: date},\n      };\n    },\n    getAllCourseHours(uid) {\n      return {\n        method: 'get',\n        url: `extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getAllCourseHours?uid=${uid}`,\n      };\n    },\n    getAllSupportHours(uid) {\n      return {\n        method: 'get',\n        url: `extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getAllSupportHours?uid=${uid}`,\n      };\n    },\n    // migrated from loader.js\n    getNations() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getNations',\n      }\n    },\n    getSachaufwandTyp() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getSachaufwandtyp',\n      }\n    },\n    getKontakttyp() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getKontakttyp',\n      }\n    },\n    getAdressentyp() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getAdressentyp',\n      }\n    },\n    getSprache() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getSprache',\n      }\n    },\n    getAusbildung() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getAusbildung',\n      }\n    },\n    getStandorteIntern() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getStandorteIntern',\n      }\n    },\n    getOrte() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getOrte',\n      }\n    },\n    getKarenztypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getKarenztypen',\n      }\n    },\n    getGehaltstypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getGehaltstypen',\n      }\n    },\n    getVertragsarten() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getVertragsarten',\n      }\n    },\n\n    getVertragsbestandteiltypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getVertragsbestandteiltypen',\n      }\n    },\n    getTeilzeittypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getTeilzeittypen',\n      }\n    },\n    getFreitexttypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getFreitexttypen',\n      }\n    },\n    getStundensatztypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getStundensatztypen',\n      }\n    },\n/*     getUnternehmen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getUnternehmen',\n      }\n    }, */\n}    \n","export default {\n  getUnternehmen() {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getUnternehmen',\n    }\n  },\n  getVertragsarten() {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getVertragsarten',\n    }\n  },\n  getDVByID(dvid) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/dvByID/' + dvid,\n    }\n  },\n  endDV(payload) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/endDV',\n      params: payload\n    }\n  },\n  deactivateDV(payload) {    \n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/deactivateDV',\n      params: payload\n    }\n  },\n  getDvEndeGruende() {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getDvEndeGruende',\n    }\n  }\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport const CoreFetchCmpt = {\n\temits: ['dataFetched'], // this component can emit the event dataFetched that it is catched by this component itself\n\tprops: {\n\t\trefresh: { // to refresh this component\n\t\t\ttype: Boolean\n\t\t},\n\t\tapiFunction: { // the function to call, must return a Promise\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\t\tapiFunctionParameters: {} // parameters for the apiFunction, type mixed, optional\n\t},\n\twatch: {\n\t\t/**\n\t\t * If the refresh property is changed then call fetchData\n\t\t */\n\t\trefresh: function (newValue, oldValue) {\n\t\t\tthis.fetchData();\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloading: false, // if in loading or not\n\t\t\terror: false, // if an error occurred while loading data\n\t\t\terrorMessage: null // the error message\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.fetchData();\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchData: function() {\n\t\t\tthis.loading = true; // loader started\n\t\t\tthis.error = false;\n\t\t\tthis.errorMessage = null;\n\n\t\t\t// Checks if the apifunction is a callable function\n\t\t\tif (typeof this.apiFunction == \"function\")\n\t\t\t{\n\t\t\t\t// Call the function stored in apiFunction\n\t        \t\tlet apiFunctionResult = this.apiFunction(this.apiFunctionParameters);\n\n\t\t\t\t// It is expected that the function returns a Promise\n\t\t\t\tif (apiFunctionResult instanceof Promise)\n\t\t\t\t{\n\t\t\t\t\tapiFunctionResult\n\t\t\t\t\t\t.then(this.successHandler) // on success\n\t\t\t\t\t\t.catch(this.errorHandler) // on error\n\t\t\t\t\t\t.finally(this.finallyHandler); // finally in any case\n\t\t\t\t}\n\t\t\t\telse // otherwise display an error\n\t\t\t\t{\n\t\t\t\t\tthis.setError(\"The called apiFunction does not return a Promise\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // otherwise display an error\n\t\t\t{\n\t\t\t\tthis.setError(\"Property apiFunction is not a function\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsetError: function(errorMessage) {\n\t\t\tthis.loading = false; // loading ended\n\t\t\tthis.error = true; // error occurred\n\t\t\tthis.errorMessage = errorMessage; // save the error message\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsuccessHandler: function(response) {\n\t\t\tthis.$emit('dataFetched', response ? response.data : undefined); // trigger the event dataFetched\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\terrorHandler: function(error) {\n\t\t\tif (error.response?.data?.retval)\n\t\t\t\tthis.setError(error.response.data.retval);\n\t\t\telse if (error.data?.message)\n\t\t\t\tthis.setError(error.data.message);\n\t\t\telse\n\t\t\t\tthis.setError(error.message);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfinallyHandler: function() {\n\t\t\tthis.loading = false; // loading ended\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot v-if=\"loading\" name=\"loading\">\n\t\t\t<div class=\"fetch-loader\">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if=\"error\" name=\"error\" :error-message=\"errorMessage\">\n\t\t\t<div class=\"fetch-error\">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t`\n};\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\temits: {\n\t\tswitchFilter: ['filterId'],\n\t\tapplyFilterConfig: ['filterFields'],\n\t\tsaveCustomFilter: ['customFilterName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentFields: []\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypes() {\n\t\t\treturn this.columns.reduce((a,c) => {\n\t\t\t\tlet type = c.type.toLowerCase();\n\t\t\t\tif (type.indexOf('int') >= 0)\n\t\t\t\t\ta[c.name] = 'Numeric';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('varchar') >= 0 || \n\t\t\t\t\ttype.indexOf('text') >= 0 || \n\t\t\t\t\ttype.indexOf('bpchar') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Text';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('timestamp') >= 0 || \n\t\t\t\t\ttype.indexOf('date') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Date';\n\t\t\t\telse\n\t\t\t\t\ta[c.name] = '';\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t}\n\t},\n\twatch: {\n\t\tfields(n) {\n\t\t\tthis.currentFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\tswitchFilter(evt) {\n\t\t\tthis.$emit('switchFilter', evt.currentTarget.value);\n\t\t},\n\t\tapplyFilterConfig() {\n\t\t\tconst filteredFields = this.currentFields.filter(el => el.name != FILTER_COMPONENT_NEW_FILTER);\n\t\t\tif (filteredFields.filter(el => el.condition == \"\").length)\n\t\t\t\talert(\"Please fill all the filter options\");\n\t\t\telse\n\t\t\t\tthis.$emit('applyFilterConfig', filteredFields);\n\t\t},\n\t\taddField(evt) {\n\t\t\tthis.currentFields.push({\n\t\t\t\tname: FILTER_COMPONENT_NEW_FILTER\n\t\t\t});\n\t\t},\n\t\tremoveField(index) {\n\t\t\tthis.currentFields.splice(index, 1);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-config\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div v-if=\"filters.length\" class=\"mb-4\">\n\t\t\t\t\t<select class=\"form-select\" @change=\"switchFilter\">\n\t\t\t\t\t\t<option value=\"\">Bitte auswählen...</option>\n\t\t\t\t\t\t<option v-for=\"filter in filters\" :value=\"filter.id\">\n\t\t\t\t\t\t\t{{ filter.description }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=addField>\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span> Neuer Filter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter-config-fields my-3\">\n\t\t\t\t\t<div v-for=\"(filterField, index) in currentFields\" class=\"filter-config-field row\">\n\n\t\t\t\t\t\t<div class=\"col-5\">\n\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">Filter {{ index + 1 }}</span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\t\t\t\tv-model=\"filterField.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Feld zum Filter hinzufügen...</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"col in columns\" :value=\"col.name\">\n\t\t\t\t\t\t\t\t\t\t{{ col.title }}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Numeric -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Numeric'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Text'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"contains\">Enthält</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ncontains\">Enthält nicht</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Timestamp and date -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Date'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"set\">Eingestellt ist</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nset\">Eingestellt nicht ist</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-1\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.option\">\n\t\t\t\t\t\t\t\t\t<option value=\"minutes\">Minuten</option>\n\t\t\t\t\t\t\t\t\t<option value=\"hours\">Stunden</option>\n\t\t\t\t\t\t\t\t\t<option value=\"days\">Tage</option>\n\t\t\t\t\t\t\t\t\t<option value=\"months\">Monate</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"col text-end\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-dark\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"removeField(index)\"\n\t\t\t\t\t\t\t\ttitle=\"Filter entfernen\"\n\t\t\t\t\t\t\t\taria-title=\"Filter entfernen\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fa-solid fa-minus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Filter save options -->\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-7\">\n\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t<input ref=\"filterName\" type=\"text\" class=\"form-control\" placeholder=\"Filternamen eingeben...\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"$emit('saveCustomFilter', $refs.filterName.value)\">Filter speichern</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" @click=\"applyFilterConfig\">Filter anwenden</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfields: Array,\n\t\tselected: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tnames: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t}\n\t},\n\temits: {\n\t\thide: ['fieldName'],\n\t\tshow: ['fieldName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tselectedFields: []\n\t\t};\n\t},\n\twatch: {\n\t\tselected(n) {\n\t\t\tthis.selectedFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle(field) {\n\t\t\tif (this.selectedFields.indexOf(field) != -1)\n\t\t\t{\n\t\t\t\tthis.selectedFields.splice(this.selectedFields.indexOf(field), 1);\n\t\t\t\tthis.$emit('hide', field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedFields.push(field);\n\t\t\t\tthis.$emit('show', field);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-columns\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"d-flex flex-wrap gap-2 p-3 justify-content-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"fieldToDisplay in fields\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:class=\"selectedFields.indexOf(fieldToDisplay) != -1 ? 'btn-dark' : 'btn-outline-dark' \"\n\t\t\t\t\t@click=\"toggle(fieldToDisplay)\"\n\t\t\t\t>\n\t\t\t\t\t{{ names[fieldToDisplay] || fieldToDisplay }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst DEFAULT_ICONS = {\n\tjsonLines: 'fa-file-lines',\n\txlsx: 'fa-file-excel',\n\tpdf: 'fa-file-pdf',\n\thtml: 'fa-file-code',\n\tjson: 'fa-file',\n\tcsv: 'fa-file-csv'\n};\nconst DEFAULT_LABELS = {\n\tjsonLines: 'Download as JSONLINES',\n\txlsx: 'Download as XLSX',\n\tpdf: 'Download as PDF',\n\thtml: 'Download as HTML',\n\tjson: 'Download as JSON',\n\tcsv: 'Download as CSV '\n};\n\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\ttabulator: Object,\n\t\tconfig: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\ticonClass: [String, Array, Object]\n\t},\n\tcomputed: {\n\t\tcurrentConfig() {\n\t\t\tif (!this.config)\n\t\t\t\treturn false;\n\n\t\t\tlet config = this.config;\n\n\t\t\tif (config instanceof Function)\n\t\t\t\treturn [config];\n\n\t\t\tif (config === null)\n\t\t\t\treturn [];\n\n\t\t\tif (this.config === true)\n\t\t\t\tconfig = ['csv'];\n\n\t\t\tif (Object.prototype.toString.call(config) === \"[object String]\")\n\t\t\t\tconfig = config.split(',');\n\n\t\t\tif (typeof config === 'object' && !Array.isArray(config)) {\n\t\t\t\tlet newConfig = [];\n\t\t\t\tfor (var k in config) {\n\t\t\t\t\tvar v = config[k], type;\n\t\t\t\t\t\n\t\t\t\t\tif (!v)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\n\t\t\t\t\tif (Object.prototype.toString.call(v) === \"[object String]\") {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(v);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: v === k ? DEFAULT_LABELS[type] : k,\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\t\tif(type !== null) {\n\t\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\t\tlabel: v,\n\t\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('neither ' + k + ' nor ' + v + ' are supported download file types');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof v === 'object' && !Array.isArray(v)) {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tif (v.formatter === undefined)\n\t\t\t\t\t\t\t\tv.formatter = type;\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = DEFAULT_LABELS[type];\n\t\t\t\t\t\t\tif (v.icon === undefined)\n\t\t\t\t\t\t\t\tv.icon = DEFAULT_ICONS[type];\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = k;\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[type],\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(k + ' is not a supported download file type');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconfig = newConfig;\n\t\t\t}\n\n\t\t\tif (Array.isArray(config))\n\t\t\t{\n\t\t\t\tconfig = config.map(el => {\n\t\t\t\t\tif (Object.prototype.toString.call(el) === \"[object String]\") {\n\t\t\t\t\t\tlet formatter = this.stringToFileFormatter(el);\n\t\t\t\t\t\tif (formatter === null)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[formatter],\n\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[formatter],\n\t\t\t\t\t\t\tformatter\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (el instanceof Function)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tformatter: el\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (typeof el === 'object' && !Array.isArray(el) && el !== null) {\n\t\t\t\t\t\tif (el.formatter instanceof Function)\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\tif (this.validateFileFormatter(el.formatter))\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(el => el !== null);\n\n\t\t\t\tif (config.length < 2)\n\t\t\t\t\treturn config;\n\n\t\t\t\tif (config.filter(el => el.label || el.icon).length == config.length)\n\t\t\t\t\treturn config;\n\n\t\t\t\talert('Config not valid');\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n\tmethods: {\n\t\tstringToFileFormatter(input) {\n\t\t\tlet lcInput = input.toLowerCase();\n\t\t\t\n\t\t\tif (lcInput == 'jsonlines')\n\t\t\t\treturn 'jsonLines';\n\t\t\t\n\t\t\tif (['xlsx', 'pdf', 'html', 'json', 'csv'].includes(lcInput))\n\t\t\t\treturn lcInput;\n\n\t\t\treturn null;\n\t\t},\n\t\tvalidateFileFormatter(input) {\n\t\t\tlet formatter = this.stringToFileFormatter(input);\n\t\t\tif (!formatter) {\n\t\t\t\talert(input + ' is not a supported file formatter');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (formatter == 'xlsx') {\n\t\t\t\tif (!window.XLSX) {\n\t\t\t\t\talert('XLSX Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (formatter == 'pdf') {\n\t\t\t\tif (!window.jspdf) {\n\t\t\t\t\talert('jsPDF Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar doc = new jspdf.jsPDF({});\n\t\t\t\tif (!doc.autoTable) {\n\t\t\t\t\talert('jsPDF-AutoTable Plugin not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdownload(config) {\n\t\t\tthis.tabulator.download(config.formatter, config.file, config.options)\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"currentConfig\">\n\t\t<template v-if=\"currentConfig.length == 1\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\t@click.prevent=\"download(currentConfig[0])\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t</template>\n\t\t<div v-else class=\"dropdown d-inline\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\trole=\"button\"\n\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t\t<li v-for=\"(conf, i) in currentConfig\" :key=\"i\">\n\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" @click.prevent=\"download(conf)\">\n\t\t\t\t\t\t<span v-if=\"conf.icon\" :class=\"conf.icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{conf.label}}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</template>\n\t`\n};\n\n","const elementDataMap = new WeakMap();\n\nexport default {\n\tmounted(el, binding) {\n\t\tlet open = false;\n\t\telementDataMap.set(el, evt => {\n\t\t\tif (!open)\n\t\t\t\treturn;\n\n\t\t\tif (el.contains(evt.target))\n\t\t\t\treturn;\n\n\t\t\tconst collapse = bootstrap.Collapse.getInstance(el)\n\t\t\tif (collapse)\n\t\t\t\tcollapse.hide();\n\t\t});\n\t\tel.addEventListener('shown.bs.collapse', () => {\n\t\t\topen = true;\n\t\t});\n\t\tel.addEventListener('hide.bs.collapse', () => {\n\t\t\topen = false;\n\t\t});\n\t\tdocument.addEventListener('click', elementDataMap.get(el), true);\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tdocument.removeEventListener('click', elementDataMap.get(el));\n\t\tdelete el.collapsibleAutoHideFunc;\n\t}\n}","/**\n * This may need changes if Tabulator gets updated!\n *\n * Current working Version: 5.5.2\n * \n * This is a copy of the fitDataStretch function. The only difference\n * is the check for frozen columns on line 22.\n */\n\nexport default window.Tabulator?.extendModule(\"layout\", \"modes\", {\n\tfitDataStretchFrozen(columns, forced) {\n\t\tvar colsWidth = 0,\n\t\ttableWidth = this.table.rowManager.element.clientWidth,\n\t\tgap = 0,\n\t\tlastCol = false;\n\n\t\tcolumns.forEach((column, i) => {\n\t\t\tif (!column.widthFixed) {\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible && !column.definition.frozen) {\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol){\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tlastCol.setWidth(0);\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/saveCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t};\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/applyFilterFields',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t};\n\t},\n\taddFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/addFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tgetFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport FilterConfig from './Filter/Config.js';\nimport FilterColumns from './Filter/Columns.js';\nimport TableDownload from './Table/Download.js';\nimport collapseAutoClose from '../../directives/collapseAutoClose.js';\n\nimport moduleLayoutFitDataStretchFrozen from '../../tabulator/layouts/fitDataStretchFrozen.js';\n\nimport ApiFilter from '../../api/factory/filter.js';\n\n//\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\nconst FILTER_COMPONENT_NEW_FILTER_TYPE = 'Filter Component New Filter Type';\n\nvar _uuid = 0;\n\n/**\n *\n */\nexport const CoreFilterCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt,\n\t\tFilterConfig,\n\t\tFilterColumns,\n\t\tTableDownload\n\t},\n\tdirectives: {\n\t\tcollapseAutoClose\n\t},\n\temits: [\n\t\t'nwNewEntry',\n\t\t'click:new',\n\t\t'tableBuilt',\n\t\t'uuidDefined'\n\t],\n\tprops: {\n\t\tonNwNewEntry: Function, // NOTE(chris): Hack to get the nwNewEntry listener into $props\n\t\ttitle: String,\n\t\tdescription: String,\n\t\tsideMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tfilterType: {\n\t\t\ttype: String\n\t\t},\n\t\ttabulatorOptions: Object,\n\t\ttabulatorEvents: Array,\n\t\ttableOnly: Boolean,\n\t\tnoColumnFilter:Boolean,\n\t\treload: Boolean,\n\t\treloadBtnInfotext: String,\n\t\tdownload: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\tnewBtnShow: Boolean,\n\t\tnewBtnClass: [String, Array, Object],\n\t\tnewBtnDisabled: Boolean,\n\t\tnewBtnLabel: String,\n\t\tuniqueId: String,\n\n\t\tidField: String,\n\t\tparentIdField: String,\n\t\tcountOnly: Boolean,\n\t\tuseSelectionSpan: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tuuid: 0,\n\t\t\t// FilterCmpt properties\n\t\t\tfilterName: null,\n\t\t\tfilterActive: false,\n\t\t\tfields: null,\n\t\t\tdataset: null,\n\t\t\tdatasetMetadata: null,\n\t\t\tselectedFields: null,\n\t\t\tfilterFields: null,\n\n\t\t\tavailableFilters: null,\n\t\t\tselectedFilter: null,\n\n\t\t\t// FetchCmpt binded properties\n\t\t\tfetchCmptRefresh: false,\n\t\t\tfetchCmptApiFunction: null,\n\t\t\tfetchCmptApiFunctionParams: null,\n\t\t\tfetchCmptDataFetched: null,\n\n\t\t\tfetchResult: null,\n\n\t\t\ttabulator: null,\n\t\t\ttableBuilt: false,\n\t\t\ttabulatorHasSelector: false,\n\t\t\tselectedData: [],\n\t\t\tpersistence: {\n\t\t\t\tsort: true,\n\t\t\t\tcolumns: true,\n\t\t\t\tfilter: false,\n\t\t\t\theaderFilter: false,\n\t\t\t\tgroup: false,\n\t\t\t\tpage: false,\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotSelectedFields() {\n\t\t\tif (!this.fields || !this.selectedFields)\n\t\t\t\treturn null;\n\t\t\treturn this.fields.filter(x => this.selectedFields.indexOf(x) === -1)\n\t\t},\n\t\tfilteredData() {\n\t\t\tif (!this.dataset)\n\t\t\t\treturn [];\n\t\t\treturn JSON.parse(JSON.stringify(this.dataset));\n\t\t},\n\t\tfilteredColumns() {\n\t\t\tlet fields = JSON.parse(JSON.stringify(this.fields)) || [];\n\t\t\tlet selectedFields = JSON.parse(JSON.stringify(this.selectedFields)) || [];\n\n\t\t\tlet columns = null;\n\n\t\t\t// If the tabulator options has been provided and it contains the property columns\n\t\t\tif (this.tabulatorOptions && this.tabulatorOptions.hasOwnProperty('columns'))\n\t\t\t\tcolumns = this.tabulatorOptions.columns;\n\n\t\t\t// If columns is not an array or it is an array with less elements then the array fields\n\t\t\tif (!Array.isArray(columns) || (Array.isArray(columns) && columns.length < fields.length))\n\t\t\t{\n\t\t\t\tcolumns = []; // set it as an empty array\n\n\t\t\t\t// Loop throught all the retrieved columns from database\n\t\t\t\tfor (let field of fields)\n\t\t\t\t{\n\t\t\t\t\t// Create a new column having the title equal to the field name\n\t\t\t\t\tlet column = {\n\t\t\t\t\t\ttitle: field,\n\t\t\t\t\t\tfield: field\n\t\t\t\t\t};\n\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\tcolumn.visible = selectedFields.indexOf(field) >= 0;\n\n\t\t\t\t\t// Add the new column to the list of columns\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // the property columns has been provided in the tabulator options\n\t\t\t{\n\t\t\t\t// Loop throught the property columns of the tabulator options\n\t\t\t\tfor (let col of columns)\n\t\t\t\t{\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\t/* fields.indexOf(col.field) == -1; ensures displaying formatter colums\n\t\t\t\t\te.g. column with rowSelection checkboxes or with custom formatted action buttons */\n\t\t\t\t\tcol.visible = selectedFields.indexOf(col.field) >= 0 || fields.indexOf(col.field) == -1;\n\n\t\t\t\t\tif (col.hasOwnProperty('resizable'))\n\t\t\t\t\t\tcol.resizable = col.visible;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn columns;\n\t\t},\n\t\tfieldIdsForVisibilty() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn [];\n\t\t\treturn this.tabulator.getColumns().filter(col => {\n\t\t\t\tlet def = col.getDefinition();\n\t\t\t\treturn !def.frozen && def.title && def.formatter != \"responsiveCollapse\";\n\t\t\t}).map(col => col.getField());\n\t\t},\n\t\tfieldNames() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn {};\n\t\t\treturn this.tabulator.getColumns().reduce((res, col) => {\n\t\t\t\tres[col.getField()] = col.getDefinition().title;\n\t\t\t\treturn res;\n\t\t\t}, {});\n\t\t},\n\t\tidExtra() {\n\t\t\tif (!this.uuid)\n\t\t\t\treturn '';\n\t\t\treturn '-' + this.uuid;\n\t\t},\n\t\tcolumnsForFilter() {\n\t\t\tif (!this.filteredColumns || !this.datasetMetadata)\n\t\t\t\treturn [];\n\t\t\tconst filterTitles = this.filteredColumns.reduce((a,c) => {\n\t\t\t\ta[c.field] = c.title;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\treturn this.datasetMetadata.map(el => ({...el, ...{title: filterTitles[el.name]}}));\n\t\t}\n\t},\n\tmethods: {\n\t\treloadTable() {\n\t\t\tif (this.tableOnly)\n\t\t\t\tthis.tabulator.setData();\n\t\t\telse\n\t\t\t\tthis.getFilter();\n\t\t},\n\t\tasync initTabulator() {\n\t\t\tlet placeholder = '< Phrasen Plugin not loaded! >';\n\t\t\tif (this.$p) {\n\t\t\t\tawait this.$p.loadCategory('ui');\n\t\t\t\tplaceholder = this.$p.t('ui/keineDatenVorhanden');\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\t// prefetch data to get fields & selectedFields for filteredColumns & filteredData\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tconst filterId = window.location.hash ? window.location.hash.slice(1) : null;\n\n\t\t\t\t\tconst resolvePromiseFunc = data => {\n\t\t\t\t\t\tthis.setRenderData(data);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\t\t\t\t\t// get the filter data\n\t\t\t\t\tif (filterId === null)\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t\t\t{ filterId },\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Define a default tabulator options in case it was not provided\n\t\t\tlet tabulatorOptions = {...{\n\t\t\t\t\tlayout: \"fitDataStretchFrozen\",\n\t\t\t\t\tmovableColumns: true,\n\t\t\t\t\tcolumnDefaults:{\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tpersistence: this.persistence,\n\t\t\t\t}, ...(this.tabulatorOptions || {})};\n\n\t\t\t// set default height if no height property is set\n\t\t\tif (tabulatorOptions.height === undefined &&\n\t\t\t\ttabulatorOptions.minHeight === undefined &&\n\t\t\t\ttabulatorOptions.maxHeight === undefined) {\n\t\t\t\ttabulatorOptions.height = 500;\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\ttabulatorOptions.data = this.filteredData;\n\t\t\t\ttabulatorOptions.columns = this.filteredColumns;\n\t\t\t} else {\n\t\t\t\ttabulatorOptions.columns.forEach(col => {\n\t\t\t\t\tif (col.visible === undefined)\n\t\t\t\t\t\tcol.visible = true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tabulatorOptions.selectable || (tabulatorOptions.columns && tabulatorOptions.columns.filter(el => el.formatter == 'rowSelection').length))\n\t\t\t\tthis.tabulatorHasSelector = true;\n\n\t\t\tif (this.idField) {\n\t\t\t\t// enable nested tabulator if parent Id given\n\t\t\t\tif (this.parentIdField) tabulatorOptions.dataTree = true;\n\t\t\t\t// set tabulator index\n\t\t\t\ttabulatorOptions.index = this.idField;\n\t\t\t}\n\n\t\t\t// Start the tabulator with the build options\n\t\t\tthis.tabulator = new Tabulator(\n\t\t\t\tthis.$refs.table,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n\t\t\t// If event handlers have been provided\n\t\t\tif (Array.isArray(this.tabulatorEvents) && this.tabulatorEvents.length > 0)\n\t\t\t{\n\t\t\t\t// Attach all the provided event handlers to the started tabulator\n\t\t\t\tfor (let evt of this.tabulatorEvents)\n\t\t\t\t\tthis.tabulator.on(evt.event, evt.handler);\n\t\t\t}\n\t\t\tthis.tabulator.on('tableBuilt', () => {this.tableBuilt = true; this.$emit('tableBuilt');});\n\t\t\tthis.tabulator.on(\"rowSelectionChanged\", data => {\n\t\t\t\tthis.selectedData = data;\n\t\t\t});\n\n\t\t\t// if nested tabulator, restructure data\n\t\t\tif (this.parentIdField && this.idField) {\n\t\t\t\tthis.tabulator.on(\"dataLoading\", data => {\n\t\t\t\t\tlet toDelete = [];\n\n\t\t\t\t\t// loop through all data\n\t\t\t\t\tfor (let childIdx = 0; childIdx < data.length; childIdx++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet child = data[childIdx];\n\n\t\t\t\t\t\t// if it has parent id, it is a child\n\t\t\t\t\t\tif (child[this.parentIdField])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// append the child on the right place. If parent found, mark original sw child on 0 level for deleting\n\t\t\t\t\t\t\tif (this.appendChild(data, child)) toDelete.push(childIdx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete the marked children from 0 level\n\t\t\t\t\tfor (let counter = 0; counter < toDelete.length; counter++)\n\t\t\t\t\t{\n\t\t\t\t\t\t// decrease index by counter as index of data array changes after every deletion\n\t\t\t\t\t\tdata.splice(toDelete[counter] - counter, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.tableOnly) {\n\t\t\t\tthis.tabulator.on('tableBuilt', () => {\n\t\t\t\t\tconst cols = this.tabulator.getColumns();\n\t\t\t\t\tthis.fields = cols.map(col => col.getField());\n\t\t\t\t\tthis.selectedFields = cols.filter(col => col.isVisible()).map(col => col.getField());\n\t\t\t\t\tif (this.tabulator.options.persistence.headerFilter)\n\t\t\t\t\t\tthis._setHeaderFilter();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.tabulator.on(\"dataFiltered\", filters => {\n\t\t\t\tthis.filterActive = filters.length > 0;\n\t\t\t});\n\t\t},\n\t\tupdateTabulator() {\n\t\t\tif (this.tabulator) {\n\t\t\t\tif (this.tableBuilt)\n\t\t\t\t\tthis._updateTabulator();\n\t\t\t\telse\n\t\t\t\t\tthis.tabulator.on('tableBuilt', this._updateTabulator);\n\t\t\t}\n\t\t},\n\t\t_updateTabulator() {\n\t\t\tthis.tabulatorHasSelector = this.tabulatorOptions.selectable || this.filteredColumns.filter(el => el.formatter == 'rowSelection').length;\n\t\t\tthis.tabulator.setColumns(this.filteredColumns);\n\t\t\tthis.tabulator.setData(this.filteredData);\n\t\t\tthis._setHeaderFilter()\n\t\t},\n\t\tclearFilters()\n\t\t{\n\t\t\tlet existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, \"\");\n\t\t\t});\n\t\t\tthis.tabulator.clearFilter();\n\t\t\tthis.filterActive = false;\n\t\t},\n\t\t_setHeaderFilter()\n\t\t{\n\t\t\tconst existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, filter.value);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetFilter() {\n\t\t\tif (this.selectedFilter === null)\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t{\n\t\t\t\t\t\tfilterId: this.selectedFilter\n\t\t\t\t\t},\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t},\n\t\tsetRenderData(data) {\n\t\t\tthis.fetchResult = data;\n\t\t\tthis.filterName = data.filterName;\n\t\t\tthis.dataset = data.dataset;\n\t\t\tthis.datasetMetadata = data.datasetMetadata;\n\n\t\t\tthis.fields = data.fields;\n\t\t\tthis.selectedFields = data.selectedFields;\n\t\t\tthis.filterFields = [];\n\n\t\t\tfor (let i = 0; i < data.datasetMetadata.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < data.filters.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (data.datasetMetadata[i].name == data.filters[j].name)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet filter = data.filters[j];\n\t\t\t\t\t\tfilter.type = data.datasetMetadata[i].type;\n\n\t\t\t\t\t\tthis.filterFields.push(filter);\n\t\t\t\t\t\t//break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\trender(response) {\n\t\t\tlet data = response;\n\n\t\t\tthis.setRenderData(data);\n\n\t\t\t// If the side menu is active\n\t\t\tif (this.sideMenu === true)\n\t\t\t{\n\t\t\t\tthis.setSideMenu(data);\n\t\t\t}\n\t\t\telse // otherwise use the dropdown in the filter options\n\t\t\t{\n\t\t\t\tthis.setDropDownMenu(data);\n\t\t\t}\n\t\t\tthis.updateTabulator();\n\t\t},\n\t\t/**\n\t\t * Set the menu\n\t\t */\n\t\tsetSideMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc,\n\t\t\t\t\tsubscriptDescription: personalFilters[filtersCount].subscriptDescription,\n\t\t\t\t\tsubscriptLinkClass: personalFilters[filtersCount].subscriptLinkClass,\n\t\t\t\t\tsubscriptLinkValue: personalFilters[filtersCount].subscriptLinkValue,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById,\n\t\t\t\t\tonClickSubscriptCall: this.handlerRemoveCustomFilter\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\n\t\t\tthis.$emit(\n\t\t\t\t'nwNewEntry',\n\t\t\t\t{\n\t\t\t\t\tlink: \"#\",\n\t\t\t\t\tdescription: \"Filters\",\n\t\t\t\t\ticon: \"filter\",\n\t\t\t\t\tchildren: filtersArray\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Set the drop down menu\n\t\t */\n\t\tsetDropDownMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\toption: filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\toption: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\t\t},\n\t\t/**\n\t\t * Used to start/refresh the FetchCmpt\n\t\t */\n\t\tstartFetchCmpt(apiFunction, apiFunctionParameters, dataFetchedCallback) {\n\t\t\t// Assign the function api of the FetchCmpt binded property\n\t\t\tthis.fetchCmptApiFunction = apiFunction;\n\n\t\t\t// In case a null value is provided set the parameters as an empty object\n\t\t\tif (apiFunctionParameters == null) apiFunctionParameters = {};\n\n\t\t\t// Always needed parameters\n\t\t\tapiFunctionParameters.filterUniqueId = FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t\tapiFunctionParameters.filterType = this.filterType;\n\n\t\t\tif (this.uniqueId)\n\t\t\t\tapiFunctionParameters.filterUniqueId += '_' + this.uniqueId;\n\n\t\t\t// Assign parameters to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptApiFunctionParams = apiFunctionParameters;\n\t\t\t// Assign data fetch callback to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptDataFetched = dataFetchedCallback;\n\t\t\t// Set the FetchCmpt binded property refresh to have the component to refresh\n\t\t\t// NOTE: this should be the last one to be called because it triggers the FetchCmpt to start to refresh\n\t\t\tthis.fetchCmptRefresh === true ? this.fetchCmptRefresh = false : this.fetchCmptRefresh = true;\n\t\t},\n\n\t\t// ------------------------------------------------------------------------------------------------------------------\n\t\t// Event handlers\n\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerSaveCustomFilter(customFilterName) {\n\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.saveCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tcustomFilterName\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerRemoveCustomFilter(event) {\n\t\t\tlet filterId = event.currentTarget.getAttribute(\"href\").substring(1);\n\t\t\tif (filterId === this.selectedFilter)\n\t\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.removeCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterId: filterId\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t/*\n\t\t *\n\t\t */\n\t\thandlerGetFilterById: function(event) {\n\n\t\t\tlet filterId = null;\n\n\t\t\t// Get the attribute href if side menu is rendered\n\t\t\tlet attr = event.currentTarget.getAttribute(\"href\");\n\n\t\t\t// Otherwise get the value of the drop down menu\n\t\t\tif (attr == null)\n\t\t\t{\n\t\t\t\tfilterId = event.currentTarget.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfilterId = attr.substring(1);\n\t\t\t}\n\n\t\t\tthis.switchFilter(filterId);\n\t\t},\n\t\tswitchFilter(filterId) {\n\t\t\tthis.selectedFilter = filterId;\n\t\t\tthis.getFilter();\n\t\t},\n\t\tapplyFilterConfig(filterFields) {\n\t\t\tthis.selectedFilter = null;\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.applyFilterFields(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterFields\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t// append child to it's parent\n\t\tappendChild(data, child) {\n\t\t\t// get parent id\n\t\t\tlet parentId = child[this.parentIdField];\n\n\t\t\t// loop thorugh all data\n\t\t\tfor (let parentIdx = 0; parentIdx < data.length; parentIdx++)\n\t\t\t{\n\t\t\t\tlet parent = data[parentIdx];\n\n\t\t\t\t// if it's the parent\n\t\t\t\tif (parent[this.idField] == parentId)\n\t\t\t\t{\n\t\t\t\t\t// create children array if not done yet\n\t\t\t\t\tif (!parent._children) parent._children = [];\n\n\t\t\t\t\t// if child is not included in children array, append the child\n\t\t\t\t\tif (!parent._children.includes(child)) parent._children.push(child);\n\n\t\t\t\t\t// parent found\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// search children for parents\n\t\t\t\telse if (parent._children) this.appendChild(parent._children, child);\n\t\t\t}\n\n\t\t\t// parent not found\n\t\t\treturn false;\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tif (!this.tableOnly == !this.filterType)\n\t\t\talert('You can not have a filter-type in table-only mode!');\n\t},\n\tcreated() {\n\t\tif (this.sideMenu && (!this.$props.onNwNewEntry || !(this.$props.onNwNewEntry instanceof Function)))\n\t\t\talert('\"nwNewEntry\" listener is mandatory when sideMenu is true');\n\t\tthis.uuid = _uuid++;\n\t\tthis.$emit('uuidDefined', this.uuid)\n\t},\n\tmounted() {\n\t\tthis.initTabulator().then(() => {\n\t\t\tif (!this.tableOnly) {\n\t\t\t\tthis.selectedFilter = window.location.hash ? window.location.hash.slice(1) : null;\n\t\t\t\tthis.render(this.fetchResult);\n\t\t\t}\n\t\t});\n\n\t},\n\ttemplate: `\n\t\t<!-- Load filter data -->\n\t\t<core-fetch-cmpt\n\t\t\tv-if=\"!tableOnly && fetchCmptApiFunction\"\n\t\t\tv-bind:api-function=\"fetchCmptApiFunction\"\n\t\t\tv-bind:api-function-parameters=\"fetchCmptApiFunctionParams\"\n\t\t\tv-bind:refresh=\"fetchCmptRefresh\"\n\t\t\t@data-fetched=\"fetchCmptDataFetched\">\n\t\t</core-fetch-cmpt>\n\n\t\t<div class=\"row\" v-if=\"title != null && title != ''\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<h3 class=\"page-header mt-1 mb-4\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"'filterCollapsables' + idExtra\">\n\n\t\t\t<div class=\"d-flex flex-row justify-content-between flex-wrap\">\n\t\t\t\t<div v-if=\"newBtnShow || reload || $slots.search || $slots.actions\" class=\"d-flex gap-2 align-items-baseline flex-wrap\">\n\t\t\t\t\t<button v-if=\"newBtnShow\" class=\"btn btn-primary\" :class=\"newBtnClass\" :title=\"newBtnLabel ? undefined : 'New'\" :aria-label=\"newBtnLabel ? undefined : 'New'\" @click=\"$emit('click:new', $event)\" :disabled=\"newBtnDisabled\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{ newBtnLabel }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"reload\" class=\"btn btn-outline-secondary\" aria-label=\"Reload\" @click=\"reloadTable\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-rotate-right\" aria-hidden=\"true\"  :title=\"reloadBtnInfotext ? reloadBtnInfotext : 'Reload'\" ></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span v-if=\"$slots.actions && tabulatorHasSelector && useSelectionSpan\">\n\t\t\t\t\t\t<span v-if=\"countOnly\">{{ selectedData.length }} ausgewählt</span>\n\t\t\t\t\t\t<span v-else id=\"selected-info-text\"> Mit {{ selectedData.length }} ausgewählten:</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<slot name=\"actions\" v-bind=\"{selected: tabulatorHasSelector ? selectedData : []}\"></slot>\n\t\t\t\t\t<slot name=\"search\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-1 align-items-baseline flex-grow-1 justify-content-end\">\n\t\t\t\t\t<span v-if=\"!tableOnly\">[ {{ filterName }} ]</span>\n\t\t\t\t\t<span v-else-if=\"description\" v-html=\"description\"></span>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"!tableOnly || $slots.filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseFilters' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"filterActive\"  class=\"btn btn-link px-0 fhc-text\" :title=\"$p.t('ui','filterdelete')\" @click=\"clearFilters\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter-circle-xmark\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseColumns' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-table-columns\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<table-download class=\"btn btn-link px-0 fhc-text\" :tabulator=\"tabulator\" :config=\"download\"></table-download>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<filter-columns\n\t\t\t\t:id=\"'collapseColumns' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:fields=\"fieldIdsForVisibilty\"\n\t\t\t\t:selected=\"selectedFields\"\n\t\t\t\t:names=\"fieldNames\"\n\t\t\t\t@hide=\"tabulator.hideColumn($event)\"\n\t\t\t\t@show=\"tabulator.showColumn($event)\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-columns>\n\n\t\t\t<filter-config\n\t\t\t\tv-if=\"!tableOnly\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:filters=\"!sideMenu ? (availableFilters || []) : []\"\n\t\t\t\t:columns=\"columnsForFilter\"\n\t\t\t\t:fields=\"filterFields || []\"\n\t\t\t\t@switch-filter=\"switchFilter\"\n\t\t\t\t@apply-filter-config=\"applyFilterConfig\"\n\t\t\t\t@save-custom-filter=\"handlerSaveCustomFilter\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-config>\n\t\t\t<div\n\t\t\t\tv-else-if=\"$slots.filter\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t\t>\n\t\t\t\t<slot name=\"filter\"></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tabulator -->\n\t\t<div ref=\"table\" :id=\"'filterTableDataset' + idExtra\" class=\"filter-table-dataset\"></div>\n\t`\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/header',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t},\n\tgetMenu(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/menu',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport ApiNavigation from '../../api/factory/navigation.js';\n\n/**\n *\n */\nexport const CoreNavigationCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt\n\t},\n\tprops: {\n\t\taddHeaderMenuEntries: Object, // property used to add new header menu entries from another app/component\n\t\taddSideMenuEntries: Object, // property used to add new side menu entries from another app/component\n\t\thideTopMenu: Boolean,\n\t\tleftNavCssClasses: {\n\t\t\ttype: String,\n\t\t\tdefault: 'navbar navbar-left-side'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\theaderMenu: {}, // header menu entries\n\t\t\tsideMenu: {} // side menu entries\n\t\t};\n\t},\n\tcomputed: {\n\t\t/**\n\t\t *\n\t\t */\n\t\theaderMenuEntries() {\n\t\t\t//\n\t\t\tlet hm = this.headerMenu ? {...this.headerMenu} : {};\n\t\t\tif (this.headerMenu != null && this.addHeaderMenuEntries != null && Object.keys(this.addHeaderMenuEntries).length > 0)\n\t\t\t{\n\t\t\t\thm[this.addHeaderMenuEntries.description] = this.addHeaderMenuEntries;\n\t\t\t}\n\t\t\treturn hm;\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsideMenuEntries() {\n\t\t\t//\n\t\t\tlet sm = this.sideMenu ? {...this.sideMenu} : {};\n\t\t\tif (this.sideMenu != null && this.addSideMenuEntries != null && Object.keys(this.addSideMenuEntries).length > 0)\n\t\t\t{\n\t\t\t\tsm[this.addSideMenuEntries.description] = this.addSideMenuEntries;\n\t\t\t}\n\t\t\treturn sm;\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetNavigationPage() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptApiFunctionHeader() {\n\t\t\treturn this.$api.call(ApiNavigation.getHeader(this.getNavigationPage()))\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptApiFunctionSideMenu() {\n\t\t\treturn this.$api.call(ApiNavigation.getMenu(this.getNavigationPage()))\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptDataFetchedHeader(data) {\n\t\t\tthis.headerMenu = data || {};\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptDataFetchedMenu(data) {\n\t\t\tthis.sideMenu = data || {};\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetDataBsToggle(header) {\n\t\t\treturn !header.children ? null : 'dropdown';\n\t\t}\n\t},\n\ttemplate: `\n\t\t<!-- Load head menu -->\n\t\t<core-fetch-cmpt v-bind:api-function=\"fetchCmptApiFunctionHeader\" @data-fetched=\"fetchCmptDataFetchedHeader\"></core-fetch-cmpt>\n\t\t<!-- Load side menu -->\n\t\t<core-fetch-cmpt v-bind:api-function=\"fetchCmptApiFunctionSideMenu\" @data-fetched=\"fetchCmptDataFetchedMenu\"></core-fetch-cmpt>\n\n\t\t<!-- Top menu -->\n\t\t<nav class=\"navbar navbar-expand-lg navbar-header\" v-if=\"!hideTopMenu\">\n\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t<!-- 1st level -->\n\t\t\t\t<template v-for=\"header in headerMenuEntries\">\n\t\t\t\t\t<li class=\"nav-item dropdown\">\n\t\t\t\t\t\t<a class=\"nav-link header-menu-link-entry\"\n\t\t\t\t\t\t\tv-bind:data-bs-toggle=\"this.getDataBsToggle(header)\"\n\t\t\t\t\t\t\tv-bind:class=\"{ 'dropdown-toggle': header.children }\"\n\t\t\t\t\t\t\tv-bind:href=\"header.link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i class=\"fa-solid fa-fw header-menu-icon\" v-bind:class=\"'fa-' + header.icon\" v-if=\"header.icon\"></i> {{ header.description }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class=\"dropdown-menu\" v-if=\"header.children\">\n\t\t\t\t\t\t\t<!-- 2nd level -->\n\t\t\t\t\t\t\t<template v-for=\"child in header.children\">\n\t\t\t\t\t\t\t\t<li><a class=\"dropdown-item\" v-bind:href=\"child.link\">{{ child.description }}</a></li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</template>\n\t\t\t</ul>\n\t\t\t<slot></slot>\n\t\t</nav>\n\n\t\t<!-- Left side menu -->\n\t\t<nav :class=\"leftNavCssClasses\">\n\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t<!-- 1st level -->\n\t\t\t\t<template v-for=\"menu in sideMenuEntries\">\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a class=\"nav-link left-side-menu-link-entry\" v-bind:href=\"menu.link\" @click=menu.onClickCall>\n\t\t\t\t\t\t\t<i class=\"fa fa-fw\" v-bind:class=\"'fa-'+ menu.icon\"></i> {{ menu.description }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class=\"nav-link left-side-menu-second-level\" v-if=\"menu.children\">\n\t\t\t\t\t\t\t<!-- 2nd level -->\n\t\t\t\t\t\t\t<template v-for=\"child in menu.children\">\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<a class=\"nav-link left-side-menu-link-entry\" v-bind:href=\"child.link\" @click=child.onClickCall>\n\t\t\t\t\t\t\t\t\t\t&emsp;&emsp;{{ child.description }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\"nav-link left-side-menu-link-entry\"\n\t\t\t\t\t\t\t\t\t\tv-bind:class=\"child.subscriptLinkClass\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"child.subscriptDescription\"\n\t\t\t\t\t\t\t\t\t\tv-bind:href=\"child.link\"\n\t\t\t\t\t\t\t\t\t\t@click=child.onClickSubscriptCall\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ child.subscriptDescription }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</template>\n\t\t\t</ul>\n\t\t</nav>\n\t`\n};\n\n","export default {\n    name: 'VerticalSplit',\n    data: function() {\n      return {          \n          availHeight: 0,\n          topheight: 0,\n          bottomheight: 0,\n          mousePosY: 0, \n          resize: false,\n          vsplitter: null,\n          vsplitterOffset: 0,\n          selfOffsetTop: 0\n      };  \n    },\n    template: `\n    <div ref=\"verticalsplit\">\n        <div ref=\"toppanel\" class=\"verticalsplitted\" \n             :style=\"{height: this.topheightcss}\">\n            <slot name=\"top\">\n                <p>Top Panel</p>\n            </slot>\n        </div>\n        <div ref=\"vsplitter\" class=\"verticalsplitter\" \n             :class=\"this.topOrBottomClass\" @mousedown=\"this.dragStart\">\n            <div class=\"splitactions\" :class=\"this.topOrBottomClass\">\n                <span @click=\"this.collapseTop\" class=\"splitaction\">\n                    <i class=\"fas fa-angle-up text-muted\"></i>\n                </span>\n                <span @dblclick=\"this.showBoth\" class=\"splitaction resize\">\n                    <i class=\"fas fa-grip-lines text-muted\"></i>\n                </span>\n                <span @click=\"this.collapseBottom\" class=\"splitaction\">\n                    <i class=\"fas fa-angle-down text-muted\"></i>\n                </span>\n            </div>\n        </div>\n        <div ref=\"bottompanel\" class=\"verticalsplitted\"\n             :style=\"{height: this.bottomheightcss}\">\n            <slot name=\"bottom\">\n                <p/>\n            </slot>\n        </div>\n    </div>\n    `,\n    mounted: function() {\n        this.calcHeights();\n        this.trackVerticalSplitterOffsetTop();\n        window.addEventListener('resize', this.calcHeights);\n    },\n    updated: function() {\n        this.trackVerticalSplitterOffsetTop();\n    },\n    methods: {\n        calcHeights: function() {\n            var windowheight = window.innerHeight;\n            var oldavailHeight = this.availHeight;\n            this.selfOffsetTop = this.$refs.verticalsplit.offsetTop;\n            this.availHeight = windowheight - this.selfOffsetTop - this.$refs.vsplitter.offsetHeight;\n            if( (this.topheight === 0 && this.bottomheight === 0) || oldavailHeight === 0 ) {\n                this.topheight = Math.floor(this.availHeight/2);\n            } else {\n                this.topheight = Math.floor( ((((this.topheight * 100) / oldavailHeight) / 100) * this.availHeight) );\n            }\n            this.bottomheight = this.availHeight - this.topheight;\n        },\n        collapseTop: function() {\n            this.calcHeights();\n            this.topheight = 0;\n            this.bottomheight = this.availHeight;\n        },\n        collapseBottom: function() {\n            this.calcHeights();\n            this.topheight = this.availHeight;\n            this.bottomheight = 0;\n        },\n        showBoth: function() {\n            this.topheight = Math.floor(this.availHeight/2);\n            this.bottomheight = Math.floor(this.availHeight/2);\n        },\n        isCollapsed: function() {\n            if( this.topheight === 0 ) {\n                return 'top';\n            } else if ( this.bottomheight === 0 ) {\n                return 'bottom';\n            } else {\n                return false;\n            }\n        },\n        dragStart: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            window.addEventListener('mouseup', this.dragEnd);\n            window.addEventListener('mousemove', this.drag);\n            this.resize = true;\n            this.mousePosY = e.clientY;\n        },\n        drag: function(e) {\n            if( !this.resize ) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            var offsetY = e.clientY - this.mousePosY;\n            this.topheight = this.topheight + offsetY;\n            if( this.topheight < 0 ) {\n                this.topheight = 0;\n            }\n            if( this.topheight > this.availHeight ) {\n                this.topheight = this.availHeight;\n            }\n            this.bottomheight = this.availHeight - this.topheight;\n            this.mousePosY = e.clientY;\n        },\n        dragEnd: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            window.removeEventListener('mousemove', this.drag);\n            window.removeEventListener('mouseup', this.dragEnd);\n            this.resize = false;\n            this.mousePosY = e.clientY;\n        },\n        trackVerticalSplitterOffsetTop: function() {\n            this.vsplitterOffset = this.$refs.vsplitter.offsetTop;\n        }\n    },\n    computed: {\n        topOrBottomClass: function() {\n            return ((this.vsplitterOffset - this.selfOffsetTop) <= Math.floor(this.availHeight/2))\n                        ? 'top'\n                        : 'bottom';\n        },\n        topheightcss: function() {\n            return this.topheight + 'px';\n        },\n        bottomheightcss: function() {\n            return this.bottomheight + 'px';\n        }\n    }\n};","export const Modal = {\n\tname: 'Modal',\n    props: {\n        type: String,\n        title: String,\n        noscroll: Boolean\n    },\n    expose: ['show', 'hide'],\n    setup(props, { emit }) {\n       \n        let modalEle = Vue.ref(null);\n        let thisModalObj;\n\n        Vue.onMounted(() => {\n            thisModalObj = new bootstrap.Modal(modalEle.value);\n        });\n        const show = () => {\n            thisModalObj.show();\n        }\n        function hide() {\n            thisModalObj.hide();\n        }\n\n        return { modalEle, show, hide };\n    },\n\n    template:`\n    <div class=\"modal fade \" id=\"customModal\" tabindex=\"-1\" aria-labelledby=\"\"\n        aria-hidden=\"true\" ref=\"modalEle\">\n        <div class=\"modal-dialog modal-lg\" :class=\"(!noscroll) ? 'modal-dialog-scrollable' : ''\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"customModalLabel\">{{ title }}</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <slot name=\"body\" />\n                </div>\n                <div class=\"modal-footer\">\n                    <slot name=\"footer\"></slot>\n                    <!-- button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n                        OK\n                    </button-->\n                </div>\n            </div>\n        </div>\n    </div>`\n};\n","const categories = {};\nconst loadingModules = {};\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction reloadRefs(category) {\n\twhile (loadingModules[category].length) {\n\t\tvar v = loadingModules[category].pop();\n\t\tv[0].value = getValueForLoadedPhrase(category, v[1], v[2]);\n\t\tVue.triggerRef(v[0]);\n\t\t/*Vue.unref(v);*/\n\t}\n}\nfunction loadLazy(category, val, phrase, params) {\n\t// NOTE(chris): load module if it's not loaded yet\n\tif (loadingModules[category]) {\n\t\tloadingModules[category].push([val, phrase, params]);\n\t\tif (categories[category]) // NOTE(chris): this is for safety in case the loading finished the moment before the val was pushed into the array\n\t\t\treloadRefs(category);\n\t\treturn;\n\t}\n\tloadingModules[category] = [[val, phrase, params]];\n\n\taxios.get(FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + '/components/Phrasen/loadModule/' + category).then(res => {\n\t\tif (res.data.retval)\n\t\t\tcategories[category] = extractCategory(res.data.retval, category);\n\t\telse\n\t\t\tcategories[category] = {};\n\n\t\treloadRefs(category);\n\t}).catch(err => console.error(err));\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\n\nconst phrasen = {\n\tt_ref(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input');\n\t\t\treturn '';\n\t\t}\n\t\tif (!categories[category]) {\n\t\t\t\n\t\t\tvar initialval = '';\n  \t\t\tif (window.FHC_JS_PHRASES_STORAGE_OBJECT !== undefined) {\n  \t\t\t\tvar tmp_category = extractCategory(FHC_JS_PHRASES_STORAGE_OBJECT, category);\n\t\t\t\tif(tmp_category[phrase] !== undefined ) {\n\t\t\t\t\tinitialval = tmp_category[phrase];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (!categories[category] || Object.keys(categories[category]).length === 0) {\n\t\t\t\tcategories[category] = undefined;\n\t\t\t\tlet val = Vue.ref(initialval);\n\t\t\t\tloadLazy(category, val, phrase, params);\n\t\t\t\treturn val;\n\t\t\t}\n\t\t}\n\t\tvar result = getValueForLoadedPhrase(category, phrase, params);\n\t\treturn Vue.ref(result);\n\t},\n\tt(category, phrase, params) {\n\t\treturn Vue.unref(this.t_ref(category, phrase, params));\n\t}\n};\n\nexport default {\n\tdata: () => {\n\t\treturn {\n\t\t\tp: phrasen\n\t\t}\n\t}\n}\n\n// Composable (wrapper for mixin)\nexport function usePhrasen() {\n\n\tfunction t(category, phrase, params) {\n\t\treturn phrasen.t(category, phrase, params);\n\t}\n\n\treturn {\t\t\n\t\tt,\n\t}\n\n}\n","import { usePhrasen } from '../../../../../public/js/mixins/Phrasen.js';\n\nexport const ModalDialog = {\n\tname: 'ModalDialog',\n    props: {\n        type: String,\n        title: String,\n    },\n    expose: ['show', 'hide'],\n    setup(props, { emit }) {\n       \n        let modalConfirmEle = Vue.ref(null);\n        let thisModalObj;\n        let _resolve;\n        let _reject;\n        const { t } = usePhrasen();\n\n        Vue.onMounted(() => {\n            thisModalObj = new bootstrap.Modal(modalConfirmEle.value);\n        });\n        \n        const show = async () => {\n            thisModalObj.show();\n            return new Promise(function (resolve, reject) {\n              _resolve = resolve;\n              _reject = reject;\n            });\n        }\n\n        function hide() {\n            thisModalObj.hide();\n        }\n\n        const ok = () => {\n            _resolve(true);\n          }\n          \n        const cancel = () =>  {\n            _resolve(false);\n        }        \n\n        return { modalConfirmEle, show, hide, ok, cancel, t };\n    },\n\n    template:`\n    <div class=\"modal fade \" id=\"customModalDialog\" tabindex=\"-1\" aria-labelledby=\"\"\n        aria-hidden=\"true\" ref=\"modalConfirmEle\">\n        <div class=\"modal-dialog modal-lg\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"customModalDialogLabel\">{{ title }}</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <slot name=\"body\" />\n                </div>\n                <div class=\"modal-footer\">\n                    <slot name=\"footer\"></slot>\n                    <button type=\"button\" class=\"btn btn-secondary\" @click=\"cancel\" data-bs-dismiss=\"modal\">\n                      {{ t('ui','abbrechen') }}\n                    </button>\n                    <button type=\"button\" class=\"btn btn-primary\" @click=\"ok\" data-bs-dismiss=\"modal\">\n                        {{ t('ui','ok') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>`\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n    filterPerson(searchVal) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/filterPerson',\n        params: { searchVal }\n      }\n    },    \n    personBaseData(person_id) {\n      return { \n        method: 'get',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personBaseData',\n        params: { person_id }\n      } \n    },\n    updatePersonBaseData(payload) {        \n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/updatePersonBaseData',\n          params: payload\n        }\n    },\n    personEmployeeData(person_id) {\n        return { \n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personEmployeeData',\n          params: { person_id }\n        }\n    },\n    updatePersonEmployeeData(payload) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/updatePersonEmployeeData',\n          params: payload\n        }\n    },\n    personEmployeeKurzbzExists(uid, kurzbz) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personEmployeeKurzbzExists',\n          params: { uid, kurzbz }\n        }\n    },\n\n    deletePersonBankData(bankverbindung_id) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonBankData',\n          params: { bankverbindung_id }\n        }\n    },\n    upsertPersonBankData(payload) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonBankData',\n          params: payload\n        }\n    },\n    personBankData(person_id) {\n      return {\n        method: 'get',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personBankData',\n        params: { person_id }\n      }\n    },\n    personAddressData(person_id) {\n      return {\n        method: 'get',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personAddressData',\n        params: { person_id }\n      }\n    },\n    deletePersonAddressData(adresse_id) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonAddressData',\n        params: { adresse_id }\n      }\n    },\n    upsertPersonAddressData(payload) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonAddressData',\n          params: payload\n        }\n    },\n    personContactData(person_id) {\n      return {\n        method: 'get',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personContactData',\n        params: { person_id }\n      }\n    },\n    deletePersonContactData(kontakt_id) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonContactData',\n        params: { kontakt_id }\n      }\n    },\n    upsertPersonContactData(payload) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonContactData',\n        params: payload\n      }\n    },\n    uidByPerson(person_id, uid) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/uidByPerson',\n          params: { person_id: person_id, person_uid: uid}\n        }\n    },\n    personMaterialExpenses(person_id, uid) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personMaterialExpenses',\n          params: { person_id: person_id, person_uid: uid}\n        }\n    },\n    deletePersonMaterialExpenses(sachaufwand_id) {        \n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonMaterialExpenses',\n          params: { sachaufwand_id }\n        }\n      },\n    upsertPersonMaterialExpenses(payload) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonMaterialExpenses',\n          params: payload\n        }\n    },\n    deletePersonJobFunction(benutzerfunktion_id) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonJobFunction',\n        params: { benutzerfunktion_id }\n      }\n    },\n    upsertPersonJobFunction(payload) {   \n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonJobFunction',\n        params: payload\n      }\n    },\n    updatePersonUnruly(payload) {\n      return {\n        method: 'post',\n        url: '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus',\n        params: payload\n      }\n    }\n}","import { Modal } from '../../Modal.js';\nimport { ModalDialog } from '../../ModalDialog.js';\nimport { usePhrasen } from '../../../../../../../public/js/mixins/Phrasen.js';\nimport ApiPerson from '../../../api/factory/person.js';\n\nexport const EmailTelData = {\n\tname: 'EmailTelData',\n    components: {\n        Modal,\n        ModalDialog,\n    },\n    props: {\n        personID: { type: Number, required: true },\n        writePermission: { type: Boolean, required: false },\n    },  \n    setup(props) {\n\n        const $api = Vue.inject('$api');\n        const $fhcAlert = Vue.inject('$fhcAlert');\n        const { personID } = Vue.toRefs(props);\n\n        const { t } = usePhrasen();\n\n        const urlContactData = Vue.ref(\"\");\n\n        const contactList = Vue.ref([]);\n\n        const isFetching = Vue.ref(false);\n\n        const currentContact = Vue.ref();\n\n        const confirmDeleteRef = Vue.ref();\n\n        const kontakttyp = Vue.inject('kontakttyp');\n\n        const readonly = Vue.ref(false);\n\n        Vue.watch(personID, (currentValue, oldValue) => {\n            console.log('ContactData watch',currentValue);\n            fetchData();\n        });\n\n\n        const fetchData = async () => {\n            if (personID.value==null) {\n                contactList.value = [];\n                return;\n            }\n            // submit\n            try {\n                const response = await $api.call(ApiPerson.personContactData(personID.value));\n                contactList.value = response.data;\n            } catch (error) {\n                console.log(error)              \n            } finally {\n                isFetching.value = false\n            }\n            \n        }\n\n        Vue.onMounted(() => {\n            console.log('ContactData mounted', props.personID);                        \n            fetchData();\n            \n        })\n\n\n        const contactListArray = Vue.computed(() => Object.values(contactList.value));\n\n    \n        const createContactShape = (person_id) => {\n            return {\n                kontakt_id: 0,\n                person_id: person_id,  \n                kontakttyp: 'email', \n                anmerkung: '',  \n                kontakt: '',    \n                zustellung: true, \n                updateamum: '',\n                updatevon: '',  \n                insertamum: '', \n                insertvon: '',  \n                ext_id: null,     \n                standort_id: null,\n\n            }\n        }\n\n        // Modal \n        let modalRef = Vue.ref();\n        \n        const showEditModal = (id) => {\n            currentContact.value = { ...contactList.value[id] };\n            modalRef.value.show();\n        }\n\n        const showAddModal = () => {\n            currentContact.value = createContactShape(personID);\n            // reset form state\n            frmState.kontaktBlured=false;\n            // call bootstrap show function\n            modalRef.value.show();\n        }\n\n        const showDeleteModal = async (id) => {\n            currentContact.value = { ...contactList.value[id] };\n\n            if (await $fhcAlert.confirm({\n                    message:t('person','kontaktinformation') + ' ' + currentContact.value?.kontakt + ' ' + t('person','wirklichLoeschen'),\n                    acceptLabel: 'Löschen',\n\t\t\t\t    acceptClass: 'p-button-danger'\n                }) === false) {\n                return;\n            }    \n\n            try {\n                const res = await $api.call(ApiPerson.deletePersonContactData(id));\n                if (res?.meta?.status == 'success') {\n                    delete contactList.value[id];\n                    showDeleteToast();\n                }\n            } catch (error) {\n                console.log(error)              \n            } finally {\n                    isFetching.value = false\n            }   \n\n        }\n\n        const hideModal = () => {\n            modalRef.value.hide();\n        }        \n\n        const okHandler =  async() => {\n            if (!validate()) {\n\n                console.log(\"form invalid\");\n\n            } else {\n\n                // submit\n                try {\n                    const r = await $api.call(ApiPerson.upsertPersonContactData(currentContact.value)); \n                    if (r?.meta?.status == 'success') {\n                        contactList.value[r.data[0].kontakt_id] = r.data[0];\n                        showToast();\n                    }  \n                } catch (error) {\n                    console.log(error)              \n                } finally {\n                    isFetching.value = false\n                }\n               \n                \n                hideModal();\n            }\n        }\n\n        const getKontakttyp = (id) => {\n            return kontakttyp.value.find(item => item.kontakttyp == id)\n        }\n\n        // -------------\n        // form handling\n        // -------------\n\n        const contactDataFrm = Vue.ref();\n\n        const frmState = Vue.reactive({ kontaktBlured: false, wasValidated: false });\n\n        const validKontakt = (n) => {\n            return !!n && n.trim() != \"\";\n        }     \n\n        const validate = () => {\n            frmState.kontaktBlured = true;\n            if (validKontakt(currentContact.value.kontakt)) {\n                return true;\n            }\n            return false;\n        }\n        \n        const showToast = () => {\n            $fhcAlert.alertSuccess(t('person','kontaktdatenGespeichert'));\n        }\n\n        const showDeleteToast = () => {\n            $fhcAlert.alertSuccess(t('person','kontaktdatenGeloescht'));\n        }\n\n        return {\n            contactList, contactListArray, \n            currentContact, showEditModal, showAddModal, showDeleteModal, hideModal, modalRef,\n            kontakttyp, confirmDeleteRef, okHandler, t, getKontakttyp,\n            // form handling\n            validKontakt, frmState, contactDataFrm, readonly\n        }\n    },\n    template: `\n            <div class=\"row\">\n\n                <!--div class=\"d-flex bd-highlight\">\n                    <div class=\"flex-grow-1 bd-highlight\"></div>        \n                    <div class=\"p-2 bd-highlight\">                   \n                        <button type=\"button\" class=\"btn btn-outline-dark btn-sm\"  @click=\"showAddModal()\" style=\"margin-right:1.85rem;\">\n                            <i class=\"fa fa-plus\"></i>\n                        </button>\n                    </div>\n                </div-->\n            </div>\n         \n             \n        <button type=\"button\" class=\"btn btn-primary btn-sm my-2\"  @click=\"showAddModal()\">\n                <i class=\"fa fa-plus\"></i> {{ t('global','kontakt') }}\n        </button>\n        <div class=\"table-responsive\">\n            <table class=\"table table-hover table-sm\">\n                <thead>\n                <tr>\n                    <th scope=\"col\">{{ t('global','typ') }}</th>\n                    <th scope=\"col\">{{ t('global','kontakt') }}</th>\n                    <th scope=\"col\">{{ t('person', 'zustellung') }}</th>\n                    <th scope=\"col\">{{ t('global', 'anmerkung') }}</th>\n                    <th scope=\"col\">{{ t('ui','aktion') }}</th>\n                </tr>\n                </thead>\n                <tbody>               \n                    <tr v-for=\"contact in contactListArray\" :key=\"contact.kontakt_id\">\n                        <td class=\"align-middle\">{{ getKontakttyp(contact.kontakttyp).beschreibung }}</td>\n                        <td class=\"align-middle\" v-if=\"contact.kontakttyp == 'email'\"><a v-bind:href=\"[\\'mailto:\\' + contact.kontakt]\">{{ contact.kontakt }}</a></td>\n                        <td class=\"align-middle\" v-else-if=\"contact.kontakttyp == 'mobil' || contact.kontakttyp == 'telefon' || contact.kontakttyp == 'firmenhandy'\"><a v-bind:href=\"[\\'tel:\\' + contact.kontakt]\">{{ contact.kontakt }}</a></td>\n                        <td class=\"align-middle\" v-else >{{ contact.kontakt }}</td>\n                        <td class=\"align-middle\">{{ contact.zustellung == true ? \"X\" : \"\" }}</td>\n                        <td class=\"align-middle\">{{ contact.anmerkung }}</td>\n                        <td class=\"align-middle\" width=\"5%\">\n                            <div class=\"d-grid gap-2 d-md-flex align-middle\">           \n                                <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" @click=\"showEditModal(contact.kontakt_id)\">\n                                    <i class=\"fa fa-pen\"></i>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\" @click=\"showDeleteModal(contact.kontakt_id)\">\n                                    <i class=\"fa fa-xmark\"></i>\n                                </button>\n                            </div>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <!-- Detail Modal -->\n        <Modal :title=\"t('global','kontakt')\" ref=\"modalRef\">\n            <template #body>\n                <form class=\"row g-3\" v-if=\"currentContact != null\"  ref=\"contactDataFrm\" >\n                                \n                    <div class=\"col-md-4\">\n                        <label for=\"kontakttyp\" class=\"form-label\">{{ t('global','typ') }}</label>\n                        <select  id=\"kontakttyp\" class=\"form-select form-select-sm\" aria-label=\".form-select-sm \"  v-model=\"currentContact.kontakttyp\" >\n                            <option v-for=\"(item, index) in kontakttyp\" :value=\"item.kontakttyp\">\n                                {{ item.beschreibung }}\n                            </option>\n                        </select>\n                    </div>\n                    <div class=\"col-md-4\">\n                        <label for=\"kontakt\" class=\"required form-label\">{{ t('global','kontakt') }}</label>\n                        <input type=\"text\" @blur=\"frmState.kontaktBlured = true\" :readonly=\"readonly\" class=\"form-control-sm\" :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly, 'is-invalid': !validKontakt(currentContact.kontakt) && frmState.kontaktBlured}\" id=\"kontakt\" maxlength=\"128\" v-model=\"currentContact.kontakt\">\n                    </div>\n                    \n                    <div class=\"col-md-2\">                                             \n                        <label for=\"zustellung\" class=\"form-label\">{{ t('person','zustellung') }}</label>\n                        <div>\n                            <input class=\"form-check-input\" type=\"checkbox\" id=\"zustellung\" v-model=\"currentContact.zustellung\">\n                        </div>\n                    </div>      \n                    \n                    <div class=\"col-md-8\">\n                        <label for=\"anmerkung\" class=\"form-label\">{{ t('global','anmerkung') }}</label>\n                        <input type=\"text\" :readonly=\"readonly\" class=\"form-control-sm\" :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly }\" id=\"anmerkung\" maxlength=\"64\" v-model=\"currentContact.anmerkung\">\n                    </div>                                                            \n\n                </form>        \n\n            </template>\n            <template #footer>\n                <button type=\"button\" class=\"btn btn-primary\" @click=\"okHandler()\" >\n                {{ t('ui','speichern') }}\n                </button>\n            </template>\n        </Modal>\n\n    `\n}","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAllBetriebsmittel(type, id, betriebsmitteltypes) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + type + '/' + id,\n\t\t\tparams: {\n\t\t\t\tbetriebsmitteltypes\n\t\t\t}\n\t\t};\n\t},\n\taddNewBetriebsmittel(person_id, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' + person_id,\n\t\t\tparams\n\t\t};\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id\n\t\t};\n\t},\n\tupdateBetriebsmittel(betriebsmittelperson_id, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tparams\n\t\t};\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id\n\t\t};\n\t},\n\tgetTypenBetriebsmittel(betriebsmitteltypes) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/',\n\t\t\tparams: {\n\t\t\t\tbetriebsmitteltypes\n\t\t\t}\n\t\t};\n\t},\n\tloadInventarliste(query) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery\n\t\t};\n\t}\n};\n","//import Phrasen from '../../plugin/Phrasen.js';\n\nexport default {\n\tname: 'BootstrapModal',\n\tdata: () => ({\n\t\tmodal: null,\n\t\tfullscreen: false\n\t}),\n\tprops: {\n\t\tbackdrop: {\n\t\t\ttype: [Boolean,String],\n\t\t\tdefault: true,\n\t\t\tvalidator(value) {\n\t\t\t\treturn ['static', true, false].includes(value);\n\t\t\t}\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tkeyboard: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tnoCloseBtn: Boolean,\n\t\tdialogClass: [String,Array,Object],\n\t\theaderClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tbodyClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: 'px-4 py-5'\n\t\t},\n\t\tfooterClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tallowFullscreenExpand: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\temits: [\n\t\t\"hideBsModal\",\n\t\t\"hiddenBsModal\",\n\t\t\"hidePreventedBsModal\",\n\t\t\"showBsModal\",\n\t\t\"shownBsModal\"\n\t],\n\tmethods: {\n\t\tdispose() {\n\t\t\treturn this.modal.dispose();\n\t\t},\n\t\thandleUpdate() {\n\t\t\treturn this.modal.handleUpdate();\n\t\t},\n\t\thide() {\n\t\t\treturn this.modal.hide();\n\t\t},\n\t\tshow(relatedTarget) {\n\t\t\treturn this.modal.show(relatedTarget);\n\t\t},\n\t\ttoggle() {\n\t\t\treturn this.modal.toggle();\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tthis.fullscreen = !this.fullscreen\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.$refs.modal)\n\t\t\tthis.modal = new bootstrap.Modal(this.$refs.modal, {\n\t\t\t\tbackdrop: this.backdrop,\n\t\t\t\tfocus: this.focus,\n\t\t\t\tkeyboard: this.keyboard\n\t\t\t});\n\t},\n\tpopup(body, options, title, footer) {\n\t\tconst BsModal = this,\n\t\t\tslots = {};\n\t\tif (body !== undefined)\n\t\t\tslots.default = () => body;\n\t\tif (title !== undefined)\n\t\t\tslots.title = () => title;\n\t\tif (footer !== undefined)\n\t\t\tslots.footer = () => footer;\n\n\t\t// little hack to check whether primevue is included in the app or not\n\t\tlet includedPrimevue = false;\n\t\tif(typeof primevue !== 'undefined'){\n\t\t\tincludedPrimevue = true;\n\t\t}\n\n\t\treturn new Promise((resolve,reject) => {\n\t\t\tconst instance = Vue.createApp({\n\t\t\t\tname: 'ModalTmpApp',\n\t\t\t\tsetup() {\n\t\t\t\t\treturn () => Vue.h(BsModal, {...{\n\t\t\t\t\t\tclass: 'fade'\n\t\t\t\t\t},...options, ...{\n\t\t\t\t\t\tref: 'modal',\n\t\t\t\t\t\t'onHidden.bs.modal': instance.unmount\n\t\t\t\t\t}}, slots);\n\t\t\t\t},\n\t\t\t\tmounted() {\n\t\t\t\t\tthis.$refs.modal.show();\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tbeforeUnmount() {\n\t\t\t\t\tif (this.$refs.modal)\n\t\t\t\t\t\tthis.$refs.modal.result !== false ? resolve(this.$refs.modal.result) : reject();\n\t\t\t\t},\n\t\t\t\tunmounted() {\n\t\t\t\t\twrapper.parentElement.removeChild(wrapper);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst wrapper = document.createElement(\"div\");\n\t\t\t\n\t\t\t// if(primevue) --> won't work because primevue is not defined in this scope and promise would be rejected\n\t\t\tif (includedPrimevue){\n\t\t\t\tinstance.use(primevue.config.default, {zIndex: {overlay: 9999}})\n\t\t\t}\n\t\t\t\t \n\t\t\t//instance.use(Phrasen); // TODO(chris): find a more dynamic way\n\t\t\timport('../../plugins/Phrasen.js').then((Phrasen) => {\n\t\t\t\tinstance.use(Phrasen.default);\n\t\t\t\tinstance.mount(wrapper);\n\t\t\t\tdocument.body.appendChild(wrapper);\n\t\t\t});\n\t\t});\n\t},\n\ttemplate: `<div ref=\"modal\" class=\"bootstrap-modal modal\" tabindex=\"-1\" @[\\`hide.bs.modal\\`]=\"$emit('hideBsModal')\" @[\\`hidden.bs.modal\\`]=\"$emit('hiddenBsModal')\" @[\\`hidePrevented.bs.modal\\`]=\"$emit('hidePreventedBsModal')\" @[\\`show.bs.modal\\`]=\"$emit('showBsModal')\" @[\\`shown.bs.modal\\`]=\"$emit('shownBsModal')\">\n\t\t<div class=\"modal-dialog\" :class=\"fullscreen ? 'modal-fullscreen' : dialogClass\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<div v-if=\"$slots.title\" class=\"modal-header\" :class=\"headerClass\">\n\t\t\t\t\t<h5 class=\"modal-title\"><slot name=\"title\"/></h5>\n\t\t\t\t\t<div class=\"d-flex align-items-center ms-auto\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn ms-auto\" style=\"filter: invert(1)\" v-if=\"allowFullscreenExpand\" @click=\"toggleFullscreen\">\n\t\t\t\t\t\t  <i v-if=\"!fullscreen\" class=\"fa-solid fa-expand\"></i>\n\t\t\t\t\t\t  <i v-else class=\"fa-solid fa-compress\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button v-if=\"!noCloseBtn\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<slot name=\"modal-header-content\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-body\" :class=\"bodyClass\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"$slots.footer\" class=\"modal-footer\" :class=\"footerClass\">\n\t\t\t\t\t<slot name=\"footer\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n}\n","export default {\n\trender() {\n\t\treturn (this.$slots && this.$slots.default) ? this.$slots.default() : null;\n\t}\n};","import FhcFragment from \"../Fragment.js\";\n\nlet _uuid = {};\n\nexport default {\n\tname: \"FormInput\",\n\tinheritAttrs: false,\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tinject: {\n\t\tregisterToForm: {\n\t\t\tfrom: '$registerToForm',\n\t\t\tdefault: null\n\t\t},\n\t\tclearValidationForName: {\n\t\t\tfrom: '$clearValidationForName',\n\t\t\tdefault: null\n\t\t}\n\t},\n\tprops: {\n\t\tbsFeedback: Boolean,\n\t\tnoAutoClass: Boolean,\n\t\tnoFeedback: Boolean,\n\t\tinputGroup: Boolean,\n\t\ttype: String,\n\t\tname: String,\n\t\tcontainerClass: [String, Array, Object],\n\t\tlabel: String,\n\t\t// NOTE(chris): remove these from $attrs array to prevent doubled event listeners\n\t\tonInput: [Array, Function],\n\t\t'onUpdate:modelValue': [Array, Function]\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvalid: undefined,\n\t\t\tfeedback: [],\n\t\t\tmodelValueDummy: undefined\n\t\t}\n\t},\n\tcomputed: {\n\t\thasContainer() {\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn true;\n\t\t\tif (this.containerClass)\n\t\t\t\treturn true;\n\t\t\tfor (const prop in this.autoContainerClass)\n\t\t\t\tif (Object.hasOwn(this.autoContainerClass, prop))\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t},\n\t\tacc() {\n\t\t\tif (!this.containerClass)\n\t\t\t\treturn {};\n\t\t\tif (typeof this.containerClass === 'string' || this.containerClass instanceof String)\n\t\t\t\treturn this.containerClass.split(' ').reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\tif (Array.isArray(this.containerClass))\n\t\t\t\treturn this.containerClass.reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\treturn this.containerClass;\n\t\t},\n\t\tautoContainerClass() {\n\t\t\tif (this.noAutoClass)\n\t\t\t\treturn this.acc;\n\t\t\t\n\t\t\tconst acc = {...this.acc};\n\t\t\t\n\t\t\tif (this.inputGroup)\n\t\t\t\tacc['input-group-item'] = true;\n\n\t\t\tif (this.lcType == 'radio' || this.lcType == 'checkbox')\n\t\t\t\tacc['form-check'] = true;\n\t\t\t\n\t\t\tif (this.inputGroup && acc['form-check']) {\n\t\t\t\tacc['input-group-item'] = false;\n\t\t\t\tacc['form-check'] = false;\n\t\t\t\tacc['input-group-text'] = true;\n\t\t\t}\n\t\t\treturn acc;\n\t\t},\n\t\tlcType() {\n\t\t\tif (!this.type)\n\t\t\t\treturn 'text';\n\t\t\treturn this.type.toLowerCase();\n\t\t},\n\t\ttag() {\n\t\t\tswitch (this.lcType) {\n\t\t\t\tcase 'textarea':\n\t\t\t\tcase 'select':\n\t\t\t\t\treturn this.lcType;\n\t\t\t\tcase 'datepicker':\n\t\t\t\t\treturn 'VueDatePicker';\n\t\t\t\tcase 'autocomplete':\n\t\t\t\t\treturn 'PvAutocomplete';\n\t\t\t\tcase 'uploadimage':\n\t\t\t\t\treturn 'UploadImage';\n\t\t\t\tcase 'uploadfile':\n\t\t\t\tcase 'uploaddms':\n\t\t\t\t\treturn 'UploadDms';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'input';\n\t\t\t}\n\t\t},\n\t\tvalidationClass() {\n\t\t\tconst classes = [];\n\t\t\tif (this.valid)\n\t\t\t\tclasses.push('is-valid');\n\t\t\telse if (this.valid === false)\n\t\t\t\tclasses.push('is-invalid');\n\t\t\t\n\t\t\tif (!this.noAutoClass) {\n\t\t\t\tlet c = this.$attrs.class ? this.$attrs.class.split(' ') : [];\n\t\t\t\tswitch (this.lcType) {\n\t\t\t\t\t// TODO(chris): complete list!\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tif (!c.includes('form-select'))\n\t\t\t\t\t\t\tclasses.push('form-select');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'range':\n\t\t\t\t\t\tif (!c.includes('form-range'))\n\t\t\t\t\t\t\tclasses.push('form-range');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t// TODO(chris): maybe different handling?\n\t\t\t\t\t\tif (!c.includes('form-check-input') && !c.includes('btn-check'))\n\t\t\t\t\t\t\tclasses.push('form-check-input');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tif (!c.includes('form-control-color'))\n\t\t\t\t\t\t\tclasses.push('form-control-color');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'autocomplete':\n\t\t\t\t\tcase 'datepicker':\n\t\t\t\t\t\tclasses.push('p-0');\n\t\t\t\t\t\tclasses.push('border-0');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'number':\n\t\t\t\t\tcase 'password':\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tfeedbackClass() {\n\t\t\tif (!this.feedback || this.feedback === true)\n\t\t\t\treturn '';\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn {\n\t\t\t\t\t'valid-tooltip': this.valid === true,\n\t\t\t\t\t'invalid-tooltip': this.valid === false\n\t\t\t\t};\n\t\t\treturn {\n\t\t\t\t'valid-feedback': this.valid === true,\n\t\t\t\t'invalid-feedback': this.valid === false\n\t\t\t};\n\t\t},\n\t\tmodelValueCmp: {\n\t\t\tget() {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\treturn this.modelValueDummy;\n\t\t\t\treturn this.$attrs.modelValue;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\tthis.modelValueDummy = v;\n\t\t\t\tthis.$emit('update:modelValue', v);\n\t\t\t}\n\t\t},\n\t\tidCmp() {\n\t\t\tlet uuid = this.$attrs.id;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = this.$attrs.uid;\n\t\t\tif (!uuid && this.label)\n\t\t\t\tuuid = 'fhc-form-input';\n\t\t\tif (!uuid)\n\t\t\t\treturn undefined;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = 'dp-input-' + uuid;\n\t\t\tif (_uuid[uuid] === undefined)\n\t\t\t\t_uuid[uuid] = 0;\n\t\t\treturn uuid + '-' + (_uuid[uuid]++);\n\t\t}\n\t},\n\tmethods: {\n\t\tclearValidation() {\n\t\t\tthis.valid = undefined;\n\t\t\tthis.feedback = [];\n\t\t},\n\t\tclearValidationForThisName() {\n\t\t\tif (this.valid === undefined)\n\t\t\t\treturn;\n\t\t\tif (this.clearValidationForName && this.name)\n\t\t\t\tthis.clearValidationForName(this.name);\n\t\t\telse\n\t\t\t\tthis.clearValidation();\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (!feedback)\n\t\t\t\tfeedback = [];\n\t\t\tif (!Array.isArray(feedback))\n\t\t\t\tfeedback = [feedback];\n\t\t\tthis.valid = valid;\n\t\t\t// NOTE(chris): On a list of radios/checkboxes only add the feedback message to the last item\n\t\t\tif (this.name && (this.lcType == 'radio' || this.lcType == 'checkbox')) {\n\t\t\t\tconst selector = 'input[type=\"' + this.lcType + '\"][name=\"' + this.name + '\"]';\n\t\t\t\tif ([...this.$el.parentNode.querySelectorAll(selector)].pop() != this.$refs.input)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.feedback = feedback;\n\t\t},\n\t\t_loadComponents() {\n\t\t\tif (this.tag == 'VueDatePicker' && !this._.components.VueDatePicker) {\n\t\t\t\tthis._.components.VueDatePicker = Vue.defineAsyncComponent(() => import(\"../vueDatepicker.js.php\"));\n\t\t\t} else if (this.tag == 'PvAutocomplete' && !this._.components.PvAutocomplete) {\n\t\t\t\tthis._.components.PvAutocomplete = primevue.autocomplete;\n\t\t\t} else if (this.tag == 'UploadImage' && !this._.components.UploadImage) {\n\t\t\t\tthis._.components.UploadImage = Vue.defineAsyncComponent(() => import(\"./Upload/Image.js\"));\n\t\t\t} else if (this.tag == 'UploadDms' && !this._.components.UploadDms) {\n\t\t\t\tthis._.components.UploadDms = Vue.defineAsyncComponent(() => import(\"./Upload/Dms.js\"));\n\t\t\t}\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis._loadComponents();\n\t},\n\tbeforeUpdate() {\n\t\tthis._loadComponents();\n\t},\n\tmounted() {\n\t\tif (this.registerToForm)\n\t\t\tthis.registerToForm(this);\n\t},\n\ttemplate: `\n\t<component :is=\"!hasContainer ? 'FhcFragment' : 'div'\" class=\"position-relative\" :class=\"autoContainerClass\">\n\t\t<label v-if=\"label && lcType != 'radio' && lcType != 'checkbox'\" :class=\"!noAutoClass && 'form-label'\" :for=\"idCmp\">{{label}}</label>\n\t\t<input v-if=\"tag == 'input'\" :type=\"lcType\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t<textarea v-else-if=\"tag == 'textarea'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\"></textarea>\n\t\t<select v-else-if=\"tag == 'select'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t\t<slot></slot>\n\t\t</select>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'VueDatePicker'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:uid=\"idCmp ? idCmp.substr(9) : idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class-name=\n\t\t\t\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class-name'] ? $attrs['input-class-name'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'PvAutocomplete'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:input-props=\"{name}\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class'] ? $attrs['input-class'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t\t<template #chip=\"data\"><slot name=\"chip\" v-bind=\"data\"></slot></template>\n\t\t\t<template #header=\"data\"><slot name=\"header\" v-bind=\"data\"></slot></template>\n\t\t\t<template #footer=\"data\"><slot name=\"footer\" v-bind=\"data\"></slot></template>\n\t\t\t<template #option=\"data\"><slot name=\"option\" v-bind=\"data\"></slot></template>\n\t\t\t<template #optiongroup=\"data\"><slot name=\"optiongroup\" v-bind=\"data\"></slot></template>\n\t\t\t<template #content=\"data\"><slot name=\"content\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loader=\"data\"><slot name=\"loader\" v-bind=\"data\"></slot></template>\n\t\t\t<template #empty=\"data\"><slot name=\"empty\" v-bind=\"data\"></slot></template>\n\t\t\t<template #dropdownicon=\"data\"><slot name=\"dropdownicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #removetokenicon=\"data\"><slot name=\"removetokenicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loadingicon=\"data\"><slot name=\"loadingicon\" v-bind=\"data\"></slot></template>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'UploadDms'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"validationClass\"\n\t\t\t:no-list=\"inputGroup\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<label v-if=\"label && (lcType == 'radio' || lcType == 'checkbox')\" :for=\"idCmp\" :class=\"!noAutoClass && 'form-check-label'\" v-html=\"label\"></label>\n\t\t<div v-if=\"valid !== undefined && feedback.length && !noFeedback\" :class=\"feedbackClass\">\n\t\t\t<template v-for=\"(msg, i) in feedback\" :key=\"i\">\n\t\t\t\t<hr v-if=\"i\" class=\"m-0\">\n\t\t\t\t{{msg}}\n\t\t\t</template>\n\t\t</div>\n\t</component>\n\t`\n}\n","import {CoreFilterCmpt} from \"../filter/Filter.js\";\n\nimport BsModal from \"../Bootstrap/Modal.js\";\nimport CoreForm from '../Form/Form.js';\nimport FormInput from '../Form/Input.js';\n\nexport default {\n\tcomponents: {\n\t\tCoreFilterCmpt,\n\t\tBsModal,\n\t\tCoreForm,\n\t\tFormInput\n\t},\n\tinject: {\n\t\tcisRoot: {\n\t\t\tfrom: 'cisRoot'\n\t\t},\n\t},\n\tprops: {\n\t\tendpoint: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\ttypeId: String,\n\t\tid: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true\n\t\t},\n\t\tuid: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true\n\t\t},\n\t\t/** List of types to allow for creation */\n\t\tbetriebsmittelTypes: {\n\t\t\ttype: Array,\n\t\t\tdefault: null\n\t\t},\n\t\t/**\n\t\t * If true: only show the types specified in 'betriebsmittelTypes'.\n\t\t * If false: show all available types.\n\t\t */\n\t\tfilterByProvidedTypes: Boolean\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttabulatorOptions: {\n\t\t\t\tajaxURL: 'dummy',\n\t\t\t\tajaxRequestFunc: () => this.$api.call(\n\t\t\t\t\tthis.endpoint.getAllBetriebsmittel(this.typeId, this.id, (this.filterByProvidedTypes ? this.betriebsmittelTypes : null))\n\t\t\t\t),\n\t\t\t\tajaxResponse: (url, params, response) => response.data,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{title: \"Nummer\", field: \"nummer\", width: 150},\n\t\t\t\t\t{title: \"PersonId\", field: \"person_id\", visible: false},\n\t\t\t\t\t{title: \"Typ\", field: \"betriebsmitteltyp\", width: 125},\n\t\t\t\t\t{title: \"Anmerkung\", field: \"anmerkung\", visible: false},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"Retourdatum\",\n\t\t\t\t\t\tfield: \"retouram\",\n\t\t\t\t\t\twidth: 128,\n\t\t\t\t\t\tformatter: function (cell) {\n\t\t\t\t\t\t\tconst dateStr = cell.getValue();\n\t\t\t\t\t\t\tif (!dateStr) return \"\";\n\n\t\t\t\t\t\t\tconst date = new Date(dateStr);\n\t\t\t\t\t\t\treturn date.toLocaleString(\"de-DE\", {\n\t\t\t\t\t\t\t\tday: \"2-digit\",\n\t\t\t\t\t\t\t\tmonth: \"2-digit\",\n\t\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\t\thour12: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{title: \"Beschreibung\", field: \"beschreibung\"},\n\t\t\t\t\t{title: \"UID\", field: \"uid\", width: 87},\n\t\t\t\t\t{title: \"Kaution\", field: \"kaution\", visible: false},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"Ausgabedatum\",\n\t\t\t\t\t\tfield: \"ausgegebenam\",\n\t\t\t\t\t\twidth: 144,\n\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\tformatter: function (cell) {\n\t\t\t\t\t\t\tconst dateStr = cell.getValue();\n\t\t\t\t\t\t\tif (!dateStr) return \"\";\n\n\t\t\t\t\t\t\tconst date = new Date(dateStr);\n\t\t\t\t\t\t\treturn date.toLocaleString(\"de-DE\", {\n\t\t\t\t\t\t\t\tday: \"2-digit\",\n\t\t\t\t\t\t\t\tmonth: \"2-digit\",\n\t\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\t\thour12: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{title: \"Betriebsmittel ID\", field: \"betriebsmittel_id\", visible: false},\n\t\t\t\t\t{title: \"Betriebsmittelperson ID\", field: \"betriebsmittelperson_id\", visible: false},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Aktionen', field: 'actions',\n\t\t\t\t\t\tminWidth: 150, // Ensures Action-buttons will be always fully displayed\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\tformatter: (cell, formatterParams, onRendered) => {\n\t\t\t\t\t\t\tlet container = document.createElement('div');\n\t\t\t\t\t\t\tcontainer.className = \"d-flex gap-2\";\n\n\t\t\t\t\t\t\tlet button = document.createElement('button');\n\t\t\t\t\t\t\tbutton.className = 'btn btn-outline-secondary btn-action';\n\t\t\t\t\t\t\tbutton.innerHTML = '<i class=\"fa fa-print\"></i>';\n\t\t\t\t\t\t\tbutton.title = this.$p.t('betriebsmittel', 'btn_printUebernahmebestaetigung');\n\t\t\t\t\t\t\tlet cellData = cell.getData();\n\t\t\t\t\t\t\tbutton.addEventListener(\n\t\t\t\t\t\t\t\t'click',\n\t\t\t\t\t\t\t\t(event) =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlet linkToPdf = this.cisRoot +\n\t\t\t\t\t\t\t\t\t\t'/content/pdfExport.php?xml=betriebsmittelperson.rdf.php&xsl=Uebernahme&id=' + cellData.betriebsmittelperson_id + '&output=pdf';\n\n\t\t\t\t\t\t\t\t\twindow.open(linkToPdf, '_blank');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontainer.append(button);\n\n\t\t\t\t\t\t\tbutton = document.createElement('button');\n\t\t\t\t\t\t\tbutton.className = 'btn btn-outline-secondary btn-action';\n\t\t\t\t\t\t\tbutton.innerHTML = '<i class=\"fa fa-edit\"></i>';\n\t\t\t\t\t\t\tbutton.title = this.$p.t('betriebsmittel', 'btn_editBetriebsmittel');\n\t\t\t\t\t\t\tbutton.addEventListener(\n\t\t\t\t\t\t\t\t'click',\n\t\t\t\t\t\t\t\t(event) =>\n\t\t\t\t\t\t\t\t\tthis.actionEditBetriebsmittel(cell.getData().betriebsmittelperson_id)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontainer.append(button);\n\n\t\t\t\t\t\t\tbutton = document.createElement('button');\n\t\t\t\t\t\t\tbutton.className = 'btn btn-outline-secondary btn-action';\n\t\t\t\t\t\t\tbutton.innerHTML = '<i class=\"fa fa-xmark\"></i>';\n\t\t\t\t\t\t\tbutton.title = this.$p.t('betriebsmittel', 'btn_deleteBetriebsmittel');\n\t\t\t\t\t\t\tbutton.addEventListener(\n\t\t\t\t\t\t\t\t'click',\n\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\tthis.actionDeleteBetriebsmittel(cell.getData().betriebsmittelperson_id)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontainer.append(button);\n\n\t\t\t\t\t\t\treturn container;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfrozen: true\n\t\t\t\t\t}],\n\t\t\t\tlayout: 'fitColumns',\n\t\t\t\tlayoutColumnsOnNewData: false,\n\t\t\t\theight: '550',\n\t\t\t\tpersistenceID: 'core-betriebsmittel'\n\t\t\t},\n\t\t\ttabulatorEvents: [\n\t\t\t\t{\n\t\t\t\t\tevent: 'tableBuilt',\n\t\t\t\t\thandler: async() => {\n\n\t\t\t\t\t\tawait this.$p.loadCategory(['wawi', 'global', 'infocenter', 'betriebsmittel', 'person']);\n\n\t\t\t\t\t\tlet cm = this.$refs.table.tabulator.columnManager;\n\n\t\t\t\t\t\tcm.getColumnByField('nummer').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('wawi', 'nummer')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('betriebsmitteltyp').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('global', 'typ')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('anmerkung').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('global', 'anmerkung')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('retouram').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('wawi', 'retourdatum')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('beschreibung').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('global', 'beschreibung')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('kaution').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('infocenter', 'kaution')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('ausgegebenam').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('wawi', 'ausgabedatum')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('betriebsmittel_id').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('ui', 'betriebsmittel_id')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('betriebsmittelperson_id').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('ui', 'betriebsmittelperson_id')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('person_id').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('person', 'person_id')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('uid').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('person', 'uid')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tlistBetriebsmitteltyp: [],\n\t\t\tformData: {\n\t\t\t\tausgegebenam : new Date(),\n\t\t\t\tbetriebsmitteltyp: 'Zutrittskarte'\n\t\t\t},\n\t\t\tstatusNew: true,\n\t\t\tfilteredInventar: []\n\t\t}\n\t},\n\twatch: {\n\t\tid() {\n\t\t\tthis.$refs.table.reloadTable();\n\t\t}\n\t},\n\tmethods: {\n\t\tactionEditBetriebsmittel(betriebsmittelperson_id) {\n\t\t\tthis.statusNew = false;\n\t\t\tthis\n\t\t\t\t.loadBetriebsmittel(betriebsmittelperson_id)\n\t\t\t\t.then(this.$refs.betriebsmittelModal.show);\n\t\t},\n\t\tactionNewBetriebsmittel() {\n\t\t\tthis.resetModal();\n\t\t\tthis.$refs.betriebsmittelModal.show();\n\t\t},\n\t\tactionDeleteBetriebsmittel(betriebsmittelperson_id) {\n\t\t\tthis.$fhcAlert\n\t\t\t\t.confirmDelete()\n\t\t\t\t.then(result => result\n\t\t\t\t\t? betriebsmittelperson_id\n\t\t\t\t\t: Promise.reject({handled: true}))\n\t\t\t\t.then(betriebsmittelperson_id => this.$api.call(\n\t\t\t\t\tthis.endpoint.deleteBetriebsmittel(betriebsmittelperson_id))\n\t\t\t\t)\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.$fhcAlert.alertSuccess(this.$p.t('ui', 'successDelete'));\n\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\tthis.reload();\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\taddNewBetriebsmittel() {\n\t\t\t//just append uid to formdata\n\t\t\tthis.formData.uid = this.uid;\n\t\t\tif (this.formData.betriebsmitteltyp == 'Inventar')\n\t\t\t\tthis.formData.betriebsmittel_id = this.formData.inventarData?.betriebsmittel_id;\n\t\t\treturn this.$refs.betriebsmittelData\n\t\t\t\t.call(this.endpoint.addNewBetriebsmittel(this.id, this.formData))\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.$fhcAlert.alertSuccess(this.$p.t('ui', 'successSave'));\n\t\t\t\t\tthis.$refs.betriebsmittelModal.hide();\n\t\t\t\t\tthis.resetModal();\n\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\tthis.reload();\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tupdateBetriebsmittel(betriebsmittelperson_id) {\n\t\t\tif (this.formData.betriebsmitteltyp == 'Inventar')\n\t\t\t\tthis.formData.betriebsmittel_id = this.formData.inventarData?.betriebsmittel_id;\n\t\t\treturn this.$refs.betriebsmittelData\n\t\t\t\t.call(this.endpoint.updateBetriebsmittel(\n\t\t\t\t\tbetriebsmittelperson_id,\n\t\t\t\t\tthis.formData\n\t\t\t\t))\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.$fhcAlert.alertSuccess(this.$p.t('ui', 'successSave'));\n\t\t\t\t\tthis.$refs.betriebsmittelModal.hide();\n\t\t\t\t\tthis.resetModal();\n\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\tthis.reload();\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tloadBetriebsmittel(betriebsmittelperson_id) {\n\t\t\tthis.resetModal();\n\t\t\tthis.statusNew = false;\n\t\t\treturn this.$api\n\t\t\t\t.call(this.endpoint.loadBetriebsmittel(betriebsmittelperson_id))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.formData = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tsearchInventar(event) {\n\t\t\tconst encodedQuery = encodeURIComponent(event.query);\n\t\t\treturn this.$api\n\t\t\t\t.call(this.endpoint.loadInventarliste(encodedQuery))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.filteredInventar = result.data;\n\t\t\t\t});\n\t\t},\n\t\treload() {\n\t\t\tthis.$refs.table.reloadTable();\n\t\t},\n\t\tresetModal() {\n\t\t\tthis.formData = {};\n\t\t\tthis.formData.ausgegebenam = new Date();\n\t\t\tthis.formData.retouram = null;\n\t\t\tthis.formData.betriebsmitteltyp = null;\n\t\t\tthis.formData.nummer = null;\n\t\t\tthis.formData.nummer2 = null;\n\t\t\tthis.formData.kaution = null;\n\t\t\tthis.formData.anmerkung = null;\n\t\t\tthis.formData.beschreibung = null;\n\t\t\tthis.statusNew = true;\n\t\t}\n\t},\n\tcreated() {\n\t\treturn this.$api\n\t\t\t.call(this.endpoint.getTypenBetriebsmittel(this.betriebsmittelTypes))\n\t\t\t.then(result => {\n\t\t\t\tthis.listBetriebsmitteltyp = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\ttemplate: `\n\t<div class=\"core-betriebsmittel h-100 d-flex flex-column\">\n\t\t<core-filter-cmpt\n\t\t\tref=\"table\"\n\t\t\t:tabulator-options=\"tabulatorOptions\"\n\t\t\t:tabulator-events=\"tabulatorEvents\"\n\t\t\ttable-only\n\t\t\t:side-menu=\"false\"\n\t\t\treload\n\t\t\t:reload-btn-infotext=\"this.$p.t('table', 'reload')\"\n\t\t\tnew-btn-show\n\t\t\t:new-btn-label=\"this.$p.t('ui', 'betriebsmittel')\"\n\t\t\t@click:new=\"actionNewBetriebsmittel\"\n\t\t\t>\n\t\t</core-filter-cmpt>\t\t\n\t\t\n\t\t<!--Modal: betriebsmittelModal-->\n\t\t<bs-modal ref=\"betriebsmittelModal\">\n\t\t\t<template #title>\n\t\t\t\t<p v-if=\"statusNew\" class=\"fw-bold mt-3\">{{$p.t('ui', 'add_betriebsmittel')}}</p>\n\t\t\t\t<p v-else class=\"fw-bold mt-3\">{{$p.t('ui', 'edit_betriebsmittel')}}</p>\n\t\t\t</template>\n\t\t\t\n\t\t\t<core-form class=\"row g-3\" ref=\"betriebsmittelData\">\t\t\n\t\t\t\t<legend>Details</legend>\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t:label=\"$p.t('global/typ') + ' *'\"\n\t\t\t\t\t\tname=\"betriebsmitteltyp\"\n\t\t\t\t\t\tv-model=\"formData.betriebsmitteltyp\"\n\t\t\t\t\t\t:disabled=\"!statusNew\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"entry in listBetriebsmitteltyp\"\n\t\t\t\t\t\t\t:key=\"entry.betriebsmitteltyp\"\n\t\t\t\t\t\t\t:value=\"entry.betriebsmitteltyp\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{entry.beschreibung}}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div v-if=\"formData.betriebsmitteltyp == 'Inventar'\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"autocomplete\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/inventarnummer')\"\n\t\t\t\t\t\tname=\"betriebsmittel_id\"\n\t\t\t\t\t\tv-model=\"formData.inventarData\"\n\t\t\t\t\t\toption-label=\"dropdowntext\" \n\t\t\t\t\t\t:suggestions=\"filteredInventar\" \n\t\t\t\t\t\t@complete=\"searchInventar\" \n\t\t\t\t\t\t:min-length=\"3\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"formData.inventarnummer\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/inventarnummer')\"\n\t\t\t\t\t\tname=\"inventarnummer\"\n\t\t\t\t\t\tv-model=\"formData.inventarnummer\"\n\t\t\t\t\t\t:disabled=\"!statusNew\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div v-if=\"formData.betriebsmitteltyp!='Inventar' && !formData.inventarnummer\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/nummer')\"\n\t\t\t\t\t\tname=\"nummer\"\n\t\t\t\t\t\tv-model=\"formData.nummer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div v-if=\"formData.betriebsmitteltyp!='Inventar' && !formData.inventarnummer\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/nummer') + ' 2'\"\n\t\t\t\t\t\tname=\"nummer2\"\n\t\t\t\t\t\tv-model=\"formData.nummer2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div v-if=\"formData.betriebsmitteltyp!='Inventar'\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t:label=\"$p.t('global/beschreibung')\"\n\t\t\t\t\t\tname=\"beschreibung\"\n\t\t\t\t\t\tv-model=\"formData.beschreibung\"\n\t\t\t\t\t\t:disabled=\"formData.inventarnummer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:label=\"$p.t('infocenter/kaution')\"\n\t\t\t\t\t\tname=\"kaution\"\n\t\t\t\t\t\tv-model=\"formData.kaution\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t:label=\"$p.t('global/anmerkung')\"\n\t\t\t\t\t\tname=\"anmerkung\"\n\t\t\t\t\t\tv-model=\"formData.anmerkung\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"DatePicker\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/ausgegebenam')\"\n\t\t\t\t\t\tname=\"ausgegebenam\"\n\t\t\t\t\t\tv-model=\"formData.ausgegebenam\"\n\t\t\t\t\t\tauto-apply\n\t\t\t\t\t\t:enable-time-picker=\"false\"\n\t\t\t\t\t\ttext-input\n\t\t\t\t\t\tformat=\"dd.MM.yyyy\"\n\t\t\t\t\t\tpreview-format=\"dd.MM.yyyy\"\n\t\t\t\t\t\t:teleport=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"DatePicker\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/retouram')\"\n\t\t\t\t\t\tname=\"retouram\"\n\t\t\t\t\t\tv-model=\"formData.retouram\"\n\t\t\t\t\t\tauto-apply\n\t\t\t\t\t\t:enable-time-picker=\"false\"\n\t\t\t\t\t\ttext-input\n\t\t\t\t\t\tformat=\"dd.MM.yyyy\"\n\t\t\t\t\t\tpreview-format=\"dd.MM.yyyy\"\n\t\t\t\t\t\t:teleport=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t</core-form>\n\t\t\t\n\t\t\t<template #footer>\n\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" @click=\"statusNew ? addNewBetriebsmittel() : updateBetriebsmittel(formData.betriebsmittelperson_id)\">{{$p.t('ui', 'speichern')}}</button>\n\t\t\t</template>\n\t\t</bs-modal>\n\t</div>`\n}\n\n","import FhcFragment from \"../Fragment.js\";\n\nexport default {\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\t$registerToForm: component => {\n\t\t\t\tif (this.inputs.indexOf(component) < 0)\n\t\t\t\t\tthis.inputs.push(component);\n\t\t\t},\n\t\t\t$clearValidationForName: this.clearValidationForName\n\t\t};\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'form'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinputs: []\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedInputs() {\n\t\t\treturn this.inputs.reduce((a,c) => {\n\t\t\t\tlet name = c.name || '_default';\n\t\t\t\tif (!a[name])\n\t\t\t\t\ta[name] = [];\n\t\t\t\ta[name].push(c);\n\n\t\t\t\tif (c.lcType == 'checkbox' && name.substr(-1) == ']' && name.indexOf('[')) {\n\t\t\t\t\tname = name.substr(0, name.lastIndexOf('['));\n\t\t\t\t\tif (!a[name])\n\t\t\t\t\t\ta[name] = [];\n\t\t\t\t\ta[name].push(c);\n\t\t\t\t}\n\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t},\n\t\t/* Deprecated Code start */\n\t\tfactory() {\n\t\t\tconsole.warn('<form>.factory is deprecated! Use <form>.call() instead.');\n\t\t\tconst factory = Object.create(Object.getPrototypeOf(this.$fhcApi.factory), Object.getOwnPropertyDescriptors(this.$fhcApi.factory));\n\t\t\tfactory.$fhcApi = {\n\t\t\t\tget: this.get,\n\t\t\t\tpost: this.post,\n\t\t\t\t_defaultErrorHandlers: this.$fhcApi._defaultErrorHandlers\n\t\t\t};\n\t\t\treturn factory;\n\t\t}\n\t\t/* Deprecated Code end */\n\t},\n\tmethods: {\n\t\tget(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.get(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.get(...args);\n\t\t},\n\t\tpost(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.post(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.post(...args);\n\t\t},\n\t\tcall(factory, overwriteconfig) {\n\t\t\treturn this.$api.call(factory, overwriteconfig, this);\n\t\t},\n\t\t_sendFeedbackToInput(inputs, feedback, valid) {\n\t\t\tif (inputs.length) {\n\t\t\t\tinputs.forEach(input => input.setFeedback(valid, feedback));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.$fhcAlert) {\n\t\t\t\tthis.$fhcAlert[valid ? 'alertSuccess' : 'alertError'](feedback);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (Array.isArray(feedback)) {\n\t\t\t\tlet remaining = feedback.filter(fb => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? remaining : null;\n\t\t\t}\n\t\t\tif (typeof feedback === 'object') {\n\t\t\t\tlet remaining = Object.entries(feedback).filter(([name, fb]) => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? Object.fromEntries(remaining) : null;\n\t\t\t}\n\n\t\t\tlet remaining = this._sendFeedbackToInput(\n\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\tfeedback,\n\t\t\t\tvalid\n\t\t\t);\n\t\t\treturn remaining ? feedback : null;\n\t\t},\n\t\tclearValidation() {\n\t\t\tthis.inputs.forEach(input => input.clearValidation());\n\t\t},\n\t\tsend(promise) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tpromise.then(result => {\n\t\t\t\t\tif (result?.status == 200 && result.data) {\n\t\t\t\t\t\tif (typeof result.data !== 'object' || !result.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tif (result.data.error)\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tconst data = result.data.retval;\n\t\t\t\t\t\t// TODO(chris): check for something better/add new standardized return value\n\t\t\t\t\t\tif (result.data.code == 1)\n\t\t\t\t\t\t\tthis.setFeedback(true, data);\n\t\t\t\t\t\treturn resolve(data);\n\t\t\t\t\t}\n\t\t\t\t\t// TODO(chris): IMPLEMENT! Wrong result object\n\t\t\t\t\treject(result);\n\t\t\t\t}).catch(result => {\n\t\t\t\t\tif (result?.response?.status == 400 && result.response.data) {\n\t\t\t\t\t\tif (typeof result.response.data !== 'object' || !result.response.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tthis.clearValidation();\n\t\t\t\t\t\tconst remaining = this.setFeedback(\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tresult.response.data.retval\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (remaining) {\n\t\t\t\t\t\t\tresult.response.data.retval = remaining;\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (result?.response?.status == 500) {\n\t\t\t\t\t\tif (this.$fhcAlert)\n\t\t\t\t\t\t\tthis.$fhcAlert.handleSystemError(result);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tclearValidationForName(name) {\n\t\t\t(this.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [])\n\t\t\t\t.forEach(input => input.clearValidation());\n\t\t}\n\t},\n\ttemplate: `\n\t<component :is=\"tag || 'FhcFragment'\" v-bind=\"$attrs\">\n\t\t<slot></slot>\n\t</component>`\n}\n","export default {\n\tgetOrgStructure(oe) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: `/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgStructure?oe=${oe}`,      \n\t\t}\n\t},\n\tgetOrgPersonen(oe) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: `/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgPersonen?oe=${oe}`,      \n\t\t}\n\t},\n\tgetOrgHeads() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgHeads'\n\t\t}\n\t}\n};\n","// import {CoreRESTClient} from '../../../../../js/RESTClient.js';\nimport ApiOrgViewer from '../../api/factory/orgviewer.js';\n\nexport const OrgChooser = {\n\tname: 'OrgChooser',\n    props: {\n      placeholder: String,\n      customClass: String,\n      oe: String,\n    },\n    emits: [\"orgSelected\"],\n    setup(props, { emit }) {   \n\n      const orgList = Vue.ref([]);\n      const isFetching = Vue.ref(false);\n      const oeRef = Vue.toRefs(props).oe\n      const selected = Vue.ref();\n      const $api = Vue.inject('$api');\n\n      const fetchHead = async () => {\n        isFetching.value = true\n        try {\n          /* const res = await CoreRESTClient.get(\n            'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgHeads');\n          orgList.value = CoreRESTClient.getData(res.data); */\n          const res = await $api.call(ApiOrgViewer.getOrgHeads());\n          orgList.value = res.data;\n          if (orgList.value.length > 0)  {\n            //orgList.value.reverse();\n            if (props.oe == undefined || (props.oe != null && props.oe == '')) {\n              selected.value = orgList.value[0].oe_kurzbz;\n            }\n            emit(\"orgSelected\", selected.value);\n          }\n          isFetching.value = false          \n        } catch (error) {\n          console.log(error)\n          isFetching.value = false\n        }\n      }\n\n      Vue.onMounted(() => {\n        fetchHead();\n      })\n\n      const orgSelected = (e) => {\n        emit(\"orgSelected\", e.target.value);\n      }\n\n      Vue.watch(\n        oeRef,\n        (val, old) => {\n          console.log('prop value changed', val);\n          selected.value = val;\n        }\n      )\n\n      return   {\n        orgList, selected,\n\n        orgSelected\n      }\n\n\n    },\n    template: `\n    <select  id=\"orgHeadChooser\" v-model=\"selected\" @change=\"orgSelected\" class=\"form-control-sm\" aria-label=\".form-select-sm \" >\n        <option v-for=\"(item, index) in orgList\" :value=\"item.oe_kurzbz\"  :key=\"item.oe_kurzbz\">\n            {{ item.bezeichnung }}\n        </option>         \n    </select>\n    `\n}    \n","export default {\n  getContractFunctions(filter) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/FunctionsAPI/getContractFunctions';\n    if( typeof filter !== 'undefined' && filter !== null ) {\n        url = url + '/' + filter;\n    }\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl,\n\t\t};\n    \n  },\n  getOrgetsForCompany(unternehmen) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgetsForCompany'\n            + '/' + unternehmen;\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl,\n\t\t};\n  },\n  getCompanyByOrget(orget) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getCompanyByOrget'\n            + '/' + orget;\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl,\n\t\t};\n  },\n  getCurrentFunctions(mitarbeiter_uid, unternehmen) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/FunctionsAPI/getCurrentFunctions'\n            + '/' + mitarbeiter_uid + '/' + unternehmen;\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl, \n\t\t};\n  }  ,\n  getAllUserFunctions(mitarbeiter_uid) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/FunctionsAPI/getAllUserFunctions'\n            + '/' + mitarbeiter_uid;\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl, \n\t\t};\n  },\n  getAllFunctions() {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/FunctionsAPI/getAllFunctions';\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl, \n\t\t};\n  }\n};\n","import { Modal } from '../Modal.js';\nimport { ModalDialog } from '../ModalDialog.js';\nimport {OrgChooser} from \"../../components/organisation/OrgChooser.js\";\nimport { usePhrasen } from '../../../../../../public/js/mixins/Phrasen.js';\nimport ApiFunktion from '../../api/factory/funktion.js';\nimport ApiPerson from '../../api/factory/person.js';\n\nexport const JobFunction = {\n\tname: 'JobFunction',\n    components: {\n        Modal,\n        ModalDialog,\n        OrgChooser,\n        \"datepicker\": VueDatePicker\n    },\n    props: {\n        modelValue: { type: Object, default: () => ({}), required: false},\n        config: { type: Object, default: () => ({}), required: false},\n        readonlyMode: { type: Boolean, required: false, default: false },\n        personID: { type: Number, required: false },\n        personUID: { type: String, required: false },\n        writePermission: { type: Boolean, required: false },\n    },\n    emits: ['updateHeader'],\n    setup( props, { emit } ) {\n\n        const $api = Vue.inject('$api');\n        const $fhcAlert = Vue.inject('$fhcAlert');\n\n        const readonly = Vue.ref(false);\n\n        const { t } = usePhrasen();\n\n        //const { personID: currentPersonID , personUID: currentPersonUID  } = Vue.toRefs(props);\n        const currentPersonID = Vue.computed(() => { return props.personID });\n        const currentPersonUID = Vue.computed(() => { return props.personUID });\n\n        const dialogRef = Vue.ref();\n\n        const isFetching = Vue.ref(false);\n\n        const theModel = Vue.computed({\n            get: () => props.modelValue,\n            set: (value) => emit('update:modelValue', value),\n        });\n\n        const unternehmen = Vue.ref();\n        const jobfunctionList = Vue.ref([]);\n        const jobfunctionDefList = Vue.ref([]);\n        const orgUnitList = Vue.ref([{value: '', label: '-'}]);\n\n        const aktivChecked = Vue.ref(true);\n\n        const table = Vue.ref(null); // reference to your table element\n        const tabulator = Vue.ref(null); // variable to hold your table\n        const tableData = Vue.reactive([]); // data for table to display\n\n\n        const full = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n        const route = ( props.readonlyMode !== true ) ? VueRouter.useRoute() : null;\n\n        const convertArrayToObject = (array, key) => {\n            const initialValue = {};\n            return array.reduce((obj, item) => {\n              return {\n                ...obj,\n                [item[key]]: item,\n              };\n            }, initialValue);\n          };\n\n        const fetchData = async () => {\n            if (currentPersonID.value==null && theModel.value.personID==null) {    \n                jobfunctionList.value = [];            \n                return;\n            }\n            isFetching.value = true\n \n            // fetch data and map them for easier access\n            try {\n                const response = await $api.call(ApiFunktion.getAllUserFunctions(theModel.value.personUID || currentPersonUID.value));\n                if(response.meta.status != \"success\") {\n                    let rawList = [];\n                    tableData.value = [];\n                    jobfunctionList.value = convertArrayToObject(rawList, 'benutzerfunktion_id');\n                } else {\n                    let rawList = response.data;\n                    tableData.value = response.data;\n                    jobfunctionList.value = convertArrayToObject(rawList, 'benutzerfunktion_id');\n                }\n            } catch (error) {\n                console.log(error)              \n            } finally {\n                isFetching.value = false\n            }\n            \n        }\n\n        const createShape = () => {\n            return {\n                benutzerfunktion_id: 0,\n                uid: theModel.value.personUID || currentPersonUID.value,\n                oe_kurzbz: \"\",\n                funktion_kurzbz: \"\",\n                datum_von: \"\",\n                datum_bis: \"\",  \n                bezeichnung: \"\",\n                wochenstunden: 0,     \n            } \n        }\n\n        const currentValue = Vue.ref(createShape());\n        const preservedValue = Vue.ref(createShape());\n\n        Vue.watch([currentPersonID, currentPersonUID], ([id,uid]) => {\n            fetchData();                     \n        });\n\n        Vue.watch(unternehmen, (unternehmen_kurzbz) => {\n            fetchOrgUnits(unternehmen_kurzbz);   \n            fetchFunctions();             \n        });\n\n        const toggleMode = async () => {\n            if (!readonly.value) {\n                // cancel changes?\n                if (hasChanged.value) {\n                  const ok = await dialogRef.value.show();\n                  if (ok) {\n                    console.log(\"ok=\", ok);\n                    currentValue.value = preservedValue.value;\n                  } else {\n                    return\n                  }\n                }\n              } else {\n                // switch to edit mode and preserve data\n                preservedValue.value = {...currentValue.value};\n              }\n              readonly.value = !readonly.value;\n        }\n\n        Vue.onMounted(async () => {\n            currentValue.value = createShape();\n            await fetchData();\n\n            const dateFormatter = (cell) => {\n                return cell.getValue()?.replace(/(.*)-(.*)-(.*)/, '$3.$2.$1');\n            }\n\n            const dvFormatter = (cell) => {\n                if( props.readonlyMode === true ) {\n                    return (cell.getValue() != null) ? cell.getValue() : '';\n                }\n                const url = fullPath + route.params.id + '/' + route.params.uid + '/contract/' + cell.getRow().getData().dienstverhaeltnis_id;\n                return cell.getValue() != null ? `<a href=\"${url}\">` + cell.getValue() + '</a>' : '';\n            }\n\n            // helper\n            const createDomButton = (classValue, clickHandler) => {\n                const nodeBtn = document.createElement(\"button\");\n                const classAttrBtn = document.createAttribute(\"class\");\n                classAttrBtn.value = \"btn btn-outline-secondary btn-sm\";\n                nodeBtn.setAttributeNode(classAttrBtn);\n                nodeBtn.addEventListener(\"click\", clickHandler);\n                const nodeI = document.createElement(\"i\");\n                const classAttrI = document.createAttribute(\"class\");\n                classAttrI.value = classValue;\n                nodeI.setAttributeNode(classAttrI);\n                nodeBtn.appendChild(nodeI);\n                return nodeBtn;\n            }\n\n            const btnFormatter = (cell) => {\n\n                const nodeDiv = document.createElement(\"div\");  \n                const classAttrDiv = document.createAttribute(\"class\");\n                classAttrDiv.value = \"d-grid gap-2 d-md-flex justify-content-end align-middle\";\n                nodeDiv.setAttributeNode(classAttrDiv);\n                // delete button\n                const nodeBtnDel = createDomButton(\"fa fa-xmark\",() => { showDeleteModal(cell.getValue()) })\n                // edit button\n                const nodeBtnEdit = createDomButton(\"fa fa-pen\",() => { showEditModal(cell.getValue()) })\n\n                if( cell.getRow().getData().dienstverhaeltnis_unternehmen === null ) {\n                    nodeDiv.appendChild(nodeBtnEdit);\n                    nodeDiv.appendChild(nodeBtnDel);\n                }\n                \n                return nodeDiv;\n            }\n            \n\n            const columnsDef = [\n                { title: t('person','dv_unternehmen'), field: \"dienstverhaeltnis_unternehmen\", formatter: dvFormatter, sorter:\"string\", headerFilter:\"list\", headerFilterParams: {valuesLookup:true, autocomplete:true, sort:\"asc\"} },\n                { title: t('person','zuordnung_taetigkeit'), field: \"funktion_beschreibung\", hozAlign: \"left\", headerFilter:\"list\", headerFilterParams: {valuesLookup:true, autocomplete:true, sort:\"asc\"} },\n                { title: t('lehre','organisationseinheit'), field: \"funktion_oebezeichnung\", headerFilter:\"list\", headerFilterParams: {valuesLookup:true, autocomplete:true, sort:\"asc\"} },\n                { title: t('person','wochenstunden'), field: \"wochenstunden\", hozAlign: \"right\", width: 140, headerFilter:true },\n                { title: t('ui','from'), field: \"datum_von\", hozAlign: \"center\", formatter: dateFormatter, width: 140, sorter:\"string\", headerFilter:true, headerFilterFunc:customHeaderFilter },                \n                { title: t('global','bis'), field: \"datum_bis\", hozAlign: \"center\", formatter: dateFormatter, width: 140, sorter:\"string\", headerFilter:true, headerFilterFunc:customHeaderFilter },\n                { title: t('ui','bezeichnung'), field: \"bezeichnung\", hozAlign: \"left\", headerFilter:\"list\", headerFilterParams: {valuesLookup:true, autocomplete:true, sort:\"asc\"} }\n              ];\n\n            if( props.readonlyMode === false) {\n                columnsDef.push({ title: \"\", field: \"benutzerfunktion_id\", formatter: btnFormatter, hozAlign: \"right\", width: 100, headerSort: false, frozen: true });\n            }\n\n            let tabulatorOptions = {\n\t\t\t\theight: \"100%\",\n\t\t\t\tlayout: \"fitColumns\",\n\t\t\t\tmovableColumns: true,\n\t\t\t\treactiveData: true,\n                columns: columnsDef,\n                //data: tableData.value,\n                data: jobfunctionListArray.value,\n\t\t\t};\n\n            tabulator.value = new Tabulator(\n\t\t\t\ttable.value,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n            \n            function customHeaderFilter(headerValue, rowValue, rowData, filterParams){\n                //headerValue - the value of the header filter element\n                //rowValue - the value of the column in this row\n                //rowData - the data for the row being filtered\n                //filterParams - params object passed to the headerFilterFuncParams property\n            \n                const validDate = function(d){\n                    return d instanceof Date && isFinite(d);\n                }\n\n                const date1 = new Date(rowValue);\n                date1.setHours(0,0,0,0);\n                let [day, month, year] = headerValue.split('.')\n                if (year < 1000) return true;  // prevents dates like 17.5.2\n                const date2 = new Date(+year, +month - 1, +day);\n                \n                return  !(validDate(date2)) || ((date2 - date1) == 0); //must return a boolean, true if it passes the filter.\n            }\n\n            tabulator.value.on('tableBuilt', () => {\n                //tabulator.value.setData(tableData.value);\n                \n            })\n            \n        })\n\n        const jobfunctionListArray = Vue.computed(() => {\n            let temp = (jobfunctionList.value ? Object.values(jobfunctionList.value) : []);\n            let filtered = temp.filter((e) => ( !aktivChecked.value || (aktivChecked.value && e.aktiv) ));\n            return filtered;\n        });\n\n        const getJobFunction = (kurzbz) => {\n            let t = jobfunctionListArray.value.filter((item) => item.funktion_kurzbz == kurzbz);\n            return t.length > 0 ? t[0].bezeichnung : ''\n        }\n\n        // Workaround to update tabulator\n        Vue.watch(jobfunctionListArray, (newVal, oldVal) => {\n            tabulator.value?.setData(jobfunctionListArray.value);\n        }, {deep: true})\n\n        // Modal \n        const modalRef = Vue.ref();\n\n        const showAddModal = () => {\n            currentValue.value = createShape();\n            // reset form state\n            frmState.orgetBlurred=false;\n            frmState.funktionBlurred=false;            \n            frmState.beginnBlurred=false;\n            // call bootstrap show function\n            modalRef.value.show();\n        }\n\n        const hideModal = () => {\n            modalRef.value.hide();\n        }\n        \n        const showEditModal = async (id) => {\n            currentValue.value = { ...jobfunctionList.value[id] };\n            // fetch company\n            isFetching.value = true;\n            try {\n                const res = await $api.call(ApiFunktion.getCompanyByOrget(currentValue.value.oe_kurzbz));\n                if (res.meta.status == \"success\") {\n                    unternehmen.value = res.data[0].oe_kurzbz;\n                } else {\n                    console.log('company not found for orget!');\n                }\n\n            } catch (error) {\n                $fhcAlert.handleSystemError(error)           \n            } finally {\n                  isFetching.value = false\n            }   \n            //delete currentValue.value.bezeichnung;\n            modalRef.value.show();\n        }\n\n        const showDeleteModal = async (id) => {\n            currentValue.value = { ...jobfunctionList.value[id] };\n            \n            if (await $fhcAlert.confirm({\n                    message: t('person','funktion') + ' ' + getJobFunction(currentValue.value?.funktion_kurzbz) + '  (' + formatDate(currentValue.value?.datum_von) + '-' + (currentValue.value.datum_bis != null ? formatDate(currentValue.value.datum_bis) : '?') + ') ' + t('person', 'wirklichLoeschen'),\n                    acceptLabel: 'Löschen',\n\t\t\t\t    acceptClass: 'p-button-danger'\n                }) === false) {\n                return;\n            }    \n\n            try {\n                const res = await $api.call(ApiPerson.deletePersonJobFunction(id));                \n                if (res.meta.status == \"success\") {\n                    delete jobfunctionList.value[id];\n                    showDeletedToast();\n                    theModel.value.updateHeader();\n                }\n            } catch (error) {\n                $fhcAlert.handleSystemError(error)             \n            } finally {\n                    isFetching.value = false\n            }   \n                \n        }\n\n\n        const okHandler = async () => {\n            if (!validate()) {\n\n                console.log(\"form invalid\");\n\n            } else {\n\n                // submit\n                try {\n                    let payload = {...currentValue.value};\n                    delete payload.dienstverhaeltnis_id;\n                    delete payload.dienstverhaeltnis_unternehmen;\n                    delete payload.fachbereich_bezeichnung;\n                    delete payload.funktion_oebezeichnung;\n                    delete payload.aktiv;\n                    delete payload.funktion_beschreibung;\n                    const r = await $api.call(ApiPerson.upsertPersonJobFunction(payload));\n                    if (r.meta.status == \"success\") {\n                        // fetch all data because of all the references in the changed record\n                        await fetchData();\n                        console.log('job function successfully saved');\n                        theModel.value.updateHeader();\n                        showToast();\n                    }  \n                } catch (error) {\n                    $fhcAlert.handleSystemError(error)            \n                } finally {\n                    isFetching.value = false\n                }\n                \n                hideModal();\n            }\n        }\n\n        // -------------\n        // form handling\n        // -------------\n\n        const jobFunctionFrm = Vue.ref();\n\n        const frmState = Vue.reactive({ beginnBlurred: false, orgetBlurred: false, funktionBlurred: false, wasValidated: false });       \n\n        const notEmpty = (n) => {\n            return !!n && n.trim() != \"\";\n        }\n\n        const validate = () => {\n            frmState.orgetBlurred = true;\n            frmState.funktionBlurred = true;\n            frmState.beginnBlurred = true;\n            return notEmpty(currentValue.value.datum_von) && \n                notEmpty(currentValue.value.oe_kurzbz) && \n                notEmpty(currentValue.value.funktion_kurzbz);\n        }\n        \n\n        const hasChanged = Vue.computed(() => {\n            return Object.keys(currentValue.value).some(field => currentValue.value[field] !== preservedValue.value[field])\n        });\n\n        const formatDate = (d) => {\n            if (d != null && d != '') {\n\t\t        return d.substring(8, 10) + \".\" + d.substring(5, 7) + \".\" + d.substring(0, 4);\n            } else {\n                return ''\n            }\n        }\n        \n        const showToast = () => {\n            $fhcAlert.alertSuccess(t('person','funktionGespeichert'));\n        }\n\n        const showDeletedToast = () => {\n            $fhcAlert.alertSuccess(t('person','funktionGeloescht'));\n        }\n\n        const fetchOrgUnits = async (unternehmen_kurzbz) => {\n            if( unternehmen_kurzbz === '' ) {\n                return;\n            }\n            const response = await $api.call(ApiFunktion.getOrgetsForCompany(unternehmen_kurzbz));\n            const orgets = response.data;\n            orgets.unshift({\n              value: '',\n              label: t('ui','bitteWaehlen'),\n            });\n            orgUnitList.value = await  orgets;\n        }\n\n        const fetchFunctions = async (uid, unternehmen_kurzbz) => {\n            if(unternehmen_kurzbz === '' || uid === '' ) { \n              return;  \n            }\n            const response = await $api.call(ApiFunktion.getAllFunctions());\n            const benutzerfunktionen = response.data;\n            benutzerfunktionen.unshift({\n              value: '',\n              label: t('ui','bitteWaehlen'),\n            });\n            jobfunctionDefList.value = benutzerfunktionen;\n          }\n\n        const unternehmenSelectedHandler = (e) => {\n            unternehmen.value = e;\n        }\n \n        const ciPath = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/(https:|)(^|\\/\\/)(.*?\\/)/g, '') + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n        const fullPath = `/${ciPath}/extensions/FHC-Core-Personalverwaltung/Employees/`;\n\n        return { \n            jobfunctionList, orgUnitList, jobfunctionListArray,\n            jobfunctionDefList,\n            currentValue,\n            readonly,\n            frmState,\n            dialogRef,\n            jobFunctionFrm,\n            modalRef,\n            fullPath,\n            route,\n            aktivChecked,\n            unternehmen,\n            tabulator,\n            table,\n            \n            toggleMode, formatDate, notEmpty,            \n            showAddModal, hideModal, okHandler,\n            showEditModal, t, unternehmenSelectedHandler,\n         }\n    },\n    template: `\n    <div class=\"row\" v-if=\"readonlyMode === false\">\n        \n    </div>\n    <div class=\"row pt-md-4\">      \n         <div class=\"col\">\n             <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"h5\"><h5>{{ t('person','funktionen') }}</h5></div>        \n                </div>\n\n                <div class=\"card-body\">\n                    <div class=\"d-grid d-md-flex justify-content-between pt-2 pb-3\" v-if=\"readonlyMode === false\">\n                        <button type=\"button\" class=\"btn btn-sm btn-primary me-3\" @click=\"showAddModal()\">\n                            <i class=\"fa fa-plus\"></i> {{ t('person','funktion') }}\n                        </button>\n                        <div class=\"form-check\">\n                            <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"aktivChecked\" v-model=\"aktivChecked\">\n                            <label class=\"form-check-label\" for=\"aktivChecked\">Nur aktive anzeigen</label>\n                        </div>\n                    </div>\n\n                    <!-- TABULATOR -->\n                    <div ref=\"table\" class=\"fhc-tabulator\"></div>\n                \n                </div>\n             </div>\n         </div>\n    </div>\n            \n\n    <!-- detail modal -->\n    <Modal :title=\"t('person','funktion')\" ref=\"modalRef\" v-if=\"readonlyMode === false\">\n        <template #body>\n            <form class=\"row g-3\" ref=\"jobFunctionFrm\">\n                            \n                <div class=\"col-md-8\">\n                    <label class=\"form-label\">{{ t('core','unternehmen') }}</label><br>\n                    <org-chooser  @org-selected=\"unternehmenSelectedHandler\" :oe=\"unternehmen\" class=\"form-select form-select-sm\"></org-chooser>\n                </div>\n                <div class=\"col-md-4\">\n                </div>\n                <!--  -->\n                <div class=\"col-md-8\">\n                    <label class=\"required form-label\">{{ t('lehre','organisationseinheit') }}</label><br>\n                    <select id=\"oe_kurzbz\" v-model=\"currentValue.oe_kurzbz\" \n                        @blur=\"frmState.orgetBlurred = true\"\n                        class=\"form-select form-select-sm\" aria-label=\".form-select-sm \" \n                        :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly, 'is-invalid': !notEmpty(currentValue.oe_kurzbz) && frmState.orgetBlurred}\"\n                        >\n                        <option v-for=\"(item, index) in orgUnitList\" :value=\"item.value\">\n                            {{ item.label }}\n                        </option>                       \n                    </select>\n                </div>\n                <div class=\"col-md-4\">\n                </div>\n                <!--  -->\n                <div class=\"col-md-8\">\n                    <label for=\"funktion_kurzbz\" class=\"required form-label\">{{ t('person','funktion') }}</label><br>\n                    <select id=\"_kurzbz\" v-model=\"currentValue.funktion_kurzbz\" \n                        @blur=\"frmState.funktionBlurred = true\"\n                        class=\"form-select form-select-sm\" aria-label=\".form-select-sm \" \n                        :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly, 'is-invalid': !notEmpty(currentValue.funktion_kurzbz) && frmState.funktionBlurred}\"\n                        >\n                        <option v-for=\"(item, index) in jobfunctionDefList\" :value=\"item.value\">\n                            {{ item.label }}\n                        </option>                       \n                    </select>\n                </div>\n                <div class=\"col-md-4\"></div>\n                <!-- -->\n                <div class=\"col-md-2\">\n                    <label for=\"uid\" class=\"form-label\">{{ t('person','wochenstunden') }}</label>\n                    <input type=\"number\"  :readonly=\"readonly\" class=\"form-control-sm\" :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly}\" id=\"bank\" v-model=\"currentValue.wochenstunden\">\n                </div>\n                <!--  -->\n                <div class=\"col-md-3\">\n                    <label for=\"beginn\" class=\"required form-label\">{{ t('ui','from') }}</label>\n                    <datepicker id=\"beginn\"\n                        :teleport=\"true\" \n                        @blur=\"frmState.beginnBlurred = true\" \n                        :input-class-name=\"(!notEmpty(currentValue.datum_von) && frmState.beginnBlurred) ? 'dp-invalid-input' : ''\" \n                        v-model=\"currentValue.datum_von\"\n                        v-bind:enable-time-picker=\"false\"\n                        text-input \n                        locale=\"de\"\n                        format=\"dd.MM.yyyy\"\n                        auto-apply \n                        model-type=\"yyyy-MM-dd\"></datepicker>\n                </div>\n                <div class=\"col-md-3\">\n                    <label for=\"ende\" class=\"form-label\">{{ t('global','bis') }}</label>\n                    <datepicker id=\"ende\"\n                        :teleport=\"true\" \n                        v-model=\"currentValue.datum_bis\"\n                        v-bind:enable-time-picker=\"false\"\n                        text-input \n                        locale=\"de\"\n                        format=\"dd.MM.yyyy\"\n                        auto-apply \n                        model-type=\"yyyy-MM-dd\"></datepicker>                   \n                </div>\n                <div class=\"col-md-3\">\n                </div>\n                <!-- -->\n                <div class=\"col-md-8\">\n                    <label for=\"bezeichnung\" class=\"form-label\">{{ t('ui','bezeichnung') }}</label>\n                    <input type=\"text\"  :readonly=\"readonly\" class=\"form-control-sm\" :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly}\" id=\"bezeichnung\" v-model=\"currentValue.bezeichnung\">\n                </div>\n                <div class=\"col-md-4\">\n                </div>\n                \n                \n                <!-- changes -->\n                <div class=\"col-8\">\n                    <div class=\"modificationdate\">{{ currentValue.insertamum }}/{{ currentValue.insertvon }}, {{ currentValue.updateamum }}/{{ currentValue.updatevon }} [id={{ currentValue.benutzerfunktion_id }}]</div>\n                </div>\n                \n            </form>\n        </template>\n        <template #footer>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"okHandler()\" >\n                {{ t('ui','speichern') }}\n            </button>\n        </template>\n\n    </Modal>\n\n    <ModalDialog :title=\"t('global','warnung')\" ref=\"dialogRef\" v-if=\"readonlyMode === false\">\n      <template #body>\n        {{ t('person','funktionNochNichtGespeichert') }}\n      </template>\n    </ModalDialog>\n\n    `\n}\n\nexport default JobFunction;","export default {\n  getCurrentVBs(dvid) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getCurrentVBs/' \n            + dvid;\n    return {\n      method: 'get',\n      url,\n    }\n  },\n  getCurrentAndFutureVBs(dvid, options) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getCurrentAndFutureVBs/' \n            + dvid;\n      if( typeof options !== 'undefined' ) {\n        const params = new URLSearchParams(options);\n        url = url + '?' + params.toString();\n      }\n      return {\n        method: 'get',\n        url,\n      }\n  },\n  getAllVBs(dvid) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getAllVBs/' \n            + dvid;\n    return {\n      method: 'get',\n      url,\n    }\n  },\n  getVB(vbid) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getVB/' \n            + vbid;\n    return {\n      method: 'get',\n      url,\n    }\n  }\n};\n","export default {\n  filterPerson(searchVal) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/filterPerson',\n      params: searchVal\n    }\n  },\n  createEmployee(employeeData) {   \n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/createEmployee',\n      params: employeeData\n    }\n  },\n  personAbteilung(uid) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personAbteilung',\n      params: { uid }\n    }\n  },\n  personHeaderData(personID, uid) { \n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/headerData',\n      params: { person_id: personID, uid: uid }\n    }\n  },\n  dvByPerson(uid) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/dvByPerson',\n      params: {  uid: uid }\n    }\n  },\n  getCurrentDV(uid, ts) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getCurrentDV',\n      params: { uid: uid, d: ts }\n    }\n  },\n  deleteDV(dv_id) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/deleteDV',\n      params: { dv_id: dv_id  }\n    }\n  },\n  uploadPersonEmployeeFoto(person_id, imagedata) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/uploadPersonEmployeeFoto',\n      params: {person_id: person_id,imagedata: imagedata}\n    }\n  },\n  deletePersonEmployeeFoto(person_id) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonEmployeeFoto',\n      params: {person_id}\n    }\n  },\n  getEmployeesWithoutContract() {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getEmployeesWithoutContract',\n    }\n  },\n  dvInfoByPerson(uid) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/dvInfoByPerson',\n      params: {uid}\n    }\n  },\n};\n","import ApiVertragsbestandteil from '../../api/factory/vertragsbestandteil.js';\nimport ApiEmployee from '../../api/factory/employee.js';\n\nexport const EmployeeStatus = {\n\tname: 'EmployeeStatus',\n    props: {\n      tags: {\n          default: [],\n          type: Array\n      }\n    },\n    expose: ['refresh'],\n    setup( props ) {\n\n        const { watch, ref, reactive, computed, onMounted, inject } = Vue;\n        const route = VueRouter.useRoute();\n        const router = VueRouter.useRouter()\n        const currentPersonID = ref();\n        const currentPersonUID  = ref();\n        const dvList = ref([]);\n        const vertragList = ref([]);\n        const currentDate = ref(new Date());\n        const isFetching = ref(false);   \n        const vertragsarten = inject('vertragsarten');\n        const karenztypen = inject('karenztypen');\n        const teilzeittypen = inject('teilzeittypen');\n        const $api = inject('$api')   \n        \n        const formatVertragsart = (item) => {\n          let va = vertragsarten.value.find(kt => kt.value == item);\n          return va != undefined ? va.label : item;\n        }\n\n        const formatKarenztyp = (item) => {\n          let karenztyp = karenztypen.value.find(kt => kt.value == item);\n          return karenztyp != undefined ? karenztyp.label : item;\n        }\n\n        const formatTeilzeittyp = (item) => {\n          let teilzeittyp = teilzeittypen.value.find(kt => kt.value == item);\n          return teilzeittyp != undefined ? teilzeittyp.label : item;\n        }\n\n        let statusList = Vue.ref([]);    \n\n        const statusTags = Vue.ref(props.tags)\n\n        const generateStatusList = () => {\n          let anzDV = 0;\n          let dvIDs = [];\n          statusList.value = [];\n          dvList.value.forEach((dv) => {\n             let von = new Date(dv.von);\n             let bis = dv.bis != null ? new Date(dv.bis) : null;\n             if (currentDate.value >= von && (bis == null || bis >= currentDate.value)) {\n                 anzDV++;\n                 let vaExists = statusList.value.find((item) => item.text == formatVertragsart(dv.vertragsart_kurzbz))\n                 if (!vaExists) {\n                     statusList.value.push({text: formatVertragsart(dv.vertragsart_kurzbz), description: '', css: 'bg-dv rounded-0'})\n                 }\n                 dvIDs.push(dv.dienstverhaeltnis_id)\n             }\n          })\n          if (anzDV > 1) {\n            statusList.value.unshift({text: 'parallele DVs', description:'', css: 'bg-dv rounded-0'});\n          } else if (anzDV == 0) {\n            statusList.value.unshift({text: 'derzeit kein aktives DV', description:'', css: 'bg-dv rounded-0'});\n          }\n          console.log(\"dvIDs\", dvIDs)\n          Promise.all(dvIDs.map((dvID) => $api.call(ApiVertragsbestandteil.getCurrentVBs(dvID)))).then(\n            (allData) => {\n              allData.map((item) => {\n                item.data.map((vbs => {\n                  switch (vbs.vertragsbestandteiltyp_kurzbz) {\n                    case 'freitext':\n                      if (vbs.freitexttyp_kurzbz == 'befristung') {\n                        statusList.value.push({text: 'Befristung', description: '', css: 'bg-dv rounded-0'})\n                      } else if (vbs.freitexttyp_kurzbz == 'allin') {\n                        statusList.value.push({text: 'All-In', description: '', css: 'bg-allin rounded-0'})\n                      } else if (vbs.freitexttyp_kurzbz == 'ersatzarbeitskraft') {\n                        statusList.value.push({text: 'Ersatzarbeitskraft', description: '', css: 'bg-dv rounded-0'})\n                      }\n                      break;\n                    case 'karenz':\n                        statusList.value.push({text: formatKarenztyp(vbs.karenztyp_kurzbz), description: '', css: 'bg-karenz rounded-0'})\n                      break;\n                    case 'stunden':\n                      if (vbs.teilzeittyp_kurzbz != undefined) {\n                        statusList.value.push({text: formatTeilzeittyp(vbs.teilzeittyp_kurzbz), description: '', css: 'bg-teilzeit rounded-0'})\n                      }\n                      break;\n                    default:\n                      break;\n                  }                  \n                }))\n              })\n            }\n          );\n          \n        }  \n\n        const fetchData = async (uid) => {\n          if (uid == null) {\n              dvList.value = [];\n              vertragList.value = [];\n              return;\n          }\n          isFetching.value = true\n          try {\n              const res = await $api.call(ApiEmployee.dvByPerson(uid));\n              dvList.value = res.data || [];          \n              isFetching.value = false;\n              generateStatusList();           \n          } catch (error) {\n              console.log(error)\n              isFetching.value = false\n          }\n        }\n\n        onMounted(async () => {\n          await router.isReady()\n          console.log('route.path', route.path)\n          currentPersonID.value = route.params.id\n          currentPersonUID.value = route.params.uid         \n          currentDate.value = new Date()    \n          fetchData(currentPersonUID.value)\n        })\n      \n        watch(\n          () => route.params.uid,\n          (newVal) => {   \n              currentPersonID.value = route.params.id;\n              currentPersonUID.value = newVal;           \n              currentDate.value = new Date();     \n              fetchData(currentPersonUID.value);\n          }\n        )\n\n        watch(\n            () => props.tags,\n            (newVal) => {\n                statusTags.value = newVal\n            },\n            { deep: true }\n        )\n\n        const refresh = () => {\n          fetchData(currentPersonUID.value);\n        }\n\n        return {statusList, statusTags, refresh};\n    },\n    template: `\n    <div class=\"d-flex align-items-start ms-sm-auto col-lg-12  gap-2 mt-auto\" >\n        <template v-for=\"item in statusTags\">\n            <span class=\"badge\" :class=\"(item?.css != undefined) ? item.css : 'bg-secondary rounded-0'\" >{{ item.text }}</span>\n        </template>\n        <template v-for=\"item in statusList\">\n            <span class=\"badge\" :class=\"(item?.css != undefined) ? item.css : 'bg-secondary rounded-0'\" >{{ item.text }}</span>\n        </template>\n    </div>   \n   `\n}","export default {\n\n  byPerson(person_id) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/issue/byPerson',  \n      params: { person_id }\n    }\n  },\n\n  countPersonOpenIssues(person_id) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/IssueChecker/countPersonOpenIssues/'\n            + person_id,  \n    }\n  },\n\n  checkPerson(person_id) {\n    return {\n\t\t\tmethod: 'post',\n\t\t\turl: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/IssueChecker/checkPerson/'\n            + person_id,  \n\t\t}\n  },\n\n  openIssuesPersons() {\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/issue/PersonenMitOffenenIssues',  \n\t\t}\n  },\n  \n};\n","import { Modal } from '../Modal.js';\nimport { ModalDialog } from '../ModalDialog.js';\nimport { EmployeeStatus } from './EmployeeStatus.js';\nimport ApiEmployee from '../../api/factory/employee.js';\nimport ApiIssue from '../../api/factory/issue.js';\nimport { usePhrasen } from '../../../../../../public/js/mixins/Phrasen.js';\n\nexport const EmployeeHeader = {\n\tname: 'EmployeeHeader',\n    components: {\n\t\tModal,\n        ModalDialog,\n        \"p-skeleton\": primevue.skeleton,\n        EmployeeStatus,\n\t},\n    props: {\n        personID: Number,\n        personUID: String,\n        restricted: Boolean,\n    },\n    expose: ['refresh'],\n    emits: ['personSelected'],\n    setup(props, { emit }) {\n\n        /* const route = VueRouter.useRoute();\n        const router = VueRouter.useRouter(); */\n        const { watch, ref, onMounted, inject } = Vue;\n        const currentPersonID = Vue.computed(() => { return props.personID });\n        const currentPersonUID = Vue.computed(() => { return props.personUID });\n\n        const employee = ref();\n        const fileInput = ref();\n        const previewImage = ref();\n        const statusRef = ref();\n        const { t } = usePhrasen();\n\n        const isFetching = ref(false);\n        const isFetchingName = ref(false);\n        const isFetchingIssues = ref(false);\n        const $api = inject('$api')     \n        const $fhcAlert = Vue.inject('$fhcAlert')   \n\n       //const currentDate = ref(null);\n\n        const openissuescount = ref();\n\n        const formatDate = (ds) => {\n            if (ds == null) return '';\n            var d = new Date(ds);\n            return d?.toISOString().substring(0,10);\n        }\n\n        const fetchHeaderData = async (personID, uid) => {\n            isFetching.value = true;\n            isFetchingName.value = true;\n            try {\n                // fetch header data\n                const res = await $api.call(ApiEmployee.personHeaderData(personID, uid));\n                employee.value = res.data[0];\n                isFetchingName.value = false;\n                // fetch abteilung (needs uid from previous fetch!)\n                const resAbteilung = await $api.call(ApiEmployee.personAbteilung(employee.value.uid));\n               // response = await resAbteilung.json();\n                employee.value = { ...employee.value, ...{ abteilung: resAbteilung.data } };\n            } catch (error) {\n                console.log(error);\n            } finally {\n                isFetching.value = false;\n                isFetchingName.value = false;\n            }\n        };\n\n        const fetchOpenIssuesCount = async(personID) => {\n            isFetchingIssues.value = true;\n            try {\n                const res = await $api.call(ApiIssue.countPersonOpenIssues(personID));\n                openissuescount.value = res.data.openissues;\n            } catch (error) {\n                console.log(error);\n            } finally {\n                isFetchingIssues.value = false;\n            }\n        };\n\n        const checkPerson = async() => {\n            isFetchingIssues.value = true;\n            try {\n                const res = await $api.call(ApiIssue.checkPerson(props.personID));\n                openissuescount.value = res.data.openissues;\n            } catch (error) {\n                console.log(error);\n            } finally {\n                isFetchingIssues.value = false;\n            }\n        };\n\n        Vue.watch([currentPersonID, currentPersonUID], ([id,uid]) => {\n            if (currentPersonID.value!=null) {\n                fetchHeaderData(id, uid);\n                fetchOpenIssuesCount(id);\n            } else {\n                previewImage.value = null;\n                fileInput.value.value = null;\n            }\n        });\n\n        onMounted(() => {\n            //currentDate.value = route.query.d || new Date();\n            if (props.personID, props.personUID) {\n                fetchHeaderData(props.personID, props.personUID);\n                fetchOpenIssuesCount(props.personID);\n            }\n\n            if (modalRef.value)\n            {\n                modalRef.value.$el.addEventListener(\"hidden.bs.modal\", () => {\n                    resetPreview();\n                });\n            }\n        })\n\n        const pickFile = () => {\n            let input = fileInput.value\n            let file = input.files\n            if (file && file[0]) {\n                let reader = new FileReader();\n                reader.onload = (e) => {\n                    previewImage.value = e.target.result\n                }\n                reader.readAsDataURL(file[0])\n            }\n        }\n\n        const postFile = async () => {\n            try  {\n                isFetching.value = true\n                const res = await $api.call(ApiEmployee.uploadPersonEmployeeFoto(props.personID,previewImage.value));\n                if (res?.meta?.status != 'success') \n                {\n                    $fhcAlert.alertError(t('person', res.data))\n                }\n                else\n                {                    \n                    $fhcAlert.alertSuccess(t('person', 'Foto gespeichert.'))\n                }\n                fetchHeaderData(props.personID, props.personUID);\n            } catch (error) {\n                $fhcAlert.handleSystemError(error)  \n            } finally {\n                isFetching.value = false;\n            }\n        }\n\n\n        const postDeleteFile = async () => {\n            try  {\n                isFetching.value = true\n                const res = await $api.call(ApiEmployee.deletePersonEmployeeFoto(props.personID));\n                fetchHeaderData(props.personID, props.personUID);\n                $fhcAlert.alertSuccess(t('person','Foto gelöscht'))\n            } catch (error) {\n                $fhcAlert.handleSystemError(error)  \n            } finally {\n                isFetching.value = false;\n            }\n        }\n\n        // Modal\n        let modalRef = ref();\n\n        const showModal = () => {\n            modalRef.value.show();\n        }\n\n        const hideModal = () => {\n            modalRef.value.hide();\n        }\n\n        const showDeleteModal = async () => {\n\n            if (await $fhcAlert.confirm({\n                    message:`Foto wirklich löschen?`,\n                    acceptLabel: 'Löschen',\n\t\t\t\t    acceptClass: 'p-button-danger'\n                }) === false) {\n                return;\n            }     \n\n            postDeleteFile();\n          }\n\n        const okHandler = () => {\n            // console.log(\"previewImage: \", previewImage.value);\n            postFile();\n            hideModal();\n        }\n\n        const resetPreview = () => {\n            previewImage.value = null;\n            fileInput.value.value = null;\n        }\n\n        const redirect = (person_id, uid) => {\n            emit('personSelected', { person_id, uid });\n            // window.location.href = `${protocol_host}/index.ci.php/extensions/FHC-Core-Personalverwaltung/Employees/summary?person_id=${person_id}`;\n          }\n\n        const refresh = () => {\n            fetchHeaderData(props.personID, props.personUID);\n            checkPerson(props.personID);\n            statusRef.value.refresh();\n        }\n\n        const getStatusTags = ()=> {\n            const statusArr = []\n\n            if(employee?.value?.unruly) {\n                statusArr.push({text: 'Unruly', css: 'bg-unruly rounded-0'})\n            }\n\n            return statusArr\n        }\n\n        return {\n            showModal,\n            hideModal,\n            resetPreview,\n            modalRef,\n            showDeleteModal,\n            pickFile,\n            okHandler,\n            statusRef,\n            redirect,\n            FHC_JS_CONFIG,\n            getStatusTags,\n            employee,\n            fileInput,\n            previewImage,\n            isFetching,\n            isFetchingName,\n            isFetchingIssues,\n            currentPersonID,\n            currentPersonUID,\n            // currentDate,\n            formatDate,\n            //setDateHandler,\n            checkPerson,\n            refresh,\n            openissuescount,\n        }\n    },\n    template: `\n\n        <div class=\"d-flex justify-content-between ms-sm-auto col-lg-12 p-md-2\" >\n            <div class=\"d-flex align-items-top flex-fill\" >\n\n                <div class=\"fotocontainer\" v-if=\"!isFetchingName\">\n                    <img v-if=\"employee?.foto\" class=\"rounded\" style=\"max-width:101px\" :src=\"'data:image/jpeg;charset=utf-8;base64,' + employee?.foto\" />\n                    <div v-if=\"employee?.foto && !restricted\" class=\"fotobutton\" >\n                        <div class=\"d-grid gap-2 d-md-flex \">\n                                <button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"showDeleteModal\">\n                                    <i class=\"fa fa-xmark\"></i>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"showModal\">\n                                    <i class=\"fa fa-pen\"></i>\n                                </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div v-if=\"employee?.foto==undefined  || isFetchingName\" style=\"position:relative\">\n                    <svg  class=\"bd-placeholder-img rounded\" width=\"100\" height=\"131\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width=\"100%\" height=\"100%\" fill=\"#868e96\"></rect><text x=\"50%\" y=\"50%\" fill=\"#dee2e6\" dy=\".3em\"></text></svg>\n                    <div class=\"fotobutton-visible\" v-if=\"!restricted && !isFetchingName\">\n                        <div class=\"d-grid gap-2 d-md-flex \">\n                            <button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"showModal\" >\n                                <i class=\"fa fa-pen\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"ms-3 flex-fill d-flex flex-column\" >\n                    <div class=\"align-items-top\">\n                        <h2 class=\"h4\" v-if=\"!isFetchingName\">{{ employee?.titelpre }} {{ employee?.vorname }} {{ employee?.nachname }}<span v-if=\"employee?.titelpost != null && employee?.titelpost != ''\">, {{ employee?.titelpost }}</span></h2>\n                        <h2 class=\"h4\" v-else><p-skeleton style=\"width:30%\"></p-skeleton></h2>\n\n                        <div v-if=\"employee?.abteilung && !isFetching\" class=\"mb-1\">\n                            <template v-for=\"(item, index) in employee?.abteilung\">\n                                <strong class=\"text-muted\">{{ item?.organisationseinheittyp_kurzbz }}</strong> {{ item?.bezeichnung }} |\n                                <strong class=\"text-muted\">Vorgesetzte*r </strong>\n                                <a href=\"#\" @click.prevent=\"redirect(item?.supervisor?.person_id, item?.supervisor?.uid)\" v-if=\"!restricted\">{{ item?.supervisor?.titelpre }} {{ item?.supervisor?.vorname }} {{ item?.supervisor?.nachname }}</a>\n                                <span v-else>{{ item?.supervisor?.titelpre }} {{ item?.supervisor?.vorname }} {{ item?.supervisor?.nachname }}</span>\n                                <br v-if=\"index < employee?.abteilung?.length - 1\" />\n                            </template>\n                            </div>\n                        <div v-else class=\"mb-1\"><p-skeleton v-if=\"isFetching\" style=\"width:45%\"></p-skeleton></div>\n                        <div v-if=\"!isFetchingName\" class=\"mb-1\">\n                            <strong class=\"text-muted\">Email</strong>&nbsp;\n                            <span v-if=\"!employee?.alias\">\n                                <a :href=\"'mailto:'+employee?.uid+'@'+FHC_JS_CONFIG.domain\">{{  employee?.uid }}@{{ FHC_JS_CONFIG.domain }}</a>\n                            </span>\n                            <span v-if=\"employee?.alias\">\n                                <a :href=\"'mailto:'+employee?.alias+'@'+FHC_JS_CONFIG.domain\">{{  employee?.alias }}@{{ FHC_JS_CONFIG.domain }}</a>\n                            </span>\n                            <span v-if=\"employee?.telefonklappe\" class=\"mb-2\"> | <strong class=\"text-muted\">DW</strong> {{  employee?.telefonklappe }}</span>\n                        </div>\n                        <div v-else class=\"mb-1\"><p-skeleton  style=\"width:35%\"></p-skeleton></div>\n                    </div>\n                    <EmployeeStatus v-if=\"!restricted\" ref=\"statusRef\" :tags=\"getStatusTags()\"></EmployeeStatus>\n                </div>\n\n            </div>\n\n            <div class=\"d-flex flex-column\">\n                <div class=\"d-flex py-1\">\n                    <div class=\"px-2\" v-if=\"!restricted\">\n                        <h4 class=\"mb-1\">Issues<a class=\"refresh-issues\" title=\"erneut prüfen\" href=\"javascript:void(0);\" @click=\"checkPerson\"><i class=\"fas fa-sync\"></i></a></h4>\n                        <h6 v-if=\"!isFetchingIssues\" class=\"text-muted\">{{ openissuescount }}</h6>\n                        <h6 v-else class=\"mb-2\"><p-skeleton v-if=\"isFetchingIssues\" style=\"width:45%\"></p-skeleton></h6>\n                    </div>\n                    <div class=\"px-2\">\n                        <h4 class=\"mb-1\">PNr</h4>\n                        <h6 v-if=\"!isFetchingName\" class=\"text-muted\">{{ employee?.personalnummer }}</h6>\n                        <h6 v-else class=\"mb-2\"><p-skeleton v-if=\"isFetching\" style=\"width:45%\"></p-skeleton></h6>\n                    </div>\n                    <div class=\"px-2\" style=\"border-left: 1px solid #EEE\">\n                        <h4 class=\"mb-1\">UID</h4>\n                        <h6 v-if=\"!isFetchingName\" class=\"text-muted\">{{ employee?.uid }}</h6>\n                        <h6 v-else class=\"mb-2\"><p-skeleton v-if=\"isFetching\" style=\"width:45%\"></p-skeleton></h6>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n\n\n        <!-- FotoModal -->\n        <Modal title=\"Foto\" ref=\"modalRef\">\n            <template #body>\n                <div class=\"mb-3\">\n                    <label for=\"formFile\" class=\"form-label\">Foto upload</label>\n                    <input class=\"form-control\" type=\"file\" id=\"formFile\" ref=\"fileInput\" @input=\"pickFile\" accept=\"image/*\">\n                </div>\n                <div class=\"mb-3\">\n                    <div class=\"imagePreviewWrapper\" >\n                        <img class=\"preview\" :src=\"previewImage\" />\n                    </div>\n                </div>\n\n            </template>\n            <template #footer>\n                <button class=\"btn btn-secondary\"  @click=\"hideModal()\">Abbrechen</button>\n                <button class=\"btn btn-primary\"  @click=\"okHandler()\">OK</button>\n            </template>\n        </Modal>\n\n        `\n}\n","import { usePhrasen } from '../../../../../../../public/js/mixins/Phrasen.js';\nimport ApiEmployee from '../../../api/factory/employee.js';\n\nexport const EmployeeContractInfo = {\n\tname: 'EmployeeContractInfo',\n    components: {\n\n    \n    },\n    props: {\n        personID: Number,\n        personUID: String,\n    },\n    setup(props, { emit }) {\n        const { watch, ref, reactive, computed, inject } = Vue;\n        const dvList = ref([]);\n        const currentDVID = ref(null);\n        const currentDV = ref(null);\n        const currentVBS = reactive({\n            funktion: {\n                zuordnung: [],\n                taetigkeit: []\n            },\n            zeitaufzeichnung: [],\n            kuendigungsfrist: [],\n            stunden: [],\n            allIn: [],\n            befristung: [],\n            urlaubsanspruch: [],\n            zusatzvereinbarung: [],\n            karenz: [],\n        });\n        const isFetching = ref(false);\n        const numberFormat = new Intl.NumberFormat();\n\n        const karenztypen = Vue.inject('karenztypen');\n        const vertragsarten = inject('vertragsarten');\n        const $api = Vue.inject('$api');\n\n        const fetchData = async (uid) => {\n            if (uid == null) {\n                dvList.value = [];\n                vertragList.value = [];\n                return;\n            }\n            isFetching.value = true\n            try {\n                const res = await $api.call(ApiEmployee.dvInfoByPerson(uid));\n                dvList.value = res.data.dvList;\n                isFetching.value = false;                   \n            } catch (error) {\n                console.log(error)\n                isFetching.value = false\n            }\n            \n        }\n\n        fetchData(props.personUID);\n        watch(\n            () => props.personUID,\n            (newVal) => {\n                fetchData(newVal);\n            }\n        )\n\n        const formatDate = (d) => {\n            if (d != null && d != '') {\n                return d.substring(8, 10) + \".\" + d.substring(5, 7) + \".\" + d.substring(0, 4);\n            } else {\n                return ''\n            }\n        }\n\n        const formatVertragsart = (item) => {\n            let va = vertragsarten.value.find(kt => kt.value == item);\n            return va != undefined ? va.label : item;\n        }\n\n        const formatKarenztyp = (item) => {\n            let karenztyp = karenztypen.value.find(kt => kt.value == item);\n            return karenztyp != undefined ? karenztyp.label : item;\n        }\n\n        const formatNumber = (num) => {\n            return numberFormat.format(parseFloat(num));\n        }\n\n        const getVBStunden = (vbList) => {\n            let va = vbList.find(item => item.vertragsbestandteiltyp_kurzbz == 'stunden');\n            return va != undefined ? va : null;\n        }\n\n        const getVBKarenz = (vbList) => {\n            let va = vbList.find(item => item.vertragsbestandteiltyp_kurzbz == 'karenz');\n            return va != undefined ? va : null;\n        }\n\n        return { dvList, isFetching, formatDate, formatVertragsart, formatKarenztyp, getVBStunden, formatNumber, getVBKarenz }\n        \n       \n    },\n    template: `\n        <div class=\"row pt-md-4\" >      \n            <div class=\"col\">\n                <div class=\"card\">\n                   <div class=\"card-header\">\n                       <div class=\"h5 mb-0\"><h5>Dienstverhältnis</h5></div>\n                   </div>\n                   <div class=\"card-body\">\n                       <template v-if=\"!isFetching\">\n                            <div v-if=\"dvList.length > 0\">\n                                 <table class=\"table\">\n                                     <thead><tr><th>Typ</th><th>DV-Zeitraum</th><th>Wochenstunden</th><th>Karenz</th></tr></thead>\n                                     <tbody>\n                                        <tr v-for=\"item in dvList\">\n                                            <td>{{ formatVertragsart(item.dv.vertragsart_kurzbz) }}</td>\n                                            <td>{{ formatDate(item.dv.von) }} -  {{ formatDate(item.dv.bis) }}</td>\n                                            <td><span v-if=\"getVBStunden(item.vb) != null\">{{ formatNumber(getVBStunden(item.vb).wochenstunden) }} ( {{ formatDate(getVBStunden(item.vb).von) }} - {{ formatDate(getVBStunden(item.vb).bis) }})</span><span v-else>-</span></td>\n                                            <td><span v-if=\"getVBKarenz(item.vb) != null\">{{ formatKarenztyp(getVBKarenz(item.vb).karenztyp_kurzbz) }} ( {{ formatDate(getVBKarenz(item.vb).von) }} - {{ formatDate(getVBKarenz(item.vb).bis) }})</span><span v-else>-</span></td></tr>\n                                     </tbody>\n                                 </table>\n                            </div>\n                            <div v-else>kein Dienstverhältnis zum aktuellen Datum vorhanden</div>\n                        </template>\n                   </div>\n                </div>\n            </div>\n        </div>        \n    `\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/search';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchAdvanced(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/searchAdvanced';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchdummy(searchsettings) {\n\t\tconst url = 'public/js/apps/api/dummyapi.php/Search';\n\t\treturn this.$fhcApi.post(url, searchsettings);\n\t}\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/loadModule/' + category);\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst payload = {categories, language}\n\t\treturn this.$fhcApi.post('/api/frontend/v1/phrasen/setLanguage', payload);\n\t},\n\tgetLanguage() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getLanguage', {});\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getAllLanguages', {});\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/header',\n\t\t\t{ navigation_page }\n\t\t);\n\t},\n\tgetMenu: function(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/menu',\n\t\t\t{ navigation_page }\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/saveCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t);\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/applyFilterFields',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t);\n\t},\n\taddFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/addFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tgetFilter(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tabmeldung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/abmeldung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(stdsem, prestudent_id, grund) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/abmeldung/createAntrag', {\n\t\t\t\tstudiensemester: stdsem,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\tif (!Array.isArray(antrag_id))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t\t{ antrag_id }\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag_id.map(antrag => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t{ antrag_id: antrag.studierendenantrag_id },\n\t\t\t\t{ errorHeader: '#' + antrag.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t},\n\tunterbrechung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/unterbrechung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(studiensemester, prestudent_id, grund, datum_wiedereinstieg, attachment) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/createAntrag', {\n\t\t\t\tstudiensemester,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund,\n\t\t\t\tdatum_wiedereinstieg,\n\t\t\t\tattachment\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/cancelAntrag', {\n\t\t\t\tantrag_id\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t}\n\t},\n\twiederholung: {\n\t\tgetDetails(prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/' + prestudent_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tgetLvs(antrag_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getLvs/' + antrag_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tcreate(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/createAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/cancelAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tsaveLvs(forbiddenLvs, mandatoryLvs) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/saveLvs', {\n\t\t\t\tforbiddenLvs,\n\t\t\t\tmandatoryLvs\n\t\t\t});\n\t\t}\n\t},\n\tleitung: {\n\t\tgetStgs() {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getActiveStgs');\n\t\t},\n\t\tgetAntraege(url, config, params) {\n\t\t\treturn this.$fhcApi\n\t\t\t\t.get('/api/frontend/v1/studstatus/leitung/getAntraege/' + url)\n\t\t\t\t.then(res => res.data); // Return data for tabulator\n\t\t},\n\t\tgetHistory(antrag_id) {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getHistory/' + antrag_id)\n\t\t},\n\t\tgetPrestudents(query, signal) {\n\t\t\treturn this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/getPrestudents',\n\t\t\t\t{ query },\n\t\t\t\t{\n                                    signal: signal,\n                                    timeout: 30000\n                                }\n\t\t\t);\n\t\t},\n\t\tapprove(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treopen(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tunpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tobject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tapproveObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tdenyObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t}\n};","export default {\n\n  getView: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getView/${uid}`,{}\n    );\n  },\n\n  fotoSperre: function (value) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/fotoSperre/${value}`,\n      {}\n    );\n    \n  },\n\n  isStudent: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isStudent`,\n      {\n        uid:uid,\n      }\n    );\n  },\n\n  isMitarbeiter: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isMitarbeiter/${uid}`,\n      {}\n    );\n  },\n\n  getZustellAdresse: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellAdresse`,{}\n    );\n  },\n\n  getZustellKontakt: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellKontakt`,{}\n    );\n  },\n\n  getGemeinden: function(nation,zip){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getGemeinden/${nation}/${zip}`,\n      {}\n    );\n    \n  },\n  getAllNationen:function(){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      \"/api/frontend/v1/Profil/getAllNationen\",{}\n    );\n  },\n}","export default {\n    //! API calls for profil update requests\n  \n    getStatus: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getStatus`,{});\n    },\n  \n    getTopic: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getTopic`,{});\n    },\n  \n    acceptProfilRequest: function ({profil_update_id, uid, status_message, topic, requested_change}) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/acceptProfilRequest\",{profil_update_id, uid, status_message, topic, requested_change});\n    },\n  \n    denyProfilRequest: function ({profil_update_id, uid, topic, status_message}) {\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/denyProfilRequest\",{profil_update_id,uid,topic,status_message});\n    },\n  \n    insertFile: function (dms, replace = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n        dms);\n\n    },\n    \n    getProfilRequestFiles: function (requestID) {\n      return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`,{});\n    },\n  \n    selectProfilRequest: function (uid = null, id = null) {\n\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/selectProfilRequest`,\n        {...(uid?{uid}:{}),\n          ...(id?{id}:{})\n        });\n    },\n  \n    insertProfilRequest: function (topic, payload, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/insertProfilRequest\",\n        {\n          topic,\n          payload,\n          ...(fileID ? { fileID } : {}),\n        });\n    },\n  \n    updateProfilRequest: function (topic, payload, ID, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/updateProfilRequest`,\n        {\n          topic,\n          payload,\n          ID,\n          ...(fileID ? { fileID: fileID } : {}),\n        });\n    },\n  \n    deleteProfilRequest: function (requestID) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/deleteProfilRequest`,\n        {\n          requestID,\n        });\n    },\n  };\n  ","\nexport default {\n\tgetRoomInfo(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getRoomplan',\n\t\t\t{  ort_kurzbz, start_date, end_date}\n\t\t);\n\t},\n\tgetStunden() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/Stunden',\n\t\t\t{}\n\t\t);\n\t},\n\tgetOrtReservierungen(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/LvPlan/getReservierungen/${ort_kurzbz}`,\n\t\t\t{ start_date, end_date}\n\t\t);\n\t},\n\tgetLvPlanReservierungen(start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getReservierungen',\n\t\t\t{ start_date, end_date }\n\t\t);\n\t},\n\tgetLehreinheitStudiensemester(lehreinheit_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${lehreinheit_id}`,\n\t\t\t{}\n\t\t);\n\t},\n\tstudiensemesterDateInterval(date) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${date}`,\n\t\t\t{}\n\t\t);\n\t},\n\tLvPlanEvents(start_date, end_date, lv_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/LvPlanEvents',\n\t\t\t{ start_date, end_date, lv_id }\n\t\t);\n\t},\n\t\n\t\n};","import verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport group from './stv/group.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport archiv from './stv/archiv.js';\nimport documents from './stv/documents.js';\nimport exemptions from './stv/exemptions.js';\nimport jointstudies from \"./stv/jointstudies.js\";\nimport courselist from './stv/courselist.js';\n\nexport default {\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tgroup,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tarchiv,\n\tdocuments,\n\texemptions,\n\tjointstudies,\n\tcourselist,\n\tconfigStudent() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/student');\n\t},\n\tconfigStudents() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/students');\n\t}\n};\n","export default {\n\tget() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/verband');\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/stv/favorites');\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/stv/favorites/set', {\n\t\t\t\tfavorites\n\t\t\t});\n\t\t}\n\t}\n}","export default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tverband(relative_path) {\n\t\treturn this.$fhcApi.getUri('api/frontend/v1/stv/students/' + relative_path);\n\t}\n}","export default {\n\tgetStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/filter/getStg');\n\t},\n\tsetStg(studiengang_kz) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/filter/setStg', {\n\t\t\tstudiengang_kz\n\t\t});\n\t}\n};","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/konto/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id),\n\t\t\t\tonly_open: self.filter,\n\t\t\t\tstudiengang_kz: self.studiengang_kz_intern ? self.stg_kz : ''\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tcheckDoubles(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/checkDoubles', data, {\n\t\t\tconfirmErrorHandler: error => true\n\t\t});\n\t},\n\tinsert(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/insert', data);\n\t},\n\tcounter(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/counter', data);\n\t},\n\tedit(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/update', data);\n\t},\n\tdelete(buchungsnr) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/delete', {buchungsnr});\n\t},\n\tgetBuchungstypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/konto/getBuchungstypen');\n\t}\n};","export default {\n\tgetGruppen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/Gruppen/getGruppen/' + params.id);\n\t},\n\tdeleteGroup(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/Gruppen/deleteGruppe/', params);\n\t}\n}","export default {\n\t//------------- address.js-----------\n\tgetAdressen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressen/' + params.id);\n\t},\n\taddNewAddress(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewAddress/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadAddress(address_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadAddress/', {address_id});\n\t},\n\tupdateAddress(form, address_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteAddress(address_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteAddress/', {address_id});\n\t},\n\tgetPlaces(plz) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getPlaces/' + plz);\n\t},\n\tgetFirmen(searchString) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getFirmen/' + searchString);\n\t},\n\tgetNations() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getNations/');\n\t},\n\tgetAdressentypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressentypen/');\n\t},\n\n\t//------------- bankverbindung.js-----------\n\tgetBankverbindung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getBankverbindung/' + params.id);\n\t},\n\taddNewBankverbindung(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewBankverbindung/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadBankverbindung(bankverbindung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadBankverbindung/', {bankverbindung_id});\n\t},\n\tupdateBankverbindung(form, bankverbindung_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateBankverbindung/' + bankverbindung_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteBankverbindung(bankverbindung_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteBankverbindung/', {bankverbindung_id});\n\t},\n\n\t//------------- contact.js-----------\n\tgetKontakte (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakte/' + params.id);\n\t},\n\taddNewContact(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewContact/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadContact(kontakt_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadContact/', {kontakt_id});\n\t},\n\tupdateContact(form, kontakt_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateContact/' + kontakt_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteContact(kontakt_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteContact/', {kontakt_id});\n\t},\n\tgetStandorteByFirma(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getStandorteByFirma/' + searchString);\n\t},\n\tgetKontakttypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakttypen/');\n\t}\n};","export default {\n\n//------------- Prestudent.js------------------------------------------------------\n\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn \tthis.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/prestudent/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t);\n\t},\n\tupdatePrestudent(form, prestudent_id, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/prestudent/updatePrestudent/' + prestudent_id,\n\t\t\tdata\n\t\t);\n\t},\n\tgetBezeichnungZGV() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungZGV/');\n\t},\n\tgetBezeichnungMZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungMZgv/');\n\t},\n\tgetBezeichnungDZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungDZgv/');\n\t},\n\tgetStgs() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStgs/');\n\t},\n\tgetAusbildung() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAusbildung/');\n\t},\n\tgetAufmerksamdurch() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAufmerksamdurch/');\n\t},\n\tgetBerufstaetigkeit() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBerufstaetigkeit/');\n\t},\n\tgetTypenStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getTypenStg/');\n\t},\n\tgetBisstandort() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBisstandort/');\n\t},\n\n//------------- MultiStatus.js------------------------------------------------------\n\tgetHistoryPrestudent (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getHistoryPrestudent/' + params.id);\n\t},\n\tgetMaxSem(studiengang_kzs) {\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/status/getMaxSemester/', {studiengang_kzs});\n\t},\n\tadvanceStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/advanceStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tconfirmStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/confirmStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tisLastStatus(id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/isLastStatus/' + id);\n\t},\n\tdeleteStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/deleteStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tgetLastBismeldestichtag() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getLastBismeldestichtag/');\n\t},\n\n//------------- History.js------------------------------------------------------\n\tgetHistoryPrestudents (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getHistoryPrestudents/' + params.id);\n\t},\n\n}","export default {\n\n//------------- Modal.js------------------------------------------------------\n\n\tinsertStatus(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/status/insertStatus/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/status/loadStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tupdateStatus(form, {prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}, data) {\n\t\treturn this.$fhcApi.post(\n\t\t\tform,\n\t\t\t'api/frontend/v1/stv/status/updateStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester,\n\t\t\tdata\n\t\t);\n\t},\n\tgetStudienplaene(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudienplaene/' + prestudent_id);\n\t},\n\tgetStudiengang(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudiengang/' + prestudent_id);\n\t},\n\tgetStatusgruende() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusgruende/');\n\t},\n\tgetStati() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStati/');\n\t},\n\n//------------- Dropdown.js------------------------------------------------------\n\n\taddStudent(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/addStudent/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tchangeStatus(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/changeStatus/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tgetStatusarray() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusarray/');\n\t}\n}","export default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/student/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(url);\n\t},\n\tsave(form, prestudent_id, studiensemester_kurzbz, data) {\n\t\tlet url = 'api/frontend/v1/stv/student/save/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(form, url, data);\n\t},\n}\n","export default {\n\tgetPruefungen(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getPruefungen/' + params.id);\n\t},\n\tloadPruefung(pruefung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/loadPruefung/' + pruefung_id);\n\t},\n\tgetTypenPruefungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getTypenPruefungen');\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/getAllLehreinheiten/', data)\n\t},\n\tgetLvsByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsByStudent/' + uid)\n\t},\n\tgetLvsandLesByStudent(uid, semester){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsandLesByStudent/' + uid + '/' + semester);\n\t},\n\tgetLvsAndMas(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsAndMas/' + uid)\n\t},\n\tgetMitarbeiterLv(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getMitarbeiterLv/' + id)\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getNoten');\n\t},\n\tcheckZeugnisnoteLv(data){\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/', data)\n\t},\n\taddPruefung(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/insertPruefung/',  data);\n\t},\n\tupdatePruefung(form, id, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/updatePruefung/' + id,  data);\n\t},\n\tdeletePruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/deletePruefung/' + id)\n\t}\n}","export default {\n\n\tgetAbschlusspruefung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/' + params.id);\n\t},\n\taddNewAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/', data\n\t\t);\n\t},\n\tloadAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/', {id});\n\t},\n\tupdateAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/', data\n\t\t);\n\t},\n\tdeleteAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/', {id});\n\t},\n\tgetTypenAbschlusspruefung(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/');\n\t},\n\tgetTypenAntritte(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/');\n\t},\n\tgetBeurteilungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/');\n\t},\n\tgetAkadGrade(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getAkadGrade/', {studiengang_kz});\n\t},\n\tgetTypStudiengang(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/', {studiengang_kz});\n\t},\n\tgetMitarbeiter(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/' + searchString);\n\t},\n\tgetPruefer(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getPruefer/' + searchString);\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getNoten/');\n\t},\n\tcheckForExistingExams(uids) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/', {uids}\n\t\t);\n\t}\n}","export default {\n\tlist() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/grades/list');\n\t},\n\tgetCertificate(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getCertificate/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetTeacherProposal(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getTeacherProposal/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetRepeaterGrades(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getRepeaterGrades/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tupdateCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, note, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/updateCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz,\n\t\t\t\tnote\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tdeleteCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/deleteCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyTeacherProposalToCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyTeacherProposalToCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id, lv_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate',\n\t\t\t{\n\t\t\t\tstudierendenantrag_lehrveranstaltung_id\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lv_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tgetGradeFromPoints(points, lehrveranstaltung_id, studiensemester_kurzbz, manualErrorHandling) {\n\t\tconst config = manualErrorHandling ? {errorHandling: false} : {};\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/grades/getGradeFromPoints',\n\t\t\t{\n\t\t\t\t\"points\": points,\n\t\t\t\t\"lehrveranstaltung_id\": lehrveranstaltung_id,\n\t\t\t\t\"studiensemester_kurzbz\": studiensemester_kurzbz\n\t\t\t},\n\t\t\tconfig\n\t\t\t);\n\t}\n}","export default {\n\tgetMobilitaeten (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getMobilitaeten/' + params.id);\n\t},\n\tgetProgramsMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getProgramsMobility/');\n\t},\n\taddNewMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/insertMobility/', data);\n\t},\n\tloadMobility(bisio_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/loadMobility/' + bisio_id);\n\t},\n\tupdateMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/updateMobility/', data);\n\t},\n\tdeleteMobility(bisio_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobility/' + bisio_id);\n\t},\n\tgetLVList(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLVList/' + studiengang_kz);\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/getAllLehreinheiten/', data)\n\t},\n\tgetLvsandLesByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLvsandLesByStudent/' + uid);\n\t},\n\tgetPurposes(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getPurposes/' + params.id);\n\t},\n\tgetSupports(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getSupports/' + params.id);\n\t},\n\tgetListPurposes() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListPurposes/');\n\t},\n\tgetListSupports() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListSupports/');\n\t},\n\tdeleteMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilityPurpose/' + params.bisio_id, params);\n\t},\n\taddMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilityPurpose/' + params.bisio_id, params);\n\t},\n\tdeleteMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilitySupport/' + params.bisio_id, params);\n\t},\n\taddMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilitySupport/' + params.bisio_id, params);\n\t},\n\n}","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/archiv/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id)\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tgetArchivVorlagen() {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/getArchivVorlagen');\n\t},\n\tarchive(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archive',\n\t\t\tdata\n\t\t);\n\t},\n\tarchiveSigned(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archiveSigned',\n\t\t\tdata\n\t\t);\n\t},\n\tupdate(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/update', data);\n\t},\n\tdelete({akte_id, studiengang_kz}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/delete', {akte_id, studiengang_kz});\n\t}\n};\n","export default {\n\tgetDocumentsUnaccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tgetDocumentsAccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsAccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tdeleteZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteZuordnung/' + params.prestudent_id + '/' + params.dokument_kurzbz);\n\t},\n\tcreateZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/createZuordnung/'\n\t\t\t+ params.prestudent_id + '/'\n\t\t\t+ params.dokument_kurzbz);\n\t},\n\tloadAkte(akte_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/loadAkte/' + akte_id);\n\t},\n\tgetDoktypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDoktypen/');\n\t},\n\tupdateFile(akte_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/updateAkte/' + akte_id,\n\t\t\tdata);\n\t},\n\tdeleteFile(akte_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteAkte/' + akte_id);\n\t},\n\tuploadFile(prestudent_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/uploadDokument/' + prestudent_id,\n\t\t\tdata);\n\t},\n}","export default {\n\tgetAnrechnungen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getAnrechnungen/' + params.id);\n\t},\n\tgetLehrveranstaltungen(prestudent_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/' + prestudent_id);\n\t},\n\tgetBegruendungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getBegruendungen/');\n\t},\n\tgetLvsKompatibel(lv_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLvsKompatibel/' + lv_id);\n\t},\n\tgetLektoren(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLektoren/' + studiengang_kz);\n\t},\n\taddNewAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/insertAnrechnung/', data);\n\t},\n\tloadAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/loadAnrechnung/' + anrechnung_id);\n\t},\n\teditAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/updateAnrechnung/', data);\n\t},\n\tdeleteAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/anrechnungen/deleteAnrechnung/' + anrechnung_id);\n\t},\n}","export default {\n\tgetStudies(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudien/' + params.id);\n\t},\n\tgetTypenMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/');\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/');\n\t},\n\tgetStudyprograms(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/');\n\t},\n\tgetListPartner(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/');\n\t},\n\tgetStatiPrestudent(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/');\n\t},\n\tloadStudy(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/loadStudie/' + id);\n\t},\n\tinsertStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/insertStudie/', data);\n\t},\n\tupdateStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/updateStudie/', data);\n\t},\n\tdeleteStudy(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/GemeinsameStudien/deleteStudie/' + id);\n\t},\n\n}","export default {\n\tgetCourselist(url, config, params) {\n\t\t//corresponding logic controller Stundenplan.php\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStundenplan/'\n\t\t\t+ params.student_uid + '/'\n\t\t\t+ params.start_date + '/'\n\t\t\t+ params.end_date + '/'\n\t\t\t+ params.group_consecutiveHours + '/'\n\t\t\t+ params.dbStundenplanTable\n\t\t);\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStudiensemester/');\n\t},\n}","import person from \"./notiz/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetNotizen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getNotizen/' + params.id + '/' + params.type);\n\t},\n\tgetUid(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getUid/');\n\t},\n\taddNewNotiz(form, id, formData) {\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/addNewNotiz/' + id,\n\t\t\tformData\n\t\t);\n\t},\n\tloadNotiz(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadNotiz/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tloadDokumente(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadDokumente/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tdeleteNotiz(notiz_id, type_id, id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/deleteNotiz/', {\n\t\t\tnotiz_id,\n\t\t\ttype_id,\n\t\t\tid\n\t\t});\n\t},\n\tupdateNotiz(form, notiz_id, formData){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/updateNotiz/' + notiz_id,\n\t\t\tformData\n\t\t);\n\t},\n\tgetMitarbeiter(event){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getMitarbeiter/' + event);\n\t},\n\tisBerechtigt(id, type_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/isBerechtigt/');\n\t}\n}","import person from \"./betriebsmittel/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetAllBetriebsmittel(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + params.type + '/' + params.id);\n\t},\n\taddNewBetriebsmittel(form, person_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' +\n\t\t\tperson_id, formData\n\t\t);\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id);\n\t},\n\tupdateBetriebsmittel(form, betriebsmittelperson_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tformData);\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id);\n\t},\n\tgetTypenBetriebsmittel(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/');\n\t},\n\tloadInventarliste(query){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery);\n\t}\n}","export default {\n  getContentID(ort_kurbz) {\n\t\treturn this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            \"/api/frontend/v1/Ort/ContentID\",\n\t\t\t{ ort_kurzbz: ort_kurbz }\n\t\t);\n\t},\n\tgetRooms(datum, von, bis, typ, personenanzahl = 0) {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getRooms\",\n\t\t\t{ datum, von, bis, typ, personenanzahl }\n\t\t);\n\t},\n\tgetRoomTypes() {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getTypes\"\n\t\t);\n\t}\n}","export default {\n    content(content_id, version=null, sprache=null, sichtbar=null) {\n        return this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/content\",\n\t\t\t{ \n\t\t\t\tcontent_id: content_id,\n\t\t\t\t...(version?{version}:{}),\n\t\t\t\t...(sprache?{sprache}:{}),\n\t\t\t\t...(sichtbar?{sichtbar}:{}),\n            }\n        );\n    },\n\t//api function used for the news View that renders the html\n\tgetNews(page = 1, page_size = 10, sprache) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNews\",\n\t\t\t{\n\t\t\t\tpage,\n\t\t\t\tpage_size,\n\t\t\t\tsprache,\n\t\t\t},\n\t\t);\n\t},\n\t//api function used for the widget component\n\tnews(limit) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/news\",\n\t\t\t{\n\t\t\t\tlimit: limit\n\t\t\t}\n\t\t);\n\t},\n\tgetNewsRowCount: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNewsRowCount\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetNewsExtra: function(){\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getStudiengangInfoForNews\",\n\t\t\t{}\n\t\t);\n\t}\n  }","export default {\n    getStudentenMail(lehreinheit_id) {\n          return this.$fhcApi.get(\n              FHC_JS_DATA_STORAGE_OBJECT.app_root +\n              FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n              \"/api/frontend/v1/Lehre/lvStudentenMail\",\n              { lehreinheit_id: lehreinheit_id }\n          );\n      },\n\tgetLvInfo(studiensemester_kurzbz, lehrveranstaltung_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/LV/${studiensemester_kurzbz}/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentPruefungen(lehrveranstaltung_id){\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/Pruefungen/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektarbeiten(uid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${uid}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektabgaben(detail) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektabgaben`\n\t\t\t, {\n\t\t\t\tprojektarbeit_id: detail.projektarbeit_id,\n\t\t\t\tstudent_uid: detail.student_uid\n\t\t\t}\n\t\t);\n\t},\n\tpostStudentProjektarbeitEndupload(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tpostStudentProjektarbeitZwischenabgabe(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tgetStudentProjektarbeitAbgabeFile(paabgabe_id, student_uid) {\n\t\tconst url = `/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${paabgabe_id}&student_uid=${student_uid}`;\n\n\t\twindow.location = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + url\n\t},\n\tgetMitarbeiterProjektarbeiten(uid, all) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${all}`\n\t\t\t, {}\n\t\t);\n\t},\n\tpostProjektarbeitAbgabe(termin) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id: termin.paabgabe_id,\n\t\t\tpaabgabetyp_kurzbz: termin.bezeichnung.paabgabetyp_kurzbz,\n\t\t\tdatum: termin.datum,\n\t\t\tfixtermin: termin.fixtermin,\n\t\t\tinsertvon: termin.insertvon,\n\t\t\tkurzbz: termin.kurzbz,\n\t\t\tprojektarbeit_id: termin.projektarbeit_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t\t\n\t},\n\tdeleteProjektarbeitAbgabe(paabgabe_id) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tpostSerientermin(datum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids) {\n\t\tconst payload = {\n\t\t\tdatum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postSerientermin';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tfetchDeadlines(person_id) {\n\t\tconst payload = {\n\t\t\tperson_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/fetchDeadlines';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t}\n  }","export default {\n    getLvMenu(lvid, studiensemester_kurzbz) {\n        return this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            `/api/frontend/v1/LvMenu/getLvMenu/${lvid}/${studiensemester_kurzbz}`,\n            {}\n        );\n    },\n\n      \n  }","import person from \"./messages/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\t\tgetMessages(url, config, params) {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessages/' + params.id + '/' + params.type + '/' + params.size + '/' + params.page);\n\t\t},\n\t\tgetVorlagen(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getVorlagen/');\n\t\t},\n\t\tgetMsgVarsLoggedInUser(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/');\n\t\t},\n\t\tgetMessageVarsPerson(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessageVarsPerson/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetMsgVarsPrestudent(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsPrestudent/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPersonId(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getPersonId/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetUid(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getUid/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getDataVorlage/' + vorlage_kurzbz);\n\t\t},\n\t\tgetNameOfDefaultRecipient(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getNameOfDefaultRecipient/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPreviewText(params, data){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/getPreviewText/' + params.id + '/' + params.type_id,\n\t\t\t\tdata);\n\t\t},\n\t\tgetReplyData(messageId){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getReplyData/' + messageId);\n\t\t},\n\t\tsendMessageFromModalContext(form, id, data) {\n\t\t\treturn this.$fhcApi.post(form,'api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tsendMessage(id, data) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tdeleteMessage(messageId){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/deleteMessage/' + messageId);\n\t\t}\n}","export default {\n\tgetVorlagen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagen/');\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/');\n\t}\n}","export default {\n\n\tgetStudiensemester: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/components/Cis/Mylv/Studiensemester',\n\t\t\t{}\n\t\t);\n\t},\n\n\tgetAllStudienSemester: function (studiensemester=undefined, studiengang=undefined, semester=undefined, studienplan=undefined) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/Studium/getStudienAllSemester',\n\t\t\t{studiensemester, studiengang, semester, studienplan}\n\t\t);\n\t},\n\n\tgetStudiengaengeForStudienSemester: function (studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${studiensemester}`,\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudienplaeneBySemester: function (studiengang, studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudienplaeneBySemester`,\n\t\t\t{\n\t\t\t\tstudiengang,\n\t\t\t\tstudiensemester,\n\t\t\t}\n\t\t);\n\t},\n\tgetLvPlanForStudiensemester: function (studiensemester, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${studiensemester}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\tgetLvEvaluierungInfo: function (studiensemester_kurzbz, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getLvEvaluierungInfo/${studiensemester_kurzbz}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\t\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport search from \"./search.js\";\nimport phrasen from \"./phrasen.js\";\nimport navigation from \"./navigation.js\";\nimport filter from \"./filter.js\";\nimport studstatus from \"./studstatus.js\";\nimport profil from \"./profil.js\";\nimport profilUpdate from \"./profilUpdate.js\";\nimport lvPlan from \"./lvPlan.js\";\nimport bookmark from \"./bookmark.js\";\nimport stv from \"./stv.js\";\nimport notiz from \"./notiz.js\";\nimport betriebsmittel from \"./betriebsmittel.js\";\nimport checkperson from \"./checkperson.js\";\nimport ampeln from \"./ampeln.js\";\nimport ort from \"./ort.js\";\nimport cms from \"./cms.js\";\nimport lehre from \"./lehre.js\";\nimport addons from \"./addons.js\";\nimport messages from \"./messages.js\";\nimport vorlagen from \"./vorlagen.js\";\nimport studiengang from \"./studiengang.js\";\nimport menu from \"./menu.js\";\nimport dashboard from \"./dashboard.js\";\nimport authinfo from \"./authinfo.js\";\nimport studium from \"./studium.js\";\nimport language from \"./language.js\";\n\nexport default {\n    search,\n    phrasen,\n    navigation,\n    dashboard,\n    filter,\n    studstatus,\n    profil,\n    profilUpdate,\n    lvPlan,\n    bookmark,\n    stv,\n    notiz,\n    betriebsmittel,\n    checkperson,\n    ampeln,\n    ort,\n    cms,\n    lehre,\n    addons,\n    messages,\n    vorlagen,\n    addons,\n\tstudiengang,\n\tmenu,\n\tauthinfo,\n\tstudium,\n    language\n};\n","export default {\n\tasync getViewData() {\n\t\tconst url = `/api/frontend/v1/Cis4FhcApi/getViewData`;\n\t\treturn this.$fhcApi.get(url, null, null)\n\t},\n}","export default {\n\n    getBookmarks: function () {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/getBookmarks`\n        ,{}\n      );\n    },\n  \n    delete: function (bookmark_id) {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/delete/${bookmark_id}`\n        ,{}\n      ); \n    },\n\n\tupdate: function ({ bookmark_id, url, title, tag=null}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/Bookmark/update/${bookmark_id}`\n\t\t\t, {\n\t\t\t\turl: url,\n\t\t\t\ttitle: title\n\t\t\t}\n\t\t);\n\t},\n\n    insert: function ({url, title, tag}) {\n      return this.$fhcApi.post(\n        `/api/frontend/v1/Bookmark/insert`\n        ,{\n          url: url,\n          title: title,\n          tag: tag\n        }\n      ); \n    },\n}","export default {\n    \n    open: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/open`,{});\n    },\n\n    all: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/all`,{});\n    },\n\n    confirm: function (ampel_id) {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/confirm/${ampel_id}`,{});\n    },\n\n}","export default {\n\tstudiengangInformation: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Studgang/getStudiengangInfo\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudiengangByKz: function (studiengang_kz) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz\",\n\t\t\t{\n\t\t\t\t\"studiengang_kz\": studiengang_kz\n\t\t\t}\n\t\t);\n\t}\n}","export default {\n\tgetMenu: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/CisMenu/getMenu\",\n\t\t\t{}\n\t\t);\n\t}\n\n}","\nexport default {\n\tgetAuthUID() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthUID',\n\t\t\t{ }\n\t\t);\n\t},\n\tgetAuthInfo() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthInfo',\n\t\t\t{}\n\t\t);\n\t},\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAll() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/language/get');\n\t}\n};","/** TODO(chris):\n * when deleting this file be sure to\n * remove line 1 & 90 from ../plugins/Phrasen.js\n */\nimport FhcApiFactory from '../api/fhcapifactory.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\tconsole.warn('$fhcApi.getUri is DEPRECATED! Use $api.getUri instead.');\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\tconsole.warn('$fhcApi.get is DEPRECATED! Use $api.get instead.');\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\tconsole.warn('$fhcApi.post is DEPRECATED! Use $api.post instead.');\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart, true)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart, noWarn) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif (!noWarn) console.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n//--------------------------------------------------------------------------------------------------------------------\n// Configs\n\n// To see debug messages into the browser console set this parameter as true\nconst CORE_REST_CLIENT_DEBUG = false;\n\n// Default timeout (milliseconds)\nconst CORE_REST_CLIENT_TIMEOUT = 5000;\n\n//--------------------------------------------------------------------------------------------------------------------\n// Constants\n\n// Success\nconst CORE_REST_CLIENT_SUCCESS = 0;\n\n// Properties present in a response\nconst CORE_REST_CLIENT_ERROR = \"error\";\nconst CORE_REST_CLIENT_RETVAL = \"retval\";\n\n// HTTP method parameters\nconst CRC_HTTP_GET_METHOD = \"get\";\nconst CRC_HTTP_POST_METHOD = \"post\";\n\n/**\n * Definition and initialization of the object CoreRESTClient\n */\nexport const CoreRESTClient = {\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Public methods\n\n\t/**\n\t * Performs a call using the HTTP GET method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tget: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_GET_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Performs a call using the HTTP POST method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tpost: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_POST_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Checks if the response is a success\n\t */\n\tisSuccess: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR)\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL) && response.error == CORE_REST_CLIENT_SUCCESS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Checks if the response is an error\n\t */\n\tisError: function(response) {\n\t\treturn !CoreRESTClient.isSuccess(response);\n\t},\n\n\t/**\n\t * Checks if the response has data\n\t */\n\thasData: function(response) {\n\n\t\tif (CoreRESTClient.isSuccess(response))\n\t\t{\n\t\t\tif ((typeof response[CORE_REST_CLIENT_RETVAL] === \"object\" && Object.keys(response[CORE_REST_CLIENT_RETVAL]).length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"array\" && response[CORE_REST_CLIENT_RETVAL].length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"string\" && response[CORE_REST_CLIENT_RETVAL].trim() != \"\")\n\t\t\t\t|| typeof response[CORE_REST_CLIENT_RETVAL] === \"number\")\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Retrives data from response object\n\t */\n\tgetData: function(response) {\n\n\t\tif (CoreRESTClient.hasData(response))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Retrives error message from response object\n\t */\n\tgetError: function(response) {\n\n\t\tif (typeof response === \"object\"\n\t\t\t&& Object.keys(response).length > 0\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn \"Generic error\";\n\t},\n\n\t/**\n\t * Retrives code from response object\n\t */\n\tgetErrorCode: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_ERROR];\n\t\t}\n\n\t\treturn 1; // Generic error\n\t},\n\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Private methods\n\n\t/**\n\t * Generate the router URI using the connection parameters\n\t */\n\t_generateRouterURI: function(wsURL) {\n\t\tvar uri = null;\n\n\t\t// Checks if global JS object FHC_JS_DATA_STORAGE_OBJECT exists\n\t\tif (typeof FHC_JS_DATA_STORAGE_OBJECT !== \"undefined\")\n\t\t{\n\t\t\turi = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\" + wsURL;\n\t\t}\n\n\t\treturn uri;\n\t},\n\n\t/**\n\t * Method to print debug info after a controller has been called\n\t */\n\t_printDebug: function(parameters, response, errorThrown) {\n\n\t\tif (CORE_REST_CLIENT_DEBUG === true) // If global const CORE_REST_CLIENT_DEBUG is true, but really true!\n\t\t{\n\t\t\t// Print info about called controller\n\t\t\tconsole.log(\"Called controller: \" + parameters.remoteController);\n\t\t\tconsole.log(\"Call parameters:\"); // parameters given to this call\n\t\t\tconsole.log(parameters);\n\n\t\t\tif (response != null) // if there is a response...\n\t\t\t{\n\t\t\t\tconsole.log(\"Controller Response:\");\n\t\t\t\tconsole.log(response); // ...print it\n\t\t\t}\n\t\t\tif (errorThrown != null) // if there is a jQuery error...\n\t\t\t{\n\t\t\t\tconsole.log(\"jQuery error:\");\n\t\t\t\tconsole.log(errorThrown); // ...print it\n\t\t\t}\n\t\t\tconsole.log(\"--------------------------------------------------------------------------------------------\");\n\t\t}\n\t},\n\n\t/**\n\t * Performs a call to the server were the CI PHP layer is running\n\t * - wsURL: alias of the core controller to call\n\t * - wsParameters: parameters to give to the called controller\n\t * - type: POST or GET HTTP method\n\t * - axiosParameters: an object to configure the axios call\n\t */\n\t_axiosCall: function(wsURL, wsParameters, type, axiosParameters) {\n\n\t\t// Axios config object\n\t\tlet axiosCallObj = {\n\t\t\tmethod: type,\n\t\t\turl: CoreRESTClient._generateRouterURI(wsURL),\n\t\t\ttimeout: CORE_REST_CLIENT_TIMEOUT // default time out\n\t\t};\n\n\t\t// The ajax call is HTTP GET\n\t\tif (type == CRC_HTTP_GET_METHOD)\n\t\t{\n\t\t\taxiosCallObj.params = wsParameters;\n\t\t}\n\t\t// The ajax call is HTTP POST\n\t\telse\n\t\t{\n\t\t\taxiosCallObj.data = wsParameters;\n\t\t}\n\n\t\t// Check if axiosParameters is an object\n\t\tif (typeof axiosParameters === \"object\")\n\t\t{\n\t\t\t// And then copies the its properties into axiosCallObj\n\t\t\tfor (var prop in axiosParameters) axiosCallObj[prop] = axiosParameters[prop];\n\t\t}\n\n\t\t// Perform the ajax call via axios\n\t\treturn axios(axiosCallObj);\n\t}\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n * \n * @usage:\n * Preperations:\n * Be sure to have PrimeVue loaded  with the toast and confirmdialog\n * components as primevue variable\n * Install:\n * Import this Plugin and install it with the app.use() function.\n * Use:\n * In your component you can call now the global property $fhcAlert\n * which has the following functions:\n * \n * alertSuccess\n * ------------\n * Displays a success message\n * @param string\tmessage\n * @return void\n * \n * alertInfo\n * ---------\n * Displays an info message\n * @param string\tmessage\n * @return void\n * \n * alertWarning\n * ------------\n * Displays a warning\n * @param string\tmessage\n * @return void\n * \n * alertError\n * ----------\n * Displays an error\n * @param string\tmessage\n * @return void\n * \n * alertSystemError\n * ----------------\n * Displays an alert with the error details and a button to mail\n * the error to the Support Team\n * @param string\tmessage\n * @return void\n * \n * confirmDelete\n * -------------\n * Displays a confirmation dialog and returns a Promise which resolves\n * with true or false depending und the pressed button.\n * @return Promise\n * \n * alertDefault\n * ------------\n * Displays an alert\n * @param string\tseverity\t\tcan be 'success', 'info', 'warning', 'error'\n * @param string\ttitle\n * @param string\tmessage\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * alertMultiple\n * -------------\n * Displays multiple alerts\n * @param array\t\tmessageArray\n * @param string\tseverity\t\t(optional) defaults to 'info'\n * @param string\ttitle\t\t\t(optional) defaults to 'Info'\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * handleSystemError\n * -----------------\n * Automatiticly determine how to display an system error and display it.\n * This would be used in a catch block of an ajax call.\n * @param mixed\t\terror\n * @return void\n * \n * handleSystemMessage\n * -------------------\n * Automatiticly determine how to display a message and display it.\n * @param mixed\t\tmessage\n * @return void\n */\nimport PvConfig from \"../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js\";\nimport PvToast from \"../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js\";\nimport PvConfirm from \"../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js\";\nimport PvConfirmationService from \"../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js\";\nimport FhcPhrasen from \"./Phrasen.js\";\n\nimport {CoreRESTClient} from '../RESTClient.js';\n\nconst helperAppContainer = document.createElement('div');\n\nconst helperApp = Vue.createApp({\n\tname: \"FhcAlertApp\",\n\tcomponents: {\n\t\tPvToast,\n\t\tPvConfirm\n\t},\n\tmethods: {\n\t\tmailToUrl(slotProps) {\n\t\t\tlet mailTo = FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto;\n\t\t\tlet subject = 'Meldung%20Systemfehler';\n\t\t\tlet body = `\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausführlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewählt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: ` + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method + `%0D%0A\n\t\t\t\tFehler Meldung: ` + slotProps.message.detail + `%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kümmern uns um eine rasche Behebung des Problems!`\n\n\t\t\treturn \"mailto:\" + mailTo + \"?subject=\" + subject + \"&body=\" + body;\n\t\t},\n\t\topenMessagecard(e) {\n\t\t\tbootstrap.Collapse.getOrCreateInstance(e.target.getAttribute('href')).toggle();\n\t\t}\n\t},\n\tunmounted() {\n\t\thelperAppContainer.parentElement.removeChild(helperAppContainer);\n\t},\n\tcomputed: {\n\t\tshowmaillink: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto !== '';\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<pv-toast ref=\"toast\" class=\"fhc-alert\" :base-z-index=\"99999\">\n\t\t<template #message=\"{ message }\">\n\t\t\t<!--span :class=\"slotProps.iconClass\"></span-->\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{ message.summary }}</span>\n\t\t\t\t<div v-if=\"message.detail && message.html\" class=\"p-toast-detail\" v-html=\"message.detail\"></div>\n\t\t\t\t<div v-else-if=\"message.detail\" class=\"p-toast-detail\">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref=\"alert\" class=\"fhc-alert\" :base-z-index=\"99999\" position=\"center\">\n\t\t<template #message=\"slotProps\">\n\t\t\t<i class=\"fa fa-circle-exclamation fa-2xl mt-3\"></i>\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class=\"p-toast-detail my-3\">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"align-bottom flex-fill me-2\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\t:href=\"'#fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t:aria-controls=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\t@click=\"openMessagecard\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"showmaillink\"\n\t\t\t\t\t\tclass=\"btn btn-primary flex-fill\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t:href=\"mailToUrl(slotProps)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"messageCard\" :id=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\" class=\"collapse mt-3\">\n\t\t\t\t\t<div class=\"card card-body text-body small alertCollapseText\">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group=\"fhcAlertConfirm\"></pv-confirm>`\n});\n\nhelperApp.use(PvConfig);\nhelperApp.use(PvConfirmationService);\n//helperApp.use(FhcPhrasen);\n\nconst helperAppInstance = helperApp.mount(helperAppContainer);\n\ndocument.body.appendChild(helperAppContainer);\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (!app.config.globalProperties.$p)\n\t\t\tapp.use(FhcPhrasen);\n\n\t\tconst $fhcAlert = {\n\t\t\talertSuccess(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSuccess);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'success', summary: 'Info', detail: message, life: 1000});\n\t\t\t},\n\t\t\talertInfo(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertInfo);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'info', summary: 'Info', detail: message, life: 3000 });\n\t\t\t},\n\t\t\talertWarning(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertWarning);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'warn', summary: 'Achtung', detail: message});\n\t\t\t},\n\t\t\talertError(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertError);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'error', summary: 'Achtung', detail: message });\n\t\t\t},\n\t\t\talertSystemError(message) {\n\t\t\t\t//TODO(Manu) for translation of content of template: restructure in data\n\t\t\t\t//and update definitions with  translations\n\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSystemError);\n\t\t\t\thelperAppInstance.$refs.alert.add({\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\tsummary: Vue.computed(() => app.config.globalProperties.$p.t('alert/systemerror')),\n\t\t\t\t\tdetail: message});\n\t\t\t},\n\t\t\tconfirmDelete() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: 'fhcAlertConfirm',\n\t\t\t\t\t\theader: Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: Vue.computed(() => app.config.globalProperties.$p.t('alert/confirm_delete')),\n\t\t\t\t\t\tacceptLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/loeschen')),\n\t\t\t\t\t\tacceptClass: 'p-button-danger',\n\t\t\t\t\t\trejectLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: 'p-button-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfirm(options) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: options?.group ?? 'fhcAlertConfirm',\n\t\t\t\t\t\theader: options?.header ?? Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: options?.message ?? '',\n\t\t\t\t\t\tacceptLabel: options?.acceptLabel ?? 'Ok',\n\t\t\t\t\t\tacceptClass: options?.acceptClass ?? 'btn btn-primary',\n\t\t\t\t\t\trejectLabel: options?.rejectLabel ?? Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: options?.rejectClass ?? 'btn btn-outline-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\talertDefault(severity, title, message, sticky = false, html = false) {\n\t\t\t\tlet options = { severity: severity, summary: title, detail: message, html };\n\t\t\t\t\n\t\t\t\tif (!sticky)\n\t\t\t\t\toptions.life = 3000;\n\n\t\t\t\thelperAppInstance.$refs.toast.add(options);\n\t\t\t},\n\t\t\talertMultiple(messageArray, severity = 'info', title = 'Info', sticky = false, html = false){\n\t\t\t\t// Check, if array has only string values\n\t\t\t\tif (messageArray.every(message => typeof message === 'string')) {\n\t\t\t\t\tmessageArray.forEach(message => this.alertDefault(severity, title, message, sticky, html));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thandleSystemError(error) {\n\t\t\t\t// don't show an error message to the user if the error was an aborted request\n\t\t\t\tif(error.hasOwnProperty('name') && error.name.toLowerCase() === \"AbortError\".toLowerCase())\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is string\n\t\t\t\tif (typeof error === 'string')\n\t\t\t\t\treturn $fhcAlert.alertSystemError(error);\n\n\t\t\t\t// Error is array of strings\n\t\t\t\tif (Array.isArray(error) && error.every(err => typeof err === 'string'))\n\t\t\t\t\treturn error.every($fhcAlert.alertSystemError);\n\n\t\t\t\t// Error has been handled already\n\t\t\t\tif (error.hasOwnProperty('handled') && error.handled)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is object\n\t\t\t\tif (typeof error === 'object' && error !== null) {\n\t\t\t\t\tlet errMsg = '';\n\n\n\t\t\t\t\tif (error.hasOwnProperty('response') && error.response?.data?.retval)\n\t\t\t\t\t\terrMsg += 'Error Message: ' + (error.response.data.retval.message || error.response.data.retval) + '\\r\\n';\n\t\t\t\t\telse if (error.hasOwnProperty('message'))\n\t\t\t\t\t\terrMsg += 'Error Message: ' + error.message.toUpperCase() + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('config') && error.config.hasOwnProperty('url'))\n\t\t\t\t\t\terrMsg += 'Error ConfigURL: ' + error.config.url + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('stack'))\n\t\t\t\t\t\terrMsg += 'Error Stack: ' + error.stack + '\\r\\n';\n\t\t\t\t\t\n\t\t\t\t\t// Fallback object error message\n\t\t\t\t\tif (errMsg == '')\n\t\t\t\t\t\terrMsg = 'Error Message: ' + JSON.stringify(error) + '\\r\\n';\n\n\t\t\t\t\terrMsg += 'Error Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\n\t\t\t\t\treturn $fhcAlert.alertSystemError(errMsg);\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\thandleSystemMessage(message) {\n\t\t\t\t// Message is string\n\t\t\t\tif (typeof message === 'string')\n\t\t\t\t\treturn $fhcAlert.alertWarning(message);\n\n\t\t\t\t// Message is array of strings\n\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t// If Array has only Strings\n\t\t\t\t\tif (message.every(msg => typeof msg === 'string'))\n\t\t\t\t\t\treturn message.every($fhcAlert.alertWarning);\n\n\t\t\t\t\t// If Array has only Objects\n\t\t\t\t\tif (message.every(msg => typeof msg === 'object') && msg !== null) {\n\t\t\t\t\t\treturn message.every(msg => {\n\t\t\t\t\t\t\tif (msg.hasOwnProperty('data') && msg.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(msg.data.retval));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(msg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Message is Object with data property\n\t\t\t\tif (typeof message === 'object' && message !== null){\n\t\t\t\t\tif (message.hasOwnProperty('data') && message.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t// NOTE(chris): changed: alertSystemError => alertWarning\n\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(message.data.retval));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(message));\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' +  FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\tresetFormValidation(form) {\n\t\t\t\tconst event = new Event('fhc-form-reset');\n\t\t\t\tform.querySelectorAll(['[data-fhc-form-validate],[data-fhc-form-error]']).forEach(el => el.dispatchEvent(event));\n\t\t\t\t/*const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\tif (alert) {\n\t\t\t\t\talert.innerHTML = '';\n\t\t\t\t\talert.classList.add('d-none');\n\t\t\t\t}\n\t\t\t\tform.querySelectorAll('.invalid-feedback').forEach(n => n.remove());\n\t\t\t\tform.querySelectorAll('.is-invalid').forEach(n => n.classList.remove('is-invalid'));\n\t\t\t\tform.querySelectorAll('.is-valid').forEach(n => n.classList.remove('is-valid'));*/\n\t\t\t},\n\t\t\thandleFormValidation(error, form) {\n\t\t\t\tif (form === undefined) {\n\t\t\t\t\tif (error && error.nodeType === Node.ELEMENT_NODE)\n\t\t\t\t\t\treturn err => $fhcAlert.handleFormValidation(err, error);\n\t\t\t\t} else {\n\t\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t\tif (typeof errors !== \"object\")\n\t\t\t\t\t\t\terrors = error.response.data;\n\n\t\t\t\t\t\t// NOTE(chris): reset form validation\n\t\t\t\t\t\t$fhcAlert.resetFormValidation(form);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// NOTE(chris): set form input validation\n\t\t\t\t\t\tconst notFound = Object.entries(errors).filter(([key, detail]) => {\n\t\t\t\t\t\t\tconst input = form.querySelector('[data-fhc-form-validate=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tinput.dispatchEvent(new CustomEvent('fhc-form-invalidate', {detail}));\n\n\t\t\t\t\t\t\t/*const input = form.querySelector('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\t\t\t\tconst feedback = document.createElement('div');\n\t\t\t\t\t\t\tfeedback.classList.add('invalid-feedback');\n\t\t\t\t\t\t\tfeedback.innerHTML = detail;\n\t\t\t\t\t\t\tinput.after(feedback);*/\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).map(arr => arr[1]);\n\n\n\t\t\t\t\t\t//const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\t\t\tconst alert = form.querySelector('[data-fhc-form-error]');\n\t\t\t\t\t\tif (alert && notFound.length) {\n\t\t\t\t\t\t\talert.dispatchEvent(new CustomEvent('fhc-form-error', {detail: notFound}));\n\t\t\t\t\t\t\t/*notFound.forEach(txt => {\n\t\t\t\t\t\t\t\tconst p = document.createElement('p');\n\t\t\t\t\t\t\t\tp.innerHTML = txt;\n\t\t\t\t\t\t\t\talert.append(p);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (notFound.length) {\n\t\t\t\t\t\t\t\talert.lastChild.classList.add('mb-0');\n\t\t\t\t\t\t\t\talert.classList.remove('d-none');\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotFound.forEach($fhcAlert.alertError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t$fhcAlert.alertError((typeof errors === 'object') ? Object.values(errors) : errors);\n\t\t\t\t} else {\n\t\t\t\t\t$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.config.globalProperties.$fhcAlert = $fhcAlert;\n\t\tapp.provide('$fhcAlert', app.config.globalProperties.$fhcAlert);\n\t}\n}","import FhcAlert from './FhcAlert.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$api) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!app.config.globalProperties.$fhcAlert)\n\t\t\tapp.use(FhcAlert);\n\n\t\tfunction _send_array_or_object(errors, func) {\n\t\t\tif (Array.isArray(errors))\n\t\t\t\terrors.forEach(func);\n\t\t\telse\n\t\t\t\tObject.entries(errors).forEach(\n\t\t\t\t\t([title, errs]) => errs.forEach(\n\t\t\t\t\t\terror => func(error, title)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t\tlet DEFAULT_ERROR_CONFIG = {\n\t\t\tsuccess: true,\n\t\t\tfail: true,\n\t\t\tcombine: {\n\t\t\t\tform: ['validation', 'general'],\n\t\t\t\ttoast: ['validation', 'general', 'not_found', 'site_failed']\n\t\t\t},\n\t\t\thandler: {\n\t\t\t\tform(form, errors) {\n\t\t\t\t\tform.clearValidation();\n\t\t\t\t\terrors.forEach(err => form.setFeedback(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\terr.messages || err.message\n\t\t\t\t\t));\n\t\t\t\t},\n\t\t\t\tasync toast(errors) {\n\t\t\t\t\tconst $p = app.config.globalProperties.$p;\n\t\t\t\t\tif (!$p)\n\t\t\t\t\t\treturn Promise.reject('Phrasen plugin not loaded!');\n\t\t\t\t\n\t\t\t\t\tasync function _format_toast(errors) {\n\t\t\t\t\t\terrors = errors.reduce((result, err) => {\n\t\t\t\t\t\t\tswitch (err.type) {\n\t\t\t\t\t\t\tcase 'not_found':\n\t\t\t\t\t\t\tcase 'site_failed':\n\t\t\t\t\t\t\t\tif (err.message)\n\t\t\t\t\t\t\t\t\tresult[err.message] = [err.url];\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tresult._default = [err.url];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'general':\n\t\t\t\t\t\t\t\tif (!result._default)\n\t\t\t\t\t\t\t\t\tresult._default = [];\n\t\t\t\t\t\t\t\tresult._default.push(err.message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'validation':\n\t\t\t\t\t\t\t\tObject.entries(err.messages)\n\t\t\t\t\t\t\t\t\t.forEach(([field, msg]) => {\n\t\t\t\t\t\t\t\t\t\tif (!result[field])\n\t\t\t\t\t\t\t\t\t\t\tresult[field] = [];\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(msg))\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(...msg);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(msg);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tlet counter = 0;\n\t\t\t\t\t\tconst msgs = await Promise.all(Object.entries(errors)\n\t\t\t\t\t\t\t.sort((a, b) => ['_default'].indexOf(b[0]) - ['_default'].indexOf(a[0])) // sort _default first\n\t\t\t\t\t\t\t.map(async ([field, msgs]) => {\n\t\t\t\t\t\t\t\tif (field == '_default') {\n\t\t\t\t\t\t\t\t\tawait $p.loadCategory('dashboard');\n\t\t\t\t\t\t\t\t\tconst general = $p.t('dashboard/general');\n\t\t\t\t\t\t\t\t\tfield = '<dt class=\"d-none\">' + general + '</dt>';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield = '<dt>' + field + '</dt>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcounter += msgs.length;\n\t\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t\t+ '<dd>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('</dd><dd>')\n\t\t\t\t\t\t\t\t\t+ '</dd>';\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcounter,\n\t\t\t\t\t\t\tmsgs\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter, msgs;\n\t\t\t\t\tif (Array.isArray(errors)) {\n\t\t\t\t\t\t({ counter, msgs } = await _format_toast(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t({ counter, msgs } = await Object.entries(errors)\n\t\t\t\t\t\t\t.reduce(async (res, [title, errs]) => {\n\t\t\t\t\t\t\t\tconst result = await res;\n\t\t\t\t\t\t\t\tconst { counter, msgs } = await _format_toast(errs);\n\t\t\t\t\t\t\t\tresult.counter += counter;\n\t\t\t\t\t\t\t\tresult.msgs.push('<dt>'\n\t\t\t\t\t\t\t\t\t+ title\n\t\t\t\t\t\t\t\t\t+ '</dt><dd><dl>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('')\n\t\t\t\t\t\t\t\t\t+ '</dl></dd>');\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}, Promise.resolve({ counter: 0, msgs: []})));\n\t\t\t\t\t}\n\n\t\t\t\t\tawait $p.loadCategory('ui');\n\t\t\t\t\tconst n_errors = $p.t('ui/n_errors', { n: counter });\n\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\tn_errors,\n\t\t\t\t\t\t'<dl>' + msgs.join('') + '</dl>',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tphp(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('warn', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('info', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\tmessage = title + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\texception(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tdb(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tauth(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\ttitle += ': ' + error.message;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttitle = error.message;\n\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (options?.errorHandling !== undefined)\n\t\t\tDEFAULT_ERROR_CONFIG = _merge_error_config(options.errorHandling);\n\t\t\n\t\tfunction get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\t\tfunction clean_return_value(response) {\n\t\t\tif (typeof response.data === 'string' || response.data instanceof String)\n\t\t\t\treturn clean_return_value({ data: response });\n\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = { response };\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tfunction _merge_error_config(config) {\n\t\t\tif (config === false || config === 'off')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false, fail: false };\n\t\t\t\n\t\t\tif (!config || config === true)\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tif (config === 'success')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, fail: false };\n\t\t\t\n\t\t\tif (config === 'fail')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false };\n\t\t\t\n\t\t\tconst { success, fail, handler, combine } = config;\n\t\t\t\n\t\t\tconfig = { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tObject.entries({ fail, success }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = value;\n\t\t\t});\n\t\t\tObject.entries({ handler, combine }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = { ...config[key], ...value };\n\t\t\t});\n\n\t\t\treturn config;\n\t\t}\n\t\tfunction get_error_handler(config) {\n\t\t\tconst result = _merge_error_config(config?.errorHandling);\n\n\t\t\tif (!config?.form) {\n\t\t\t\tresult.combine = { ...result.combine, form: [] };\n\t\t\t} else {\n\t\t\t\tconst formHandler = result.handler.form;\n\t\t\t\tresult.handler = { ...result.handler, form: errors => formHandler(config.form, errors) };\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tfunction get_error_list(error) {\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'not_found',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tif (error.response.data.errors == undefined) return [];\n\t\t\t\t\treturn error.response.data.errors;\n\t\t\t\t}\n\t\t\t} else if (error.request) {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'site_failed',\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'script',\n\t\t\t\t\tmessage: error.message\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\tfunction popHandleableErrors(errorHandling, errors) {\n\t\t\tconst result = {};\n\t\t\tconst copy = [];\n\n\t\t\tif (errors == undefined) return {};\n\n\t\t\twhile (errors.length)\n\t\t\t\tcopy.push(errors.pop());\n\t\t\tfor (var error of copy) {\n\t\t\t\tlet type = error.type;\n\t\t\t\tlet newType = null;\n\t\t\t\tfor (var t in errorHandling.combine) {\n\t\t\t\t\tlet newTypeCombinesType = errorHandling\n\t\t\t\t\t\t.combine[t]\n\t\t\t\t\t\t.includes(type);\n\t\t\t\t\tlet newTypeHasHandler = errorHandling.handler[t];\n\t\t\t\t\tif (newTypeCombinesType && newTypeHasHandler) {\n\t\t\t\t\t\tnewType = t;\n\t\t\t\t\t\tif (newType == 'form')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newType)\n\t\t\t\t\ttype = newType;\n\t\t\t\tconst handler = errorHandling.handler[type];\n\t\t\t\tif (handler) {\n\t\t\t\t\tif (!result[type])\n\t\t\t\t\t\tresult[type] = [];\n\t\t\t\t\tif (Array.isArray(error))\n\t\t\t\t\t\tresult[type].push(...error);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult[type].push(error);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\terrors.push(error);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t+ FHC_JS_DATA_STORAGE_OBJECT.ci_router\n\t\t\t\t+ \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(\n\t\t\tresponse => {\n\t\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\t\treturn clean_return_value(response);\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\tif (response.data.errors)\n\t\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$api._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t\t);\n\n\t\t\t\treturn clean_return_value(response);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\n\t\t\t\tconst errorConfig = get_error_handler(error.config);\n\n\t\t\t\tif (!errorConfig.fail)\n\t\t\t\t\treturn Promise.reject(error);\n\n\t\t\t\tconst remaining = get_error_list(error);\n\n\t\t\t\tconst errors = popHandleableErrors(errorConfig, remaining);\n\n\t\t\t\tfor (var type in errors) {\n\t\t\t\t\terrorConfig.handler[type](errors[type]);\n\t\t\t\t}\n\n\t\t\t\tif (remaining.length)\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\n\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\t\t\t}\n\t\t);\n\n\t\tapp.config.globalProperties.$api = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\tcall(factory, configoverwrite, form) {\n\t\t\t\tif (Array.isArray(factory)) {\n\t\t\t\t\tconst $api = app.config.globalProperties.$api;\n\n\t\t\t\t\treturn Promise\n\t\t\t\t\t\t.allSettled(factory.map((config, index) => {\n\t\t\t\t\t\t\tif (!Array.isArray(config))\n\t\t\t\t\t\t\t\tconfig = ['#' + index, config];\n\t\t\t\t\t\t\treturn $api.call(config[1], {\n\t\t\t\t\t\t\t\terrorHeader: config[0],\n\t\t\t\t\t\t\t\terrorHandling: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst [ , , config ] = get_config(form, undefined, undefined, configoverwrite || {});\n\t\t\t\t\t\t\tconst errorConfig = get_error_handler(config);\n\n\t\t\t\t\t\t\tif (!errorConfig.success && !errorConfig.fail) {\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst typedErrors = {};\n\t\t\t\t\t\t\tfor (var res of result) {\n\t\t\t\t\t\t\t\tconst [ allowed, item ] = res.status === 'fulfilled'\n\t\t\t\t\t\t\t\t\t? [ errorConfig.success, res.value ]\n\t\t\t\t\t\t\t\t\t: [ errorConfig.fail, res.reason ];\n\t\t\t\t\t\t\t\tif (!allowed)\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tconst errors = popHandleableErrors(errorConfig, get_error_list(item));\n\n\t\t\t\t\t\t\t\tfor (var type in errors) {\n\t\t\t\t\t\t\t\t\tif (!typedErrors[type])\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type] = {\n\t\t\t\t\t\t\t\t\t\t\t[item.config.errorHeader]: errors[type]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type][item.config.errorHeader] = errors[type];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var errType in typedErrors) {\n\t\t\t\t\t\t\t\terrorConfig.handler[errType](typedErrors[errType]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet { method, url, params, config } = factory;\n\t\t\t\tif (configoverwrite !== undefined) {\n\t\t\t\t\tconfig = configoverwrite;\n\t\t\t\t}\n\t\t\t\tif (!method) {\n\t\t\t\t\tmethod = 'get';\n\t\t\t\t}\n\t\t\t\tif (method.toLowerCase)\n\t\t\t\t\tmethod = method.toLowerCase();\n\t\t\t\tif (method == 'get') {\n\t\t\t\t\treturn this.get(form, url, params, config);\n\t\t\t\t} else if (method == 'post') {\n\t\t\t\t\treturn this.post(form, url, params, config);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"FhcApi: method not allowed:\", method);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetErrorHandler(config) {\n\t\t\t\treturn get_error_handler(config);\n\t\t\t}\n\t\t};\n\n\t\tapp.provide('$api', app.config.globalProperties.$api);\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/loadModule/' + category\n\t\t};\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst params = {categories, language}\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/phrasen/setLanguage',\n\t\t\tparams\n\t\t};\n\t},\n\tgetLanguage() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getLanguage'\n\t\t};\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getAllLanguages'\n\t\t};\n\t}\n};","import OldFhcApi from '../plugin/OldFhcApi.js'; // TODO(chris): remove at some point\nimport PluginsApi from './Api.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(ApiPhrasen.loadCategory(category))\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tif (!app.config.globalProperties.$fhcApi)\n\t\t\tapp.use(OldFhcApi); // TODO(chris): remove at some point\n\t\tif (!app.config.globalProperties.$api)\n\t\t\tapp.use(PluginsApi);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport pv21apifactory from \"../../api/api.js\";\n//import OldFhcApi from '../../../../../js/plugin/OldFhcApi.js';\nimport ApiCommon from '../../api/factory/common.js';\nimport ApiDV from  '../../api/factory/dv.js';\n\nimport {CoreFilterCmpt} from '../../../../../js/components/filter/Filter.js';\nimport {CoreNavigationCmpt} from '../../../../../js/components/navigation/Navigation.js';\n\nimport CoreVerticalsplitCmpt from '../../../../../js/components/verticalsplit/verticalsplit.js';\nimport {EmailTelData} from '../../components/employee/contact/EmailTelData.js';\n\nimport BetriebsmittelPersonApi from '../../../../../js/api/factory/betriebsmittel/person.js';\nimport Betriebsmittel from \"../../../../../js/components/Betriebsmittel/Betriebsmittel.js\";\n\nimport JobFunction from \"../../components/employee/JobFunction.js\";\nimport { EmployeeHeader } from '../../components/employee/EmployeeHeader.js';\nimport { EmployeeContractInfo } from \"../../components/employee/contract/EmployeeContractInfo.js\";\n\nimport Phrasen from '../../../../../js/plugins/Phrasen.js';\n\nconst sprache = Vue.ref([]);\nconst nations = Vue.ref([]);\nconst standorte = Vue.ref([]);\nconst orte = Vue.ref([]);\nconst ausbildung = Vue.ref([]);\nconst kontakttyp = Vue.ref([]);\nconst adressentyp = Vue.ref([]);\nconst sachaufwandtyp  = Vue.ref([]);\nconst karenztypen = Vue.ref([]);\nconst teilzeittypen = Vue.ref([]);\nconst vertragsarten = Vue.ref([]);\nconst vertragsbestandteiltypen = Vue.ref([]);\nconst freitexttypen = Vue.ref([]);\nconst gehaltstypen = Vue.ref([]);\nconst hourlyratetypes = Vue.ref([]);\nconst unternehmen = Vue.ref([]);\nconst beendigungsgruende = Vue.ref([]);\n\nconst handyVerwaltungApp = Vue.createApp({\n\tname: 'Handyverwaltung',\n\tdata: function() {\n\t\treturn {\n                    personid: null,\n                    personuid: 'keine',\n\t\t\t\t\tbetriebsmittelpersonapi: BetriebsmittelPersonApi\n\t\t};\n\t},\n\tcomponents: {\n\t\tCoreNavigationCmpt,\n\t\tCoreFilterCmpt,\n        CoreVerticalsplitCmpt,\n        EmailTelData,\n        Betriebsmittel,\n        JobFunction,\n        EmployeeHeader,\n        EmployeeContractInfo,                \n\t},\n    setup() {\n\n\t\t// init shared data        \n\n        Vue.provide(\"sprache\",sprache);\n\t\tVue.provide(\"nations\",nations);\n\t\tVue.provide(\"standorte\",standorte);\n\t\tVue.provide(\"orte\",orte);\n\t\tVue.provide(\"ausbildung\",ausbildung);\n\t\tVue.provide(\"kontakttyp\",kontakttyp);\n\t\tVue.provide(\"adressentyp\",adressentyp);\n\t\tVue.provide(\"sachaufwandtyp\",sachaufwandtyp);\n\t\tVue.provide(\"karenztypen\",karenztypen);\n\t\tVue.provide(\"teilzeittypen\",teilzeittypen);\n\t\tVue.provide(\"vertragsarten\",vertragsarten);\n\t\tVue.provide(\"vertragsbestandteiltypen\",vertragsbestandteiltypen);\n\t\tVue.provide(\"gehaltstypen\",gehaltstypen);\n\t\tVue.provide(\"freitexttypen\",freitexttypen);\n\t\tVue.provide(\"hourlyratetypes\",hourlyratetypes);\n\t\tVue.provide(\"unternehmen\",unternehmen);\n\t\tVue.provide('beendigungsgruende',beendigungsgruende);\n\t},\n\tmethods: {\n            // Tabulator handler for the rowClick event\n            personselected: function(e, row) { \n                console.log('personselected', row)\n                this.personid = row.getData().PersonId;\n                this.personuid = row.getData().UID;\n                \n                if( this.$refs['vsplit'].isCollapsed() !== false ) {\n                    this.$refs['vsplit'].showBoth();\n                }\n            }\n\t},\n        computed: {\n            employeesTabulatorEvents: function() {\n\t\tconst employeesTabulatorEvents = [\n\t\t\t{\n\t\t\t\tevent: \"rowClick\",\n\t\t\t\thandler: this.personselected\n\t\t\t},\n                        {\n                                event: \"dataFiltered\",\n                                handler: function(filters, rows) {\n                                    var el = document.getElementById(\"search_count\");\n                                    el.innerHTML = rows.length;\n                                }\n                        },\n                        {\n                                event: \"dataLoaded\",\n                                handler: function(data) {\n                                    var el = document.getElementById(\"total_count\");\n                                    el.innerHTML = data.length;\n                                }\n                        }\n\t\t];\n                return employeesTabulatorEvents;\n            },            \n            employeesTabulatorOptions: function() {\n                const sexformatter = function(cell, formatterParams, onRendered) {\n\t\t\tvar value = cell.getValue();\n\t\t\tif( value === 'm') {\n\t\t\t\treturn 'männlich';\n\t\t\t} else if( value === 'w' ) {\n\t\t\t\treturn 'weiblich';\n\t\t\t} else if( value === 'x' ) {\n\t\t\t\treturn 'divers';\n\t\t\t} else if( value === 'u' ) {\n\t\t\t\treturn 'unbekannt';\n\t\t\t} else {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t};\n                \n\t\tconst employeesTabulatorOptions = {\n\t\t\theight: \"100%\",\n\t\t\tlayout: 'fitColumns',\n                        persistenceID: 'handyverwaltung_20240905_03',\n                        footerElement: '<div>&sum; <span id=\"search_count\"></span> / <span id=\"total_count\"></span></div>',\n\t\t\tcolumns: [\n\t\t\t\t{title: \"UID\", field: \"UID\", headerFilter: true},\n\t\t\t\t{title: \"Person ID\", field: \"PersonId\", headerFilter: true},\n\t\t\t\t{title: \"Vorname\", field: \"Vorname\", headerFilter: true},\n\t\t\t\t{title: \"Nachname\", field: \"Nachname\", headerFilter: true},\n\t\t\t\t{title: \"EMail\", field: \"EMail\", headerFilter: true},\n\t\t\t\t{title: \"Unternehmen\", field: \"Unternehmen\", headerFilter: \"list\", headerFilterFunc:\"=\", headerFilterParams: {valuesLookup:true, autocomplete: true, sort: \"asc\"}},\n\t\t\t\t{title: \"Vertragsart\", field: \"Vertragsart\", headerFilter: false},\n\t\t\t\t{title: \"DV_von\", field: \"DV_von\", headerFilter: true},\n\t\t\t\t{title: \"DV_bis\", field: \"DV_bis\", headerFilter: true},\n\t\t\t\t{title: \"Wochenstunden\", field: \"Wochenstunden\", headerFilter: true},\n\t\t\t\t{title: \"WS_von\", field: \"WS_von\", headerFilter: true},\n\t\t\t\t{title: \"WS_bis\", field: \"WS_bis\", headerFilter: true},\n\t\t\t\t{title: \"Standardkostenstelle\", field: \"Standardkostenstelle\", headerFilter: \"list\", headerFilterFunc:\"=\", headerFilterParams: {valuesLookup:true, autocomplete: true, sort: \"asc\"}}, \n\t\t\t\t{title: \"Disziplinäre Zuordnung\", field: \"Disziplinäre Zuordnung\", headerFilter: \"list\", headerFilterFunc:\"=\", headerFilterParams: {valuesLookup:true, autocomplete: true, sort: \"asc\"}},\n\t\t\t\t{title: \"Dienstverhaeltnis ID\", field: \"DienstverhaeltnisId\", headerFilter: true},\n                {title: \"DV_status\", field: \"DV_status\", headerFilter: \"list\", headerFilterFunc:\"=\", headerFilterParams: {valuesLookup:true, autocomplete: true, sort: \"asc\"}},\n\t\t\t]\n\t\t};\n                return employeesTabulatorOptions;\n            }\n        },\n        template: `\n\t\t<!-- Navigation component -->\n\t\t<core-navigation-cmpt></core-navigation-cmpt>\n\n\t\t<div id=\"content\">\n\t\t\t<core-verticalsplit-cmpt ref=\"vsplit\">\n                            <template #top>\n                                <div class=\"d-flex flex-column\" style=\"height: 100%;\">\n                                    <!-- Filter component -->\n                                    <core-filter-cmpt\n                                        filter-type=\"Handyverwaltung\"\n                                        :sideMenu=\"false\"\n                                        :tabulator-options=\"employeesTabulatorOptions\"\n                                        :tabulator-events=\"employeesTabulatorEvents\"\n                                        :new-btn-show=\"false\">\n                                    </core-filter-cmpt>\n                                </div>\n                            </template>\n    \n                            <template #bottom>\n\n                                <EmployeeHeader v-if=\"personid!=null\" ref=\"employeeHeaderRef\"  :personID=\"personid\" :personUID=\"personuid\" restricted ></EmployeeHeader> \n\n                                <EmployeeContractInfo v-if=\"personid!=null\" ref=\"contractInfoRef\"  :personID=\"personid\" :personUID=\"personuid\" />\n\n                                <div v-if=\"personid!=null\">\n                                    <JobFunction :readonlyMode=\"true\" :personID=\"personid\" :personUID=\"personuid\"></JobFunction>\n                                </div>\n\n                                <div class=\"row pt-md-4\" v-if=\"personid!=null\">      \n                                     <div class=\"col\">\n                                         <div class=\"card\">\n                                            <div class=\"card-header\">\n                                                <div class=\"h5 mb-0\"><h5>{{ $p.t('global', 'kontakt') }}</h5></div>\n                                            </div>\n                                            <div class=\"card-body\">\n                                                <email-tel-data :personID=\"personid\"></email-tel-data>\n                                            </div>\n                                         </div>\n                                     </div>\n                                </div>                                \n    \n                                <div class=\"row pt-md-4\" v-if=\"personid!=null\">      \n                                     <div class=\"col\">\n                                         <div class=\"card\">\n                                            <div class=\"card-header\">\n                                                <div class=\"h5 mb-0\"><h5>{{ $p.t('ui', 'betriebsmittel') }}</h5></div>        \n                                            </div>\n                                            <div class=\"card-body\">\n                                                <Betriebsmittel :endpoint=\"betriebsmittelpersonapi\" type-id=\"person_id\" :id=\"personid\" :uid=\"personuid\" />\n                                            </div>\n                                         </div>\n                                     </div>\n                                </div>\n    \n                            </template>\n                        </core-verticalsplit-cmpt>\n\t\t</div>    \n`\n});\n\nhandyVerwaltungApp.use(primevue.config.default);\n//handyVerwaltungApp.use(OldFhcApi, {factory: pv21apifactory});\nhandyVerwaltungApp.use(Phrasen);\nhandyVerwaltungApp.mount('#main');\nhandyVerwaltungApp.provide(\"cisRoot\", CIS_ROOT);\n\n\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getSprache()).then((r) => {\n    sprache.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getNations()).then((r) => {\n    nations.value = r.data\n})\n\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getAusbildung()).then((r) => {\n    ausbildung.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getOrte()).then((r) => {\n    orte.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getStandorteIntern()).then((r) => {\n    standorte.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getKontakttyp()).then((r) => {\n    kontakttyp.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getAdressentyp()).then((r) => {\n    adressentyp.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getSachaufwandTyp()).then((r) => {\n    sachaufwandtyp.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getKarenztypen()).then((r) => {\n    karenztypen.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getTeilzeittypen()).then((r) => {\n    teilzeittypen.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getVertragsarten()).then((r) => {\n    vertragsarten.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getGehaltstypen()).then((r) => {\n    gehaltstypen.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getVertragsbestandteiltypen()).then((r) => {\n    vertragsbestandteiltypen.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getFreitexttypen()).then((r) => {\n    freitexttypen.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiCommon.getStundensatztypen()).then((r) => {\n    hourlyratetypes.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiDV.getUnternehmen()).then((r) => {\n    unternehmen.value = r.data\n})\nhandyVerwaltungApp.config.globalProperties.$api.call(ApiDV.getDvEndeGruende()).then((r) => {\n    beendigungsgruende.value = r.data\n}) \n\n","export default {\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: String\n\t},\n\tcomputed: {\n\t\tvalueAsBase64DataString() {\n\t\t\tif (!this.modelValue || this.modelValue.substring(0, 10) == 'data:image')\n\t\t\t\treturn this.modelValue;\n\t\t\treturn 'data:image/jpeg;charset=utf-8;base64,' + this.modelValue;\n\t\t}\n\t},\n\tmethods: {\n\t\topenUploadDialog() {\n\t\t\tthis.$refs.fileInput.click();\n\t\t},\n\t\tpickFile() {\n\t\t\tlet file = this.$refs.fileInput.files;\n\t\t\tif (file && file[0]) {\n\t\t\t\tlet reader = new FileReader();\n\t\t\t\treader.onload = e => {\n\t\t\t\t\tthis.$emit('update:modelValue', e.target.result);\n\t\t\t\t}\n\t\t\t\treader.readAsDataURL(file[0]);\n\t\t\t}\n\t\t},\n\t\tdeleteImage() {\n\t\t\tthis.$emit('update:modelValue', '');\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-image\">\n\t\t<template v-if=\"modelValue\">\n\t\t\t<img class=\"img-thumbnail\" :src=\"valueAsBase64DataString\" />\n\t\t\t<div class=\"fotobutton\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"deleteImage\">\n\t\t\t\t\t\t<i class=\"fa fa-close\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<slot>\n\t\t\t\t<svg class=\"bd-placeholder-img img-thumbnail\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width=\"100%\" height=\"100%\" fill=\"#868e96\"></rect><text x=\"50%\" y=\"50%\" fill=\"#dee2e6\" dy=\".3em\"></text></svg>\n\t\t\t</slot>\n\t\t\t<div class=\"fotobutton-visible\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<input :id=\"$attrs.id\" class=\"d-none\" type=\"file\" ref=\"fileInput\" @input=\"pickFile\" accept=\"image/*\">\n\t</div>`\n}","import DmsItem from './Dms/Item.js';\n\nexport default {\n\tcomponents: {\n\t\tDmsItem\n\t},\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [ FileList, Array ],\n\t\t\trequired: true\n\t\t},\n\t\tmultiple: Boolean,\n\t\tid: String,\n\t\tname: String,\n\t\tinputClass: [String, Array, Object],\n\t\tnoList: Boolean,\n\t\taccept: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tmethods: {\n\t\tstringifyFile(file) {\n\t\t\treturn JSON.stringify({\n\t\t\t\tlastModified: file.lastModified,\n\t\t\t\tlastModifiedDate: file.lastModifiedDate,\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.type\n\t\t\t});\n\t\t},\n\t\taddFiles(event) {\n\t\t\tif (!this.multiple)\n\t\t\t\treturn this.$emit('update:modelValue', event.target.files);\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst doubles = [];\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tdt.items.add(file);\n\t\t\t\tdoubles.push(this.stringifyFile(file));\n\t\t\t}\n\t\t\tfor (var file of event.target.files) {\n\t\t\t\t// NOTE(chris): deep check (with FileReader) would require an async function so we only check the basic attributes\n\t\t\t\tif (doubles.indexOf(this.stringifyFile(file)) < 0)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t},\n\t\tremoveFile(id) {\n\t\t\tconst fileToRemove = Array.from(this.modelValue)[id];\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tif (file !== fileToRemove)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (!n)\n\t\t\t\treturn;\n\t\t\tif (n instanceof FileList) {\n\t\t\t\tif (!this.$refs.upload) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn this.$refs.upload.files = n;\n\t\t\t}\n\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst dms = [];\n\t\t\tfor (var file of n) {\n\t\t\t\tif (file instanceof File) {\n\t\t\t\t\tdt.items.add(file);\n\t\t\t\t} else {\n\t\t\t\t\tconst dmsFile = new File([JSON.stringify(file)], file.name, {\n\t\t\t\t\t\ttype: 'application/x.fhc-dms+json'\n\t\t\t\t\t});\n\t\t\t\t\tdt.items.add(dmsFile);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-dms\">\n\t\t<input ref=\"upload\" class=\"form-control\" :disabled=\"disabled\" :accept=\"accept\" :aria-label=\"$p.t('profilUpdate','documentUpload')\" :title=\"$p.t('profilUpdate','documentUpload')\" :class=\"inputClass\" :id=\"id\" :name=\"name\" :multiple=\"multiple\" type=\"file\" @change=\"addFiles\">\n\t\t<ul v-if=\"modelValue.length && multiple && !noList\" :accept=\"accept\" class=\"list-unstyled m-0\">\n\t\t\t<dms-item\n\t\t\t\tv-for=\"(file, index) in modelValue\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tv-model=\"file\"\n\t\t\t\tclass=\"d-flex mx-1 mt-1 align-items-start\"\n\t\t\t\t@delete=\"removeFile(index)\"\n\t\t\t\t>\n\t\t\t</dms-item>\n\t\t</ul>\n\t</div>`\n}","export default {\n\temits: [\n\t\t'delete'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [File, Object],\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpreview: ''\n\t\t};\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (n.type == 'application/x.fhc-dms+json') {\n\t\t\t\tn.text().then(result => {\n\t\t\t\t\tconst obj = JSON.parse(result);\n\t\t\t\t\tthis.preview = obj.preview || '';\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<li class=\"form-upload-dms-item\">\n\t\t<span class=\"col-auto\"><i class=\"fa fa-file me-1\"></i></span>\n\t\t<span class=\"col\">{{ modelValue.name }}</span>\n\t\t<a v-if=\"preview\" :href=\"preview\" target=\"_blank\" class=\"col-auto btn btn-outline-secondary btn-p-0 me-1\">\n\t\t\t<i class=\"fa fa-download\"></i>\n\t\t</a>\n\t\t<button class=\"col-auto btn btn-outline-secondary btn-p-0\" @click=\"$emit('delete')\">\n\t\t\t<i class=\"fa fa-close\"></i>\n\t\t</button>\n\t</li>`\n}\n"],"names":["checkperson","updatePersonUnrulyStatus","person_id","unrulyParam","payload","unruly","url","this","$fhcApi","post","error","filterPerson","base","axios","ApiCommon","getGemeinden","plz","method","params","getOrtschaften","getContractExpire","year","month","getContractNew","getBirthdays","date","getCovidState","d","getAllCourseHours","uid","getAllSupportHours","getNations","getSachaufwandTyp","getKontakttyp","getAdressentyp","getSprache","getAusbildung","getStandorteIntern","getOrte","getKarenztypen","getGehaltstypen","getVertragsarten","getVertragsbestandteiltypen","getTeilzeittypen","getFreitexttypen","getStundensatztypen","ApiDV","getUnternehmen","getDVByID","dvid","endDV","deactivateDV","getDvEndeGruende","CoreFetchCmpt","emits","props","refresh","type","Boolean","apiFunction","required","Function","apiFunctionParameters","watch","newValue","oldValue","fetchData","data","loading","errorMessage","created","methods","apiFunctionResult","Promise","then","successHandler","catch","errorHandler","finally","finallyHandler","setError","response","$emit","undefined","retval","message","template","FILTER_COMPONENT_NEW_FILTER","FilterConfig","filters","Array","default","columns","fields","switchFilter","applyFilterConfig","saveCustomFilter","currentFields","computed","types","reduce","a","c","toLowerCase","indexOf","name","n","evt","currentTarget","value","filteredFields","filter","el","condition","length","alert","addField","push","removeField","index","splice","FilterColumns","selected","names","Object","hide","show","selectedFields","toggle","field","DEFAULT_ICONS","jsonLines","xlsx","pdf","html","json","csv","DEFAULT_LABELS","TableDownload","tabulator","config","String","iconClass","currentConfig","prototype","toString","call","split","isArray","newConfig","k","v","stringToFileFormatter","icon","label","formatter","map","validateFileFormatter","input","lcInput","includes","window","XLSX","jspdf","jsPDF","autoTable","download","file","options","elementDataMap","WeakMap","collapseAutoClose","mounted","binding","open","set","contains","target","collapse","bootstrap","Collapse","getInstance","addEventListener","document","get","beforeUnmount","removeEventListener","collapsibleAutoHideFunc","Tabulator","extendModule","fitDataStretchFrozen","forced","colsWidth","tableWidth","table","rowManager","element","clientWidth","gap","lastCol","forEach","column","i","widthFixed","reinitializeWidth","responsiveLayout","modules","responsive","visible","definition","frozen","getWidth","modExists","setWidth","update","ApiFilter","wsParams","filterUniqueId","filterType","customFilterName","removeCustomFilter","filterId","applyFilterFields","filterFields","addFilterField","filterField","removeFilterField","getFilterById","getFilter","_uuid","CoreFilterCmpt","components","directives","onNwNewEntry","title","description","sideMenu","tabulatorOptions","tabulatorEvents","tableOnly","noColumnFilter","reload","reloadBtnInfotext","newBtnShow","newBtnClass","newBtnDisabled","newBtnLabel","uniqueId","idField","parentIdField","countOnly","useSelectionSpan","uuid","filterName","filterActive","dataset","datasetMetadata","availableFilters","selectedFilter","fetchCmptRefresh","fetchCmptApiFunction","fetchCmptApiFunctionParams","fetchCmptDataFetched","fetchResult","tableBuilt","tabulatorHasSelector","selectedData","persistence","sort","headerFilter","group","page","notSelectedFields","x","filteredData","JSON","parse","stringify","filteredColumns","hasOwnProperty","col","resizable","fieldIdsForVisibilty","getColumns","def","getDefinition","getField","fieldNames","res","idExtra","columnsForFilter","filterTitles","reloadTable","setData","initTabulator","placeholder","$p","loadCategory","t","resolve","location","hash","slice","resolvePromiseFunc","setRenderData","startFetchCmpt","$api","layout","movableColumns","columnDefaults","tooltip","height","minHeight","maxHeight","selectable","dataTree","$refs","on","event","handler","toDelete","childIdx","child","appendChild","counter","cols","isVisible","_setHeaderFilter","updateTabulator","_updateTabulator","setColumns","clearFilters","getHeaderFilters","setHeaderFilterValue","clearFilter","render","j","setSideMenu","setDropDownMenu","personalFilters","filtersArray","filtersCount","link","id","filter_id","desc","onClickCall","handlerGetFilterById","subscriptDescription","subscriptLinkClass","subscriptLinkValue","onClickSubscriptCall","handlerRemoveCustomFilter","children","option","dataFetchedCallback","FHC_JS_DATA_STORAGE_OBJECT","called_path","called_method","handlerSaveCustomFilter","getAttribute","substring","attr","parentId","parentIdx","parent","_children","beforeCreate","$props","ApiNavigation","getHeader","navigation_page","getMenu","CoreNavigationCmpt","addHeaderMenuEntries","addSideMenuEntries","hideTopMenu","leftNavCssClasses","headerMenu","headerMenuEntries","hm","keys","sideMenuEntries","sm","getNavigationPage","fetchCmptApiFunctionHeader","fetchCmptApiFunctionSideMenu","fetchCmptDataFetchedHeader","fetchCmptDataFetchedMenu","getDataBsToggle","header","CoreVerticalsplitCmpt","availHeight","topheight","bottomheight","mousePosY","resize","vsplitter","vsplitterOffset","selfOffsetTop","calcHeights","trackVerticalSplitterOffsetTop","updated","windowheight","innerHeight","oldavailHeight","verticalsplit","offsetTop","offsetHeight","Math","floor","collapseTop","collapseBottom","showBoth","isCollapsed","dragStart","e","preventDefault","stopPropagation","dragEnd","drag","clientY","offsetY","topOrBottomClass","topheightcss","bottomheightcss","Modal","noscroll","expose","setup","emit","thisModalObj","modalEle","Vue","ref","onMounted","categories","loadingModules","extractCategory","obj","category","elem","phrase","text","reloadRefs","pop","getValueForLoadedPhrase","triggerRef","result","replace","match","p1","phrasen","t_ref","console","initialval","FHC_JS_PHRASES_STORAGE_OBJECT","tmp_category","val","app_root","ci_router","err","loadLazy","unref","usePhrasen","ModalDialog","_resolve","modalConfirmEle","async","reject","ok","cancel","ApiPerson","searchVal","personBaseData","updatePersonBaseData","personEmployeeData","updatePersonEmployeeData","personEmployeeKurzbzExists","kurzbz","deletePersonBankData","bankverbindung_id","upsertPersonBankData","personBankData","personAddressData","deletePersonAddressData","adresse_id","upsertPersonAddressData","personContactData","deletePersonContactData","kontakt_id","upsertPersonContactData","uidByPerson","person_uid","personMaterialExpenses","deletePersonMaterialExpenses","sachaufwand_id","upsertPersonMaterialExpenses","deletePersonJobFunction","benutzerfunktion_id","upsertPersonJobFunction","updatePersonUnruly","EmailTelData","personID","Number","writePermission","inject","$fhcAlert","toRefs","contactList","isFetching","currentContact","confirmDeleteRef","kontakttyp","readonly","currentValue","log","contactListArray","values","modalRef","hideModal","contactDataFrm","frmState","reactive","kontaktBlured","wasValidated","validKontakt","trim","validate","kontakt","showToast","alertSuccess","showDeleteToast","showEditModal","showAddModal","anmerkung","zustellung","updateamum","updatevon","insertamum","insertvon","ext_id","standort_id","showDeleteModal","confirm","acceptLabel","acceptClass","meta","status","okHandler","r","find","item","BetriebsmittelPersonApi","getAllBetriebsmittel","betriebsmitteltypes","addNewBetriebsmittel","loadBetriebsmittel","betriebsmittelperson_id","updateBetriebsmittel","deleteBetriebsmittel","getTypenBetriebsmittel","loadInventarliste","query","BsModal","modal","fullscreen","backdrop","validator","focus","keyboard","noCloseBtn","dialogClass","headerClass","bodyClass","footerClass","allowFullscreenExpand","dispose","handleUpdate","relatedTarget","toggleFullscreen","popup","body","footer","slots","includedPrimevue","primevue","instance","createApp","h","class","unmount","unmounted","wrapper","parentElement","removeChild","createElement","use","zIndex","overlay","Phrasen$1","Phrasen","mount","FhcFragment","$slots","Betriebsmittel","CoreForm","provide","$registerToForm","component","inputs","$clearValidationForName","clearValidationForName","tag","sortedInputs","lcType","substr","lastIndexOf","factory","warn","create","getPrototypeOf","getOwnPropertyDescriptors","_defaultErrorHandlers","args","clearValidation","setFeedback","unshift","overwriteconfig","_sendFeedbackToInput","feedback","valid","remaining","fb","entries","p","join","fromEntries","send","promise","code","handleSystemError","FormInput","inheritAttrs","registerToForm","from","bsFeedback","noAutoClass","noFeedback","inputGroup","containerClass","onInput","modelValueDummy","hasContainer","prop","autoContainerClass","hasOwn","acc","validationClass","classes","$attrs","feedbackClass","modelValueCmp","modelValue","idCmp","clearValidationForThisName","selector","$el","parentNode","querySelectorAll","_loadComponents","_","VueDatePicker","PvAutocomplete","UploadImage","UploadDms","defineAsyncComponent","autocomplete","import","beforeMount","beforeUpdate","cisRoot","endpoint","typeId","betriebsmittelTypes","filterByProvidedTypes","ajaxURL","ajaxRequestFunc","ajaxResponse","width","cell","dateStr","getValue","Date","toLocaleString","day","hour12","minWidth","maxWidth","formatterParams","onRendered","container","className","button","innerHTML","cellData","getData","linkToPdf","append","actionEditBetriebsmittel","actionDeleteBetriebsmittel","layoutColumnsOnNewData","persistenceID","cm","columnManager","getColumnByField","updateDefinition","listBetriebsmitteltyp","formData","ausgegebenam","betriebsmitteltyp","statusNew","filteredInventar","betriebsmittelModal","actionNewBetriebsmittel","resetModal","confirmDelete","handled","scrollTo","betriebsmittel_id","inventarData","betriebsmittelData","searchInventar","encodedQuery","encodeURIComponent","retouram","nummer","nummer2","kaution","beschreibung","ApiOrgViewer","getOrgStructure","oe","getOrgPersonen","getOrgHeads","OrgChooser","customClass","orgList","oeRef","oe_kurzbz","fetchHead","old","orgSelected","ApiFunktion","getContractFunctions","getOrgetsForCompany","unternehmen","getCompanyByOrget","orget","getCurrentFunctions","mitarbeiter_uid","getAllUserFunctions","getAllFunctions","JobFunction","datepicker","readonlyMode","personUID","currentPersonID","currentPersonUID","dialogRef","theModel","jobfunctionList","jobfunctionDefList","orgUnitList","aktivChecked","tableData","route","VueRouter","useRoute","convertArrayToObject","array","key","rawList","createShape","funktion_kurzbz","datum_von","datum_bis","bezeichnung","wochenstunden","preservedValue","unternehmen_kurzbz","fetchOrgUnits","fetchFunctions","dateFormatter","createDomButton","classValue","clickHandler","nodeBtn","classAttrBtn","createAttribute","setAttributeNode","nodeI","classAttrI","btnFormatter","nodeDiv","classAttrDiv","nodeBtnDel","nodeBtnEdit","getRow","dienstverhaeltnis_unternehmen","columnsDef","fullPath","dienstverhaeltnis_id","sorter","headerFilterParams","valuesLookup","hozAlign","headerFilterFunc","customHeaderFilter","headerSort","reactiveData","jobfunctionListArray","headerValue","rowValue","rowData","filterParams","date1","setHours","date2","isFinite","aktiv","getJobFunction","newVal","oldVal","deep","formatDate","showDeletedToast","updateHeader","jobFunctionFrm","beginnBlurred","orgetBlurred","funktionBlurred","notEmpty","hasChanged","some","orgets","benutzerfunktionen","toggleMode","fachbereich_bezeichnung","funktion_oebezeichnung","funktion_beschreibung","unternehmenSelectedHandler","ApiVertragsbestandteil","getCurrentVBs","getCurrentAndFutureVBs","URLSearchParams","getAllVBs","getVB","vbid","ApiEmployee","createEmployee","employeeData","personAbteilung","personHeaderData","dvByPerson","getCurrentDV","ts","deleteDV","dv_id","uploadPersonEmployeeFoto","imagedata","deletePersonEmployeeFoto","getEmployeesWithoutContract","dvInfoByPerson","EmployeeStatus","tags","router","useRouter","dvList","vertragList","currentDate","vertragsarten","karenztypen","teilzeittypen","formatVertragsart","va","kt","formatKarenztyp","karenztyp","formatTeilzeittyp","teilzeittyp","statusList","statusTags","generateStatusList","anzDV","dvIDs","dv","von","bis","vertragsart_kurzbz","css","all","dvID","allData","vbs","vertragsbestandteiltyp_kurzbz","freitexttyp_kurzbz","karenztyp_kurzbz","teilzeittyp_kurzbz","isReady","path","ApiIssue","byPerson","countPersonOpenIssues","checkPerson","openIssuesPersons","EmployeeHeader","skeleton","restricted","employee","fileInput","previewImage","statusRef","isFetchingName","isFetchingIssues","openissuescount","fetchHeaderData","resAbteilung","abteilung","fetchOpenIssuesCount","openissues","resetPreview","showModal","postDeleteFile","pickFile","files","reader","FileReader","onload","readAsDataURL","alertError","postFile","redirect","FHC_JS_CONFIG","getStatusTags","statusArr","ds","toISOString","EmployeeContractInfo","funktion","zuordnung","taetigkeit","zeitaufzeichnung","kuendigungsfrist","stunden","allIn","befristung","urlaubsanspruch","zusatzvereinbarung","karenz","numberFormat","Intl","NumberFormat","getVBStunden","vbList","formatNumber","num","format","parseFloat","getVBKarenz","search","searchsettings","searchAdvanced","searchdummy","phrasen$1","setLanguage","language","getLanguage","getActiveDbLanguages","navigation","filter$1","studstatus","abmeldung","getDetails","antrag_id","prestudent_id","stdsem","grund","studiensemester","errorHandling","allSettled","antrag","studierendenantrag_id","errorHeader","unterbrechung","datum_wiedereinstieg","attachment","wiederholung","getLvs","saveLvs","forbiddenLvs","mandatoryLvs","leitung","getStgs","getAntraege","getHistory","getPrestudents","signal","timeout","approve","reopen","pause","unpause","object","approveObjection","denyObjection","profil","getView","fotoSperre","isStudent","isMitarbeiter","getZustellAdresse","getZustellKontakt","nation","zip","getAllNationen","profilUpdate","getStatus","getTopic","acceptProfilRequest","profil_update_id","status_message","topic","requested_change","denyProfilRequest","insertFile","dms","getProfilRequestFiles","requestID","selectProfilRequest","insertProfilRequest","fileID","updateProfilRequest","ID","deleteProfilRequest","lvPlan","getRoomInfo","ort_kurzbz","start_date","end_date","getStunden","getOrtReservierungen","getLvPlanReservierungen","getLehreinheitStudiensemester","lehreinheit_id","studiensemesterDateInterval","LvPlanEvents","lv_id","stv","verband","favorites","students","studiensemester_kurzbz","getUri","prestudent","person","relative_path","getStg","setStg","studiengang_kz","konto","tabulatorConfig","self","ajaxParams","only_open","studiengang_kz_intern","stg_kz","checkDoubles","form","confirmErrorHandler","insert","edit","delete","buchungsnr","getBuchungstypen","getGruppen","deleteGroup","getAdressen","addNewAddress","loadAddress","address_id","updateAddress","deleteAddress","getPlaces","getFirmen","searchString","getAdressentypen","getBankverbindung","addNewBankverbindung","loadBankverbindung","updateBankverbindung","deleteBankverbindung","getKontakte","addNewContact","loadContact","updateContact","deleteContact","getStandorteByFirma","getKontakttypen","updatePrestudent","getBezeichnungZGV","getBezeichnungMZgv","getBezeichnungDZgv","getAufmerksamdurch","getBerufstaetigkeit","getTypenStg","getBisstandort","getHistoryPrestudent","getMaxSem","studiengang_kzs","advanceStatus","status_kurzbz","ausbildungssemester","confirmStatus","isLastStatus","deleteStatus","getLastBismeldestichtag","getHistoryPrestudents","insertStatus","loadStatus","updateStatus","getStudienplaene","getStudiengang","getStatusgruende","getStati","addStudent","changeStatus","getStatusarray","details","save","exam","getPruefungen","loadPruefung","pruefung_id","getTypenPruefungen","getAllLehreinheiten","getLvsByStudent","getLvsandLesByStudent","semester","getLvsAndMas","getMitarbeiterLv","getNoten","checkZeugnisnoteLv","addPruefung","updatePruefung","deletePruefung","abschlusspruefung","getAbschlusspruefung","addNewAbschlusspruefung","loadAbschlusspruefung","updateAbschlusspruefung","deleteAbschlusspruefung","getTypenAbschlusspruefung","getTypenAntritte","getBeurteilungen","getAkadGrade","getTypStudiengang","getMitarbeiter","getPruefer","checkForExistingExams","uids","grades","list","getCertificate","getTeacherProposal","getRepeaterGrades","updateCertificate","lehrveranstaltung_id","student_uid","note","lehrveranstaltung_bezeichnung","deleteCertificate","copyTeacherProposalToCertificate","copyRepeaterGradeToCertificate","studierendenantrag_lehrveranstaltung_id","lv_bezeichnung","getGradeFromPoints","points","manualErrorHandling","mobility","getMobilitaeten","getProgramsMobility","addNewMobility","loadMobility","bisio_id","updateMobility","deleteMobility","getLVList","getPurposes","getSupports","getListPurposes","getListSupports","deleteMobilityPurpose","addMobilityPurpose","deleteMobilitySupport","addMobilitySupport","archiv","getArchivVorlagen","archive","archiveSigned","akte_id","documents","getDocumentsUnaccepted","getDocumentsAccepted","deleteZuordnung","dokument_kurzbz","createZuordnung","loadAkte","getDoktypen","updateFile","deleteFile","uploadFile","exemptions","getAnrechnungen","getLehrveranstaltungen","getBegruendungen","getLvsKompatibel","getLektoren","addNewAnrechnung","loadAnrechnung","anrechnung_id","editAnrechnung","deleteAnrechnung","jointstudies","getStudies","getTypenMobility","getStudiensemester","getStudyprograms","getListPartner","getStatiPrestudent","loadStudy","insertStudy","updateStudy","deleteStudy","courselist","getCourselist","group_consecutiveHours","dbStundenplanTable","configStudent","configStudents","notiz","getNotizen","getUid","addNewNotiz","loadNotiz","notiz_id","loadDokumente","deleteNotiz","type_id","updateNotiz","isBerechtigt","betriebsmittel","ort","getContentID","ort_kurbz","getRooms","datum","typ","personenanzahl","getRoomTypes","cms","content","content_id","version","sprache","sichtbar","getNews","page_size","news","limit","getNewsRowCount","getNewsExtra","lehre","getStudentenMail","getLvInfo","getStudentPruefungen","getStudentProjektarbeiten","getStudentProjektabgaben","detail","projektarbeit_id","postStudentProjektarbeitEndupload","Headers","postStudentProjektarbeitZwischenabgabe","getStudentProjektarbeitAbgabeFile","paabgabe_id","getMitarbeiterProjektarbeiten","postProjektarbeitAbgabe","termin","paabgabetyp_kurzbz","fixtermin","deleteProjektarbeitAbgabe","postSerientermin","projektarbeit_ids","fetchDeadlines","addons","getLvMenu","lvid","messages","getMessages","size","getVorlagen","getMsgVarsLoggedInUser","getMessageVarsPerson","getMsgVarsPrestudent","getPersonId","getDataVorlage","vorlage_kurzbz","getNameOfDefaultRecipient","getPreviewText","getReplyData","messageId","sendMessageFromModalContext","sendMessage","deleteMessage","vorlagen","getVorlagenByLoggedInUser","studium","getAllStudienSemester","studiengang","studienplan","getStudiengaengeForStudienSemester","getStudienplaeneBySemester","getLvPlanForStudiensemester","getLvEvaluierungInfo","FhcApiFactory","dashboard","getViewData","bookmark","getBookmarks","bookmark_id","ampeln","ampel_id","studiengangInformation","getStudiengangByKz","menu","authinfo","getAuthUID","getAuthInfo","getAll","OldFhcApi","install","app","globalProperties","addEndpoints","_get_config","uri","TypeError","_clean_return_value","fhcApiAxios","baseURL","interceptors","request","FormData","every","FileList","File","newData","nd","jsondata","errors","alertDefault","responseURL","validation","apply","general","php","filename","line","backtrace","function","severity","alertSystemError","exception","db","heading","sql","auth","controller","required_permissions","FhcApiFactoryWrapper","constructor","factorypart","root","defineProperty","noWarn","bind","CORE_REST_CLIENT_ERROR","CORE_REST_CLIENT_RETVAL","CoreRESTClient","wsURL","wsParameters","axiosParameters","_axiosCall","isSuccess","isError","hasData","getError","getErrorCode","_generateRouterURI","_printDebug","parameters","errorThrown","axiosCallObj","helperAppContainer","helperApp","PvToast","PvConfirm","mailToUrl","slotProps","systemerror_mailto","openMessagecard","getOrCreateInstance","showmaillink","PvConfig","PvConfirmationService","helperAppInstance","FhcAlert","FhcPhrasen","toast","add","summary","life","alertInfo","alertWarning","$confirm","require","rejectLabel","rejectClass","accept","sticky","alertMultiple","messageArray","errMsg","toUpperCase","stack","handleSystemMessage","msg","resetFormValidation","Event","dispatchEvent","handleFormValidation","nodeType","Node","ELEMENT_NODE","notFound","querySelector","CustomEvent","arr","PluginsApi","_send_array_or_object","func","errs","DEFAULT_ERROR_CONFIG","success","fail","combine","_format_toast","_default","msgs","b","n_errors","get_config","clean_return_value","_merge_error_config","get_error_handler","formHandler","get_error_list","popHandleableErrors","copy","newType","newTypeCombinesType","newTypeHasHandler","errorConfig","configoverwrite","typedErrors","allowed","reason","errType","getErrorHandler","ApiPhrasen","user_language","user_locale","server_languages","LC_Time","catArray","row","cat","lang","nations","standorte","orte","ausbildung","adressentyp","sachaufwandtyp","vertragsbestandteiltypen","freitexttypen","gehaltstypen","hourlyratetypes","beendigungsgruende","handyVerwaltungApp","personid","personuid","betriebsmittelpersonapi","personselected","PersonId","UID","employeesTabulatorEvents","rows","getElementById","employeesTabulatorOptions","footerElement","CIS_ROOT","Image","valueAsBase64DataString","openUploadDialog","click","deleteImage","Dms","DmsItem","preview","multiple","inputClass","noList","disabled","stringifyFile","lastModified","lastModifiedDate","addFiles","dt","DataTransfer","doubles","items","removeFile","fileToRemove","upload","dmsFile"],"mappings":"kfAAA,IAAAA,EAAe,CACdC,wBAAAA,CAAyBC,EAAWC,GAEnC,IACC,MAAMC,EAAU,CAACF,YAAWG,OAAQF,GAC9BG,EAAM,oEACZ,OAAOC,KAAKC,QAAQC,KAAKH,EAAKF,EAAS,KACxC,CAAE,MAAOM,GACR,MAAMA,CACP,CAED,EACAC,YAAAA,CAAaP,EAASQ,EAAO,IAE5B,IACC,MAAMN,EAAMM,EAAO,wDACnB,OAAOC,MAAMJ,KAAKH,EAAKF,EACxB,CAAE,MAAOM,GACR,MAAMA,CACP,CAED,GCrBDI,EAAe,CACXC,aAAaC,IACF,CACLC,OAAQ,MACRX,IAAK,kFACLY,OAAQ,CAAEF,SAGhBG,eAAeH,IACJ,CACLC,OAAQ,MACRX,IAAK,oFACLY,OAAQ,CAAEF,SAGhBI,kBAAiBA,CAACC,EAAMC,KACb,CACLL,OAAQ,MACRX,IAAK,uFACLY,OAAQ,CAAEG,KAAMA,EAAMC,MAAOA,KAGnCC,eAAcA,CAACF,EAAMC,KACZ,CACLL,OAAQ,MACRX,IAAK,mFACLY,OAAQ,CAAEG,KAAMA,EAAMC,MAAOA,KAGjCE,aAAaC,IACJ,CACLR,OAAQ,MACRX,IAAK,iFACLY,OAAQ,CAAEO,UAGdC,cAAaA,CAACxB,EAAWuB,KAChB,CACLR,OAAQ,MACRX,IAAK,kFACLY,OAAQ,CAAEhB,UAAWA,EAAWyB,EAAGF,KAGvCG,kBAAkBC,IACT,CACLZ,OAAQ,MACRX,IAAK,2FAA2FuB,MAGpGC,mBAAmBD,IACV,CACLZ,OAAQ,MACRX,IAAK,4FAA4FuB,MAIrGE,WAAUA,KACD,CACLd,OAAQ,MACRX,IAAK,iFAGT0B,kBAAiBA,KACR,CACLf,OAAQ,MACRX,IAAK,wFAGT2B,cAAaA,KACJ,CACLhB,OAAQ,MACRX,IAAK,oFAGT4B,eAAcA,KACL,CACLjB,OAAQ,MACRX,IAAK,qFAGT6B,WAAUA,KACD,CACLlB,OAAQ,MACRX,IAAK,iFAGT8B,cAAaA,KACJ,CACLnB,OAAQ,MACRX,IAAK,oFAGT+B,mBAAkBA,KACT,CACLpB,OAAQ,MACRX,IAAK,yFAGTgC,QAAOA,KACE,CACLrB,OAAQ,MACRX,IAAK,8EAGTiC,eAAcA,KACL,CACLtB,OAAQ,MACRX,IAAK,qFAGTkC,gBAAeA,KACN,CACLvB,OAAQ,MACRX,IAAK,sFAGTmC,iBAAgBA,KACP,CACLxB,OAAQ,MACRX,IAAK,uFAIToC,4BAA2BA,KAClB,CACLzB,OAAQ,MACRX,IAAK,kGAGTqC,iBAAgBA,KACP,CACL1B,OAAQ,MACRX,IAAK,uFAGTsC,iBAAgBA,KACP,CACL3B,OAAQ,MACRX,IAAK,uFAGTuC,oBAAmBA,KACV,CACL5B,OAAQ,MACRX,IAAK,2FChJbwC,EAAe,CACbC,eAAcA,KACL,CACL9B,OAAQ,MACRX,IAAK,kFAGTmC,iBAAgBA,KACP,CACLxB,OAAQ,MACRX,IAAK,wFAGT0C,UAAUC,IACD,CACLhC,OAAQ,MACRX,IAAK,wEAA0E2C,IAGnFC,MAAM9C,IACG,CACLa,OAAQ,OACRX,IAAK,sEACLY,OAAQd,IAGZ+C,aAAa/C,IACJ,CACLa,OAAQ,OACRX,IAAK,6EACLY,OAAQd,IAGZgD,iBAAgBA,KACP,CACLnC,OAAQ,MACRX,IAAK,oFChBJ,MAAM+C,EAAgB,CAC5BC,MAAO,CAAC,eACRC,MAAO,CACNC,QAAS,CACRC,KAAMC,SAEPC,YAAa,CACZC,UAAU,EACVH,KAAMI,UAEPC,sBAAuB,CAAA,GAExBC,MAAO,CAINP,QAAS,SAAUQ,EAAUC,GAC5B1D,KAAK2D,WACN,GAEDC,KAAM,WACL,MAAO,CACNC,SAAS,EACT1D,OAAO,EACP2D,aAAc,KAEhB,EACAC,QAAS,WACR/D,KAAK2D,WACN,EACAK,QAAS,CAIRL,UAAW,WAMV,GALA3D,KAAK6D,SAAU,EACf7D,KAAKG,OAAQ,EACbH,KAAK8D,aAAe,KAGW,mBAApB9D,KAAKoD,YAChB,CAEQ,IAAIa,EAAoBjE,KAAKoD,YAAYpD,KAAKuD,uBAGjDU,aAA6BC,QAEhCD,EACEE,KAAKnE,KAAKoE,gBACVC,MAAMrE,KAAKsE,cACXC,QAAQvE,KAAKwE,gBAIfxE,KAAKyE,SAAS,mDAEhB,MAGCzE,KAAKyE,SAAS,yCAEhB,EAIAA,SAAU,SAASX,GAClB9D,KAAK6D,SAAU,EACf7D,KAAKG,OAAQ,EACbH,KAAK8D,aAAeA,CACrB,EAIAM,eAAgB,SAASM,GACxB1E,KAAK2E,MAAM,cAAeD,EAAWA,EAASd,UAAOgB,EACtD,EAIAN,aAAc,SAASnE,GAClBA,EAAMuE,UAAUd,MAAMiB,OACzB7E,KAAKyE,SAAStE,EAAMuE,SAASd,KAAKiB,QAC1B1E,EAAMyD,MAAMkB,QACpB9E,KAAKyE,SAAStE,EAAMyD,KAAKkB,SAEzB9E,KAAKyE,SAAStE,EAAM2E,QACtB,EAIAN,eAAgB,WACfxE,KAAK6D,SAAU,CAChB,GAEDkB,SAAU,0RClGLC,EAA8B,8BAKpC,IAAAC,EAAe,CACdjC,MAAO,CACNkC,QAAS,CACRhC,KAAMiC,MACNC,QAAS,IAEVC,QAAS,CACRnC,KAAMiC,MACNC,QAAS,IAEVE,OAAQ,CACPpC,KAAMiC,MACNC,QAAS,KAGXrC,MAAO,CACNwC,aAAc,CAAC,YACfC,kBAAmB,CAAC,gBACpBC,iBAAkB,CAAC,qBAEpB7B,KAAM,WACL,MAAO,CACN8B,cAAe,GAEjB,EACAC,SAAU,CACTC,KAAAA,GACC,OAAO5F,KAAKqF,QAAQQ,OAAO,CAACC,EAAEC,KAC7B,IAAI7C,EAAO6C,EAAE7C,KAAK8C,cAgBlB,OAfI9C,EAAK+C,QAAQ,QAAU,EAC1BH,EAAEC,EAAEG,MAAQ,UAEZhD,EAAK+C,QAAQ,YAAc,GAC3B/C,EAAK+C,QAAQ,SAAW,GACxB/C,EAAK+C,QAAQ,WAAa,EAE1BH,EAAEC,EAAEG,MAAQ,OAEZhD,EAAK+C,QAAQ,cAAgB,GAC7B/C,EAAK+C,QAAQ,SAAW,EAExBH,EAAEC,EAAEG,MAAQ,OAEZJ,EAAEC,EAAEG,MAAQ,GACNJ,GACL,CAAA,EACJ,GAEDtC,MAAO,CACN8B,MAAAA,CAAOa,GACNnG,KAAK0F,cAAgBS,CACtB,GAEDnC,QAAS,CACRuB,YAAAA,CAAaa,GACZpG,KAAK2E,MAAM,eAAgByB,EAAIC,cAAcC,MAC9C,EACAd,iBAAAA,GACC,MAAMe,EAAiBvG,KAAK0F,cAAcc,OAAOC,GAAMA,EAAGP,MAAQlB,GAC9DuB,EAAeC,OAAOC,GAAsB,IAAhBA,EAAGC,WAAiBC,OACnDC,MAAM,sCAEN5G,KAAK2E,MAAM,oBAAqB4B,EAClC,EACAM,QAAAA,CAAST,GACRpG,KAAK0F,cAAcoB,KAAK,CACvBZ,KAAMlB,GAER,EACA+B,WAAAA,CAAYC,GACXhH,KAAK0F,cAAcuB,OAAOD,EAAO,EAClC,GAEDjC,SAAU,+zJC3EXmC,EAAe,CACdlE,MAAO,CACNsC,OAAQH,MACRgC,SAAU,CACTjE,KAAMiC,MACNC,QAAS,IAEVgC,MAAO,CACNlE,KAAMmE,OACNjC,QAAS,CAAA,IAGXrC,MAAO,CACNuE,KAAM,CAAC,aACPC,KAAM,CAAC,cAER3D,KAAM,WACL,MAAO,CACN4D,eAAgB,GAElB,EACAhE,MAAO,CACN2D,QAAAA,CAAShB,GACRnG,KAAKwH,eAAiBrB,CACvB,GAEDnC,QAAS,CACRyD,MAAAA,CAAOC,IACoC,GAAtC1H,KAAKwH,eAAevB,QAAQyB,IAE/B1H,KAAKwH,eAAeP,OAAOjH,KAAKwH,eAAevB,QAAQyB,GAAQ,GAC/D1H,KAAK2E,MAAM,OAAQ+C,KAInB1H,KAAKwH,eAAeV,KAAKY,GACzB1H,KAAK2E,MAAM,OAAQ+C,GAErB,GAED3C,SAAU,meC3CX,MAAM4C,EAAgB,CACrBC,UAAW,gBACXC,KAAM,gBACNC,IAAK,cACLC,KAAM,eACNC,KAAM,UACNC,IAAK,eAEAC,EAAiB,CACtBN,UAAW,wBACXC,KAAM,mBACNC,IAAK,kBACLC,KAAM,mBACNC,KAAM,mBACNC,IAAK,oBAON,IAAAE,EAAe,CACdnF,MAAO,CACNoF,UAAWf,OACXgB,OAAQ,CACPnF,KAAM,CAACC,QAASmF,OAAQhF,SAAU6B,MAAOkC,QACzCjC,SAAS,GAEVmD,UAAW,CAACD,OAAQnD,MAAOkC,SAE5B1B,SAAU,CACT6C,aAAAA,GACC,IAAKxI,KAAKqI,OACT,OAAO,EAER,IAAIA,EAASrI,KAAKqI,OAElB,GAAIA,aAAkB/E,SACrB,MAAO,CAAC+E,GAET,GAAe,OAAXA,EACH,MAAO,GAQR,IANoB,IAAhBrI,KAAKqI,SACRA,EAAS,CAAC,QAEoC,oBAA3ChB,OAAOoB,UAAUC,SAASC,KAAKN,KAClCA,EAASA,EAAOO,MAAM,MAED,iBAAXP,IAAwBlD,MAAM0D,QAAQR,GAAS,CACzD,IAAIS,EAAY,GAChB,IAAK,IAAIC,KAAKV,EAAQ,CACrB,IAAmBnF,EAAf8F,EAAIX,EAAOU,GAEVC,IAGqC,oBAAtC3B,OAAOoB,UAAUC,SAASC,KAAKK,GAErB,QADb9F,EAAOlD,KAAKiJ,sBAAsBD,IAEjCF,EAAUhC,KAAK,CACdoC,KAAM,YAAcvB,EAAczE,GAClCiG,MAAOH,IAAMD,EAAIb,EAAehF,GAAQ6F,EACxCK,UAAWlG,IAIA,QADZA,EAAOlD,KAAKiJ,sBAAsBF,IAEjCD,EAAUhC,KAAK,CACdoC,KAAM,YAAcvB,EAAczE,GAClCiG,MAAOH,EACPI,UAAWlG,IAGZ0D,MAAM,WAAamC,EAAI,QAAUC,EAAI,sCAGhB,iBAANA,GAAmB7D,MAAM0D,QAAQG,GAiBrC,QADb9F,EAAOlD,KAAKiJ,sBAAsBF,IAEjCD,EAAUhC,KAAK,CACdoC,KAAM,YAAcvB,EAAczE,GAClCiG,MAAOjB,EAAehF,GACtBkG,UAAWlG,IAGZ0D,MAAMmC,EAAI,0CAtBE,QADb7F,EAAOlD,KAAKiJ,sBAAsBF,UAEbnE,IAAhBoE,EAAEI,YACLJ,EAAEI,UAAYlG,QACC0B,IAAZoE,EAAEG,QACLH,EAAEG,MAAQjB,EAAehF,SACX0B,IAAXoE,EAAEE,OACLF,EAAEE,KAAOvB,EAAczE,IACxB4F,EAAUhC,KAAKkC,UAECpE,IAAZoE,EAAEG,QACLH,EAAEG,MAAQJ,GACXD,EAAUhC,KAAKkC,IAclB,CACAX,EAASS,CACV,CAEA,GAAI3D,MAAM0D,QAAQR,GAClB,CA4BC,GA3BAA,EAASA,EAAOgB,IAAI5C,IACnB,GAA2C,oBAAvCY,OAAOoB,UAAUC,SAASC,KAAKlC,GAA2B,CAC7D,IAAI2C,EAAYpJ,KAAKiJ,sBAAsBxC,GAC3C,OAAkB,OAAd2C,EACI,KACD,CACNF,KAAM,YAAcvB,EAAcyB,GAClCD,MAAOjB,EAAekB,GACtBA,YAEF,CAEA,GAAI3C,aAAcnD,SACjB,MAAO,CACN8F,UAAW3C,GAGb,GAAkB,iBAAPA,IAAoBtB,MAAM0D,QAAQpC,IAAc,OAAPA,EAAa,CAChE,GAAIA,EAAG2C,qBAAqB9F,SAC3B,OAAOmD,EACR,GAAIzG,KAAKsJ,sBAAsB7C,EAAG2C,WACjC,OAAO3C,CACT,CAEA,OAAO,OACLD,OAAOC,GAAa,OAAPA,GAEZ4B,EAAO1B,OAAS,EACnB,OAAO0B,EAER,GAAIA,EAAO7B,OAAOC,GAAMA,EAAG0C,OAAS1C,EAAGyC,MAAMvC,QAAU0B,EAAO1B,OAC7D,OAAO0B,EAERzB,MAAM,mBACP,CAEA,MAAO,EACR,GAED5C,QAAS,CACRiF,qBAAAA,CAAsBM,GACrB,IAAIC,EAAUD,EAAMvD,cAEpB,MAAe,aAAXwD,EACI,YAEJ,CAAC,OAAQ,MAAO,OAAQ,OAAQ,OAAOC,SAASD,GAC5CA,EAED,IACR,EACAF,qBAAAA,CAAsBC,GACrB,IAAIH,EAAYpJ,KAAKiJ,sBAAsBM,GAC3C,IAAKH,EAEJ,OADAxC,MAAM2C,EAAQ,uCACP,EAER,GAAiB,QAAbH,IACEM,OAAOC,KAEX,OADA/C,MAAM,4BACC,EAGT,GAAiB,OAAbwC,EAAoB,CACvB,IAAKM,OAAOE,MAEX,OADAhD,MAAM,6BACC,EAGR,IADU,IAAIgD,MAAMC,MAAM,CAAA,GACjBC,UAER,OADAlD,MAAM,sCACC,CAET,CACA,OAAO,CACR,EACAmD,QAAAA,CAAS1B,GACRrI,KAAKoI,UAAU2B,SAAS1B,EAAOe,UAAWf,EAAO2B,KAAM3B,EAAO4B,QAC/D,GAEDlF,SAAU,4pCC/MX,MAAMmF,EAAiB,IAAIC,QAE3B,IAAAC,EAAe,CACdC,OAAAA,CAAQ5D,EAAI6D,GACX,IAAIC,GAAO,EACXL,EAAeM,IAAI/D,EAAIL,IACtB,IAAKmE,EACJ,OAED,GAAI9D,EAAGgE,SAASrE,EAAIsE,QACnB,OAED,MAAMC,EAAWC,UAAUC,SAASC,YAAYrE,GAC5CkE,GACHA,EAASrD,SAEXb,EAAGsE,iBAAiB,oBAAqB,KACxCR,GAAO,IAER9D,EAAGsE,iBAAiB,mBAAoB,KACvCR,GAAO,IAERS,SAASD,iBAAiB,QAASb,EAAee,IAAIxE,IAAK,EAC5D,EACAyE,aAAAA,CAAczE,EAAI6D,GACjBU,SAASG,oBAAoB,QAASjB,EAAee,IAAIxE,WAClDA,EAAG2E,uBACX,GClBc1B,OAAO2B,WAAWC,aAAa,SAAU,QAAS,CAChEC,oBAAAA,CAAqBlG,EAASmG,GAC7B,IAAIC,EAAY,EAChBC,EAAa1L,KAAK2L,MAAMC,WAAWC,QAAQC,YAC3CC,EAAM,EACNC,GAAU,EAEV3G,EAAQ4G,QAAQ,CAACC,EAAQC,KACnBD,EAAOE,YACXF,EAAOG,qBAGJrM,KAAK2L,MAAM1B,QAAQqC,iBAAmBJ,EAAOK,QAAQC,WAAWC,QAAUP,EAAOO,UAAYP,EAAOQ,WAAWC,UAClHX,EAAUE,GAGPA,EAAOO,UACVhB,GAAaS,EAAOU,cAIlBZ,GACHD,EAAML,EAAaD,EAAYO,EAAQY,WAEnC5M,KAAK2L,MAAM1B,QAAQqC,kBAAoBtM,KAAK2L,MAAMkB,UAAU,oBAAoB,KACnFb,EAAQc,SAAS,GACjB9M,KAAK2L,MAAMY,QAAQD,iBAAiBS,UAGjChB,EAAM,EACTC,EAAQc,SAASf,GAEjBC,EAAQK,qBAGLrM,KAAK2L,MAAM1B,QAAQqC,kBAAoBtM,KAAK2L,MAAMkB,UAAU,oBAAoB,IACnF7M,KAAK2L,MAAMY,QAAQD,iBAAiBS,QAGvC,IC/BD,IAAAC,EAAe,CACdvH,iBAAiBwH,IACT,CACNvM,OAAQ,OACRX,IAAK,2CACLY,OAAQ,CACPuM,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBC,iBAAkBH,EAASG,oBAI9BC,mBAAmBJ,IACX,CACNvM,OAAQ,OACRX,IAAK,6CACLY,OAAQ,CACPuM,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBG,SAAUL,EAASK,YAItBC,kBAAkBN,IACV,CACNvM,OAAQ,OACRX,IAAK,4CACLY,OAAQ,CACPuM,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBK,aAAcP,EAASO,gBAI1BC,eAAeR,IACP,CACNvM,OAAQ,OACRX,IAAK,yCACLY,OAAQ,CACPuM,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBO,YAAaT,EAASS,eAIzBC,kBAAkBV,IACV,CACNvM,OAAQ,OACRX,IAAK,4CACLY,OAAQ,CACPuM,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBO,YAAaT,EAASS,eAIzBE,cAAcX,IACN,CACNvM,OAAQ,MACRX,IAAK,oCACLY,OAAQ,CACPuM,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBG,SAAUL,EAASK,YAItBO,UAAUZ,IACF,CACNvM,OAAQ,MACRX,IAAK,oCACLY,OAAQ,CACPuM,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,eC3DrBW,EAAQ,EAKL,MAAMC,EAAiB,CAC7BC,WAAY,CACXlL,gBACAmC,eACAiC,gBACAiB,iBAED8F,WAAY,CACX7D,qBAEDrH,MAAO,CACN,aACA,YACA,aACA,eAEDC,MAAO,CACNkL,aAAc5K,SACd6K,MAAO7F,OACP8F,YAAa9F,OACb+F,SAAU,CACTnL,KAAMC,QACNiC,SAAS,GAEV+H,WAAY,CACXjK,KAAMoF,QAEPgG,iBAAkBjH,OAClBkH,gBAAiBpJ,MACjBqJ,UAAWrL,QACXsL,eAAetL,QACfuL,OAAQvL,QACRwL,kBAAmBrG,OACnByB,SAAU,CACT7G,KAAM,CAACC,QAASmF,OAAQhF,SAAU6B,MAAOkC,QACzCjC,SAAS,GAEVwJ,WAAYzL,QACZ0L,YAAa,CAACvG,OAAQnD,MAAOkC,QAC7ByH,eAAgB3L,QAChB4L,YAAazG,OACb0G,SAAU1G,OAEV2G,QAAS3G,OACT4G,cAAe5G,OACf6G,UAAWhM,QACXiM,iBAAkB,CACjBlM,KAAMC,QACNiC,SAAS,IAGXxB,KAAM,WACL,MAAO,CACNyL,KAAM,EAENC,WAAY,KACZC,cAAc,EACdjK,OAAQ,KACRkK,QAAS,KACTC,gBAAiB,KACjBjI,eAAgB,KAChBgG,aAAc,KAEdkC,iBAAkB,KAClBC,eAAgB,KAGhBC,kBAAkB,EAClBC,qBAAsB,KACtBC,2BAA4B,KAC5BC,qBAAsB,KAEtBC,YAAa,KAEb5H,UAAW,KACX6H,YAAY,EACZC,sBAAsB,EACtBC,aAAc,GACdC,YAAa,CACZC,MAAM,EACNhL,SAAS,EACTmB,QAAQ,EACR8J,cAAc,EACdC,OAAO,EACPC,MAAM,GAGT,EACA7K,SAAU,CACT8K,iBAAAA,GACC,OAAKzQ,KAAKsF,QAAWtF,KAAKwH,eAEnBxH,KAAKsF,OAAOkB,OAAOkK,QAAK1Q,KAAKwH,eAAevB,QAAQyK,IADnD,IAET,EACAC,YAAAA,GACC,OAAK3Q,KAAKwP,QAEHoB,KAAKC,MAAMD,KAAKE,UAAU9Q,KAAKwP,UAD9B,EAET,EACAuB,eAAAA,GACC,IAAIzL,EAASsL,KAAKC,MAAMD,KAAKE,UAAU9Q,KAAKsF,UAAY,GACpDkC,EAAiBoJ,KAAKC,MAAMD,KAAKE,UAAU9Q,KAAKwH,kBAAoB,GAEpEnC,EAAU,KAOd,GAJIrF,KAAKsO,kBAAoBtO,KAAKsO,iBAAiB0C,eAAe,aACjE3L,EAAUrF,KAAKsO,iBAAiBjJ,UAG5BF,MAAM0D,QAAQxD,IAAaF,MAAM0D,QAAQxD,IAAYA,EAAQsB,OAASrB,EAAOqB,OAClF,CACCtB,EAAU,GAGV,IAAK,IAAIqC,KAASpC,EAClB,CAEC,IAAI4G,EAAS,CACZiC,MAAOzG,EACPA,MAAOA,GAIRwE,EAAOO,QAAUjF,EAAevB,QAAQyB,IAAU,EAGlDrC,EAAQyB,KAAKoF,EACd,CACD,MAIC,IAAK,IAAI+E,KAAO5L,EAKf4L,EAAIxE,QAAUjF,EAAevB,QAAQgL,EAAIvJ,QAAU,IAAkC,GAA7BpC,EAAOW,QAAQgL,EAAIvJ,OAEvEuJ,EAAID,eAAe,eACtBC,EAAIC,UAAYD,EAAIxE,SAIvB,OAAOpH,CACR,EACA8L,oBAAAA,GACC,OAAKnR,KAAKiQ,WAEHjQ,KAAKoI,UAAUgJ,aAAa5K,OAAOyK,IACzC,IAAII,EAAMJ,EAAIK,gBACd,OAAQD,EAAI1E,QAAU0E,EAAIlD,OAA0B,sBAAjBkD,EAAIjI,YACrCC,IAAI4H,GAAOA,EAAIM,YAJV,EAKT,EACAC,UAAAA,GACC,OAAKxR,KAAKiQ,WAEHjQ,KAAKoI,UAAUgJ,aAAavL,OAAO,CAAC4L,EAAKR,KAC/CQ,EAAIR,EAAIM,YAAcN,EAAIK,gBAAgBnD,MACnCsD,GACL,CAAA,GAJK,CAAA,CAKT,EACAC,OAAAA,GACC,OAAK1R,KAAKqP,KAEH,IAAMrP,KAAKqP,KADV,EAET,EACAsC,gBAAAA,GACC,IAAK3R,KAAK+Q,kBAAoB/Q,KAAKyP,gBAClC,MAAO,GACR,MAAMmC,EAAe5R,KAAK+Q,gBAAgBlL,OAAO,CAACC,EAAEC,KACnDD,EAAEC,EAAE2B,OAAS3B,EAAEoI,MACRrI,GACL,CAAA,GACH,OAAO9F,KAAKyP,gBAAgBpG,IAAI5C,IAAE,IAASA,EAAQ0H,MAAOyD,EAAanL,EAAGP,QAC3E,GAEDlC,QAAS,CACR6N,WAAAA,GACK7R,KAAKwO,UACRxO,KAAKoI,UAAU0J,UAEf9R,KAAK6N,WACP,EACA,mBAAMkE,GACL,IAAIC,EAAc,iCACdhS,KAAKiS,WACFjS,KAAKiS,GAAGC,aAAa,MAC3BF,EAAchS,KAAKiS,GAAGE,EAAE,2BAGpBnS,KAAKwO,iBAEH,IAAItK,QAAQkO,IACjB,MAAM9E,EAAW5D,OAAO2I,SAASC,KAAO5I,OAAO2I,SAASC,KAAKC,MAAM,GAAK,KAElEC,EAAqB5O,IAC1B5D,KAAKyS,cAAc7O,GACnBwO,KAGgB,OAAb9E,EACHtN,KAAK0S,eACJzF,GAAYjN,KAAK2S,KAAKhK,KAAKqE,EAAUa,UAAUZ,IAC/C,KACAuF,GAGDxS,KAAK0S,eACJzF,GAAYjN,KAAK2S,KAAKhK,KAAKqE,EAAUY,cAAcX,IACnD,CAAEK,YACFkF,KAMJ,IAAIlE,EAAmB,CACrBsE,OAAQ,uBACRC,gBAAgB,EAChBC,eAAe,CACdC,SAAS,GAEVf,cACA5B,YAAapQ,KAAKoQ,eACZpQ,KAAKsO,kBAAoB,CAAA,GAmCjC,QAhCgC1J,IAA5B0J,EAAiB0E,aACWpO,IAA/B0J,EAAiB2E,gBACcrO,IAA/B0J,EAAiB4E,YACjB5E,EAAiB0E,OAAS,KAGtBhT,KAAKwO,UAITF,EAAiBjJ,QAAQ4G,QAAQgF,SACZrM,IAAhBqM,EAAIxE,UACPwE,EAAIxE,SAAU,MALhB6B,EAAiB1K,KAAO5D,KAAK2Q,aAC7BrC,EAAiBjJ,QAAUrF,KAAK+Q,kBAQ7BzC,EAAiB6E,YAAe7E,EAAiBjJ,SAAWiJ,EAAiBjJ,QAAQmB,OAAOC,GAAsB,gBAAhBA,EAAG2C,WAA6BzC,UACrI3G,KAAKkQ,sBAAuB,GAEzBlQ,KAAKiP,UAEJjP,KAAKkP,gBAAeZ,EAAiB8E,UAAW,GAEpD9E,EAAiBtH,MAAQhH,KAAKiP,SAI/BjP,KAAKoI,UAAY,IAAIiD,UACpBrL,KAAKqT,MAAM1H,MACX2C,GAGGnJ,MAAM0D,QAAQ7I,KAAKuO,kBAAoBvO,KAAKuO,gBAAgB5H,OAAS,EAGxE,IAAK,IAAIP,KAAOpG,KAAKuO,gBACpBvO,KAAKoI,UAAUkL,GAAGlN,EAAImN,MAAOnN,EAAIoN,SAEnCxT,KAAKoI,UAAUkL,GAAG,aAAc,KAAOtT,KAAKiQ,YAAa,EAAMjQ,KAAK2E,MAAM,gBAC1E3E,KAAKoI,UAAUkL,GAAG,sBAAuB1P,IACxC5D,KAAKmQ,aAAevM,IAIjB5D,KAAKkP,eAAiBlP,KAAKiP,SAC9BjP,KAAKoI,UAAUkL,GAAG,cAAe1P,IAChC,IAAI6P,EAAW,GAGf,IAAK,IAAIC,EAAW,EAAGA,EAAW9P,EAAK+C,OAAQ+M,IAC/C,CACC,IAAIC,EAAQ/P,EAAK8P,GAGbC,EAAM3T,KAAKkP,gBAGVlP,KAAK4T,YAAYhQ,EAAM+P,IAAQF,EAAS3M,KAAK4M,EAEnD,CAGA,IAAK,IAAIG,EAAU,EAAGA,EAAUJ,EAAS9M,OAAQkN,IAGhDjQ,EAAKqD,OAAOwM,EAASI,GAAWA,EAAS,KAIxC7T,KAAKwO,WACRxO,KAAKoI,UAAUkL,GAAG,aAAc,KAC/B,MAAMQ,EAAO9T,KAAKoI,UAAUgJ,aAC5BpR,KAAKsF,OAASwO,EAAKzK,IAAI4H,GAAOA,EAAIM,YAClCvR,KAAKwH,eAAiBsM,EAAKtN,OAAOyK,GAAOA,EAAI8C,aAAa1K,IAAI4H,GAAOA,EAAIM,YACrEvR,KAAKoI,UAAU6B,QAAQmG,YAAYE,cACtCtQ,KAAKgU,qBAKRhU,KAAKoI,UAAUkL,GAAG,eAAgBpO,IACjClF,KAAKuP,aAAerK,EAAQyB,OAAS,GAEvC,EACAsN,eAAAA,GACKjU,KAAKoI,YACJpI,KAAKiQ,WACRjQ,KAAKkU,mBAELlU,KAAKoI,UAAUkL,GAAG,aAActT,KAAKkU,kBAExC,EACAA,gBAAAA,GACClU,KAAKkQ,qBAAuBlQ,KAAKsO,iBAAiB6E,YAAcnT,KAAK+Q,gBAAgBvK,OAAOC,GAAsB,gBAAhBA,EAAG2C,WAA6BzC,OAClI3G,KAAKoI,UAAU+L,WAAWnU,KAAK+Q,iBAC/B/Q,KAAKoI,UAAU0J,QAAQ9R,KAAK2Q,cAC5B3Q,KAAKgU,kBACN,EACAI,YAAAA,GAEuBpU,KAAKoI,UAAUiM,mBACrBpI,QAAQzF,IACvBxG,KAAKoI,UAAUkM,qBAAqB9N,EAAOkB,MAAO,MAEnD1H,KAAKoI,UAAUmM,cACfvU,KAAKuP,cAAe,CACrB,EACAyE,gBAAAA,GAEyBhU,KAAKoI,UAAUiM,mBACvBpI,QAAQzF,IACvBxG,KAAKoI,UAAUkM,qBAAqB9N,EAAOkB,MAAOlB,EAAOF,QAE3D,EAIAuH,SAAAA,GAC6B,OAAxB7N,KAAK2P,eACR3P,KAAK0S,eACJzF,GAAYjN,KAAK2S,KAAKhK,KAAKqE,EAAUa,UAAUZ,IAC/C,KACAjN,KAAKwU,QAGNxU,KAAK0S,eACJzF,GAAYjN,KAAK2S,KAAKhK,KAAKqE,EAAUY,cAAcX,IACnD,CACCK,SAAUtN,KAAK2P,gBAEhB3P,KAAKwU,OAER,EACA/B,aAAAA,CAAc7O,GACb5D,KAAKgQ,YAAcpM,EACnB5D,KAAKsP,WAAa1L,EAAK0L,WACvBtP,KAAKwP,QAAU5L,EAAK4L,QACpBxP,KAAKyP,gBAAkB7L,EAAK6L,gBAE5BzP,KAAKsF,OAAS1B,EAAK0B,OACnBtF,KAAKwH,eAAiB5D,EAAK4D,eAC3BxH,KAAKwN,aAAe,GAEpB,IAAK,IAAIrB,EAAI,EAAGA,EAAIvI,EAAK6L,gBAAgB9I,OAAQwF,IAEhD,IAAK,IAAIsI,EAAI,EAAGA,EAAI7Q,EAAKsB,QAAQyB,OAAQ8N,IAExC,GAAI7Q,EAAK6L,gBAAgBtD,GAAGjG,MAAQtC,EAAKsB,QAAQuP,GAAGvO,KACpD,CACC,IAAIM,EAAS5C,EAAKsB,QAAQuP,GAC1BjO,EAAOtD,KAAOU,EAAK6L,gBAAgBtD,GAAGjJ,KAEtClD,KAAKwN,aAAa1G,KAAKN,EAExB,CAGH,EAIAgO,MAAAA,CAAO9P,GACN,IAAId,EAAOc,EAEX1E,KAAKyS,cAAc7O,IAGG,IAAlB5D,KAAKqO,SAERrO,KAAK0U,YAAY9Q,GAIjB5D,KAAK2U,gBAAgB/Q,GAEtB5D,KAAKiU,iBACN,EAIAS,WAAAA,CAAY9Q,GACX,IAAIsB,EAAUtB,EAAKyK,SAASnJ,QACxB0P,EAAkBhR,EAAKyK,SAASuG,gBAChCC,EAAe,GAEnB,IAAK,IAAIC,EAAe,EAAGA,EAAe5P,EAAQyB,OAAQmO,IAC1D,CACC,IAAIC,EAAO7P,EAAQ4P,GAAcC,KAErB,MAARA,IAAcA,EAAO,KAEzBF,EAAaA,EAAalO,QAAU,CACnCqO,GAAI9P,EAAQ4P,GAAcG,UAC1BF,KAAMA,EAAO7P,EAAQ4P,GAAcG,UACnC7G,YAAalJ,EAAQ4P,GAAcI,KACnC7E,KAAMyE,EACNK,YAAanV,KAAKoV,qBAEpB,CAEA,IAAK,IAAIN,EAAe,EAAGA,EAAeF,EAAgBjO,OAAQmO,IAClE,CACC,IAAIC,EAAOH,EAAgBE,GAAcC,KAE7B,MAARA,IAAcA,EAAO,KAEzBF,EAAaA,EAAalO,QAAU,CACnCqO,GAAIJ,EAAgBE,GAAcG,UAClCF,KAAMA,EAAOH,EAAgBE,GAAcG,UAC3C7G,YAAawG,EAAgBE,GAAcI,KAC3CG,qBAAsBT,EAAgBE,GAAcO,qBACpDC,mBAAoBV,EAAgBE,GAAcQ,mBAClDC,mBAAoBX,EAAgBE,GAAcS,mBAClDlF,KAAMyE,EACNK,YAAanV,KAAKoV,qBAClBI,qBAAsBxV,KAAKyV,0BAE7B,CAEAzV,KAAK0P,iBAAmBmF,EAExB7U,KAAK2E,MACJ,aACA,CACCoQ,KAAM,IACN3G,YAAa,UACblF,KAAM,SACNwM,SAAUb,GAGb,EAIAF,eAAAA,CAAgB/Q,GACf,IAAIsB,EAAUtB,EAAKyK,SAASnJ,QACxB0P,EAAkBhR,EAAKyK,SAASuG,gBAChCC,EAAe,GAEnB,IAAK,IAAIC,EAAe,EAAGA,EAAe5P,EAAQyB,OAAQmO,IAE9C5P,EAAQ4P,GAAcC,KAIjCF,EAAaA,EAAalO,QAAU,CACnCqO,GAAI9P,EAAQ4P,GAAcG,UAC1BU,OAAQzQ,EAAQ4P,GAAcG,UAC9B7G,YAAalJ,EAAQ4P,GAAcI,MAIrC,IAAK,IAAIJ,EAAe,EAAGA,EAAeF,EAAgBjO,OAAQmO,IAEtDF,EAAgBE,GAAcC,KAIzCF,EAAaA,EAAalO,QAAU,CACnCqO,GAAIJ,EAAgBE,GAAcG,UAClCU,OAAQf,EAAgBE,GAAcG,UACtC7G,YAAawG,EAAgBE,GAAcI,MAI7ClV,KAAK0P,iBAAmBmF,CACzB,EAIAnC,cAAAA,CAAetP,EAAaG,EAAuBqS,GAElD5V,KAAK6P,qBAAuBzM,EAGC,MAAzBG,IAA+BA,EAAwB,CAAA,GAG3DA,EAAsB2J,eAAiB2I,2BAA2BC,YAAc,IAAMD,2BAA2BE,cACjHxS,EAAsB4J,WAAanN,KAAKmN,WAEpCnN,KAAKgP,WACRzL,EAAsB2J,gBAAkB,IAAMlN,KAAKgP,UAGpDhP,KAAK8P,2BAA6BvM,EAElCvD,KAAK+P,qBAAuB6F,GAGF,IAA1B5V,KAAK4P,iBAA4B5P,KAAK4P,kBAAmB,EAAQ5P,KAAK4P,kBAAmB,CAC1F,EAQAoG,uBAAAA,CAAwB5I,GACvBpN,KAAK2P,eAAiB,KAEtB3P,KAAK0S,eACJzF,GAAYjN,KAAK2S,KAAKhK,KAAKqE,EAAUvH,iBAAiBwH,IACtD,CACCG,oBAEDpN,KAAK6N,UAEP,EAIA4H,yBAAAA,CAA0BlC,GACzB,IAAIjG,EAAWiG,EAAMlN,cAAc4P,aAAa,QAAQC,UAAU,GAC9D5I,IAAatN,KAAK2P,iBACrB3P,KAAK2P,eAAiB,MAEvB3P,KAAK0S,eACJzF,GAAYjN,KAAK2S,KAAKhK,KAAKqE,EAAUK,mBAAmBJ,IACxD,CACCK,SAAUA,GAEXtN,KAAK6N,UAEP,EAKAuH,qBAAsB,SAAS7B,GAE9B,IAAIjG,EAAW,KAGX6I,EAAO5C,EAAMlN,cAAc4P,aAAa,QAK3C3I,EAFW,MAAR6I,EAEQ5C,EAAMlN,cAAcC,MAIpB6P,EAAKD,UAAU,GAG3BlW,KAAKuF,aAAa+H,EACnB,EACA/H,YAAAA,CAAa+H,GACZtN,KAAK2P,eAAiBrC,EACtBtN,KAAK6N,WACN,EACArI,iBAAAA,CAAkBgI,GACjBxN,KAAK2P,eAAiB,KACtB3P,KAAK0S,eACJzF,GAAYjN,KAAK2S,KAAKhK,KAAKqE,EAAUO,kBAAkBN,IACvD,CACCO,gBAEDxN,KAAK6N,UAEP,EAGA+F,WAAAA,CAAYhQ,EAAM+P,GAEjB,IAAIyC,EAAWzC,EAAM3T,KAAKkP,eAG1B,IAAK,IAAImH,EAAY,EAAGA,EAAYzS,EAAK+C,OAAQ0P,IACjD,CACC,IAAIC,EAAS1S,EAAKyS,GAGlB,GAAIC,EAAOtW,KAAKiP,UAAYmH,EAS3B,OANKE,EAAOC,YAAWD,EAAOC,UAAY,IAGrCD,EAAOC,UAAU9M,SAASkK,IAAQ2C,EAAOC,UAAUzP,KAAK6M,IAGtD,EAGC2C,EAAOC,WAAWvW,KAAK4T,YAAY0C,EAAOC,UAAW5C,EAC/D,CAGA,OAAO,CACR,GAED6C,YAAAA,IACMxW,KAAKwO,YAAcxO,KAAKmN,YAC5BvG,MAAM,qDACR,EACA7C,OAAAA,IACK/D,KAAKqO,UAAcrO,KAAKyW,OAAOvI,cAAkBlO,KAAKyW,OAAOvI,wBAAwB5K,UACxFsD,MAAM,4DACP5G,KAAKqP,KAAOvB,IACZ9N,KAAK2E,MAAM,cAAe3E,KAAKqP,KAChC,EACAhF,OAAAA,GACCrK,KAAK+R,gBAAgB5N,KAAK,KACpBnE,KAAKwO,YACTxO,KAAK2P,eAAiBjG,OAAO2I,SAASC,KAAO5I,OAAO2I,SAASC,KAAKC,MAAM,GAAK,KAC7EvS,KAAKwU,OAAOxU,KAAKgQ,eAIpB,EACAjL,SAAU,4wICrpBX,IAAA2R,EAAe,CACdC,UAAUC,IACF,CACNlW,OAAQ,MACRX,IAAK,qCACLY,OAAQ,CAAEiW,qBAGZC,QAAQD,IACA,CACNlW,OAAQ,MACRX,IAAK,mCACLY,OAAQ,CAAEiW,sBCNN,MAAME,EAAqB,CACjC9I,WAAY,CACXlL,iBAEDE,MAAO,CACN+T,qBAAsB1P,OACtB2P,mBAAoB3P,OACpB4P,YAAa9T,QACb+T,kBAAmB,CAClBhU,KAAMoF,OACNlD,QAAS,4BAGXxB,KAAIA,KACI,CACNuT,WAAY,CAAA,EACZ9I,SAAU,CAAA,IAGZ1I,SAAU,CAITyR,iBAAAA,GAEC,IAAIC,EAAKrX,KAAKmX,WAAa,IAAInX,KAAKmX,YAAc,CAAA,EAKlD,OAJuB,MAAnBnX,KAAKmX,YAAmD,MAA7BnX,KAAK+W,sBAAgC1P,OAAOiQ,KAAKtX,KAAK+W,sBAAsBpQ,OAAS,IAEnH0Q,EAAGrX,KAAK+W,qBAAqB3I,aAAepO,KAAK+W,sBAE3CM,CACR,EAIAE,eAAAA,GAEC,IAAIC,EAAKxX,KAAKqO,SAAW,IAAIrO,KAAKqO,UAAY,CAAA,EAK9C,OAJqB,MAAjBrO,KAAKqO,UAA+C,MAA3BrO,KAAKgX,oBAA8B3P,OAAOiQ,KAAKtX,KAAKgX,oBAAoBrQ,OAAS,IAE7G6Q,EAAGxX,KAAKgX,mBAAmB5I,aAAepO,KAAKgX,oBAEzCQ,CACR,GAEDxT,QAAS,CAIRyT,kBAAiBA,IACT5B,2BAA2BC,YAAc,IAAMD,2BAA2BE,cAKlF2B,0BAAAA,GACC,OAAO1X,KAAK2S,KAAKhK,KAAK+N,EAAcC,UAAU3W,KAAKyX,qBACpD,EAIAE,4BAAAA,GACC,OAAO3X,KAAK2S,KAAKhK,KAAK+N,EAAcG,QAAQ7W,KAAKyX,qBAClD,EAIAG,0BAAAA,CAA2BhU,GAC1B5D,KAAKmX,WAAavT,GAAQ,CAAA,CAC3B,EAIAiU,wBAAAA,CAAyBjU,GACxB5D,KAAKqO,SAAWzK,GAAQ,CAAA,CACzB,EAIAkU,gBAAgBC,GACPA,EAAOrC,SAAkB,WAAP,MAG5B3Q,SAAU,uyFC1GX,IAAAiT,EAAe,CACX9R,KAAM,gBACNtC,KAAM,WACJ,MAAO,CACHqU,YAAa,EACbC,UAAW,EACXC,aAAc,EACdC,UAAW,EACXC,QAAQ,EACRC,UAAW,KACXC,gBAAiB,EACjBC,cAAe,EAErB,EACAzT,SAAU,0qCA8BVsF,QAAS,WACLrK,KAAKyY,cACLzY,KAAK0Y,iCACLhP,OAAOqB,iBAAiB,SAAU/K,KAAKyY,YAC3C,EACAE,QAAS,WACL3Y,KAAK0Y,gCACT,EACA1U,QAAS,CACLyU,YAAa,WACT,IAAIG,EAAelP,OAAOmP,YACtBC,EAAiB9Y,KAAKiY,YAC1BjY,KAAKwY,cAAgBxY,KAAKqT,MAAM0F,cAAcC,UAC9ChZ,KAAKiY,YAAcW,EAAe5Y,KAAKwY,cAAgBxY,KAAKqT,MAAMiF,UAAUW,aACpD,IAAnBjZ,KAAKkY,WAAyC,IAAtBlY,KAAKmY,cAA0C,IAAnBW,EACrD9Y,KAAKkY,UAAYgB,KAAKC,MAAMnZ,KAAKiY,YAAY,GAE7CjY,KAAKkY,UAAYgB,KAAKC,MAA4B,IAAjBnZ,KAAKkY,UAAmBY,EAAkB,IAAO9Y,KAAKiY,aAE3FjY,KAAKmY,aAAenY,KAAKiY,YAAcjY,KAAKkY,SAChD,EACAkB,YAAa,WACTpZ,KAAKyY,cACLzY,KAAKkY,UAAY,EACjBlY,KAAKmY,aAAenY,KAAKiY,WAC7B,EACAoB,eAAgB,WACZrZ,KAAKyY,cACLzY,KAAKkY,UAAYlY,KAAKiY,YACtBjY,KAAKmY,aAAe,CACxB,EACAmB,SAAU,WACNtZ,KAAKkY,UAAYgB,KAAKC,MAAMnZ,KAAKiY,YAAY,GAC7CjY,KAAKmY,aAAee,KAAKC,MAAMnZ,KAAKiY,YAAY,EACpD,EACAsB,YAAa,WACT,OAAuB,IAAnBvZ,KAAKkY,UACE,MACuB,IAAtBlY,KAAKmY,cACN,QAIf,EACAqB,UAAW,SAASC,GAChBA,EAAEC,iBACFD,EAAEE,kBACFjQ,OAAOqB,iBAAiB,UAAW/K,KAAK4Z,SACxClQ,OAAOqB,iBAAiB,YAAa/K,KAAK6Z,MAC1C7Z,KAAKqY,QAAS,EACdrY,KAAKoY,UAAYqB,EAAEK,OACvB,EACAD,KAAM,SAASJ,GACX,GAAKzZ,KAAKqY,OAAV,CAGAoB,EAAEC,iBACFD,EAAEE,kBACF,IAAII,EAAUN,EAAEK,QAAU9Z,KAAKoY,UAC/BpY,KAAKkY,UAAYlY,KAAKkY,UAAY6B,EAC9B/Z,KAAKkY,UAAY,IACjBlY,KAAKkY,UAAY,GAEjBlY,KAAKkY,UAAYlY,KAAKiY,cACtBjY,KAAKkY,UAAYlY,KAAKiY,aAE1BjY,KAAKmY,aAAenY,KAAKiY,YAAcjY,KAAKkY,UAC5ClY,KAAKoY,UAAYqB,EAAEK,OAZnB,CAaJ,EACAF,QAAS,SAASH,GACdA,EAAEC,iBACFD,EAAEE,kBACFjQ,OAAOyB,oBAAoB,YAAanL,KAAK6Z,MAC7CnQ,OAAOyB,oBAAoB,UAAWnL,KAAK4Z,SAC3C5Z,KAAKqY,QAAS,EACdrY,KAAKoY,UAAYqB,EAAEK,OACvB,EACApB,+BAAgC,WAC5B1Y,KAAKuY,gBAAkBvY,KAAKqT,MAAMiF,UAAUU,SAChD,GAEJrT,SAAU,CACNqU,iBAAkB,WACd,OAASha,KAAKuY,gBAAkBvY,KAAKwY,eAAkBU,KAAKC,MAAMnZ,KAAKiY,YAAY,GACrE,MACA,QAClB,EACAgC,aAAc,WACV,OAAOja,KAAKkY,UAAY,IAC5B,EACAgC,gBAAiB,WACb,OAAOla,KAAKmY,aAAe,IAC/B,ICxID,MAAMgC,EAAQ,CACpBjU,KAAM,QACHlD,MAAO,CACHE,KAAMoF,OACN6F,MAAO7F,OACP8R,SAAUjX,SAEdkX,OAAQ,CAAC,OAAQ,QACjBC,KAAAA,CAAMtX,GAAOuX,KAAEA,IAEX,IACIC,EADAC,EAAWC,IAAIC,IAAI,MAGvBD,IAAIE,UAAU,KACVJ,EAAe,IAAI5P,UAAUuP,MAAMM,EAASnU,SAShD,MAAO,CAAEmU,WAAUlT,KAPNA,KACTiT,EAAajT,QAMQD,KAJzB,WACIkT,EAAalT,MACjB,EAGJ,EAEAvC,SAAS,g9BC1BP8V,EAAa,CAAA,EACbC,EAAiB,CAAA,EAEvB,SAASC,EAAgBC,EAAKC,GAC7B,OAAOD,EAAIxU,OAAOiT,GAAKA,EAAEwB,UAAYA,GAAUpV,OAAO,CAAC4L,EAAKyJ,KACtDzJ,EAAIyJ,EAAKC,UACb1J,EAAIyJ,EAAKC,QAAUD,EAAKE,MAClB3J,GACL,CAAA,EACJ,CACA,SAAS4J,EAAWJ,GACnB,KAAOH,EAAeG,GAAUtU,QAAQ,CACvC,IAAIqC,EAAI8R,EAAeG,GAAUK,MACjCtS,EAAE,GAAG1C,MAAQiV,EAAwBN,EAAUjS,EAAE,GAAIA,EAAE,IACvD0R,IAAIc,WAAWxS,EAAE,GAElB,CACD,CAoBA,SAASuS,EAAwBN,EAAUE,EAAQxa,GAClD,IAAI8a,EAASZ,EAAWI,GAAUE,GAClC,OAAKM,GAED9a,IACH8a,EAASA,EAAOC,QAAQ,eAAgB,CAACC,EAAOC,SAAsBhX,IAAfjE,EAAOib,GAAoBD,EAAQhb,EAAOib,KAC3FH,GAHC,aAAeN,EAAS,IAIjC,CAGA,MAAMU,EAAU,CACfC,KAAAA,CAAMb,EAAUE,EAAQxa,GAQvB,QAPeiE,IAAXjE,IACFwE,MAAM0D,QAAQoS,IAAgC,GAAnBA,EAAStU,QACpCsU,EAASrS,OAAuC,GAA9BqS,EAASrS,MAAM,KAAKjC,UAEvChG,EAASwa,GACRF,EAAUE,GAAUF,EAASrS,MAAQqS,EAASrS,MAAM,KAAOqS,QAE9CrW,IAAXuW,EAEH,OADAY,QAAQ5b,MAAM,iBACP,GAER,IAAK0a,EAAWI,GAAW,CAE1B,IAAIe,EAAa,GACf,QAA6CpX,IAAzC8E,OAAOuS,8BAA6C,CACvD,IAAIC,EAAenB,EAAgBkB,8BAA+BhB,QACxCrW,IAAzBsX,EAAaf,KACfa,EAAaE,EAAaf,GAE5B,CAEA,IAAKN,EAAWI,IAA0D,IAA7C5T,OAAOiQ,KAAKuD,EAAWI,IAAWtU,OAAc,CAC5EkU,EAAWI,QAAYrW,EACvB,IAAIuX,EAAMzB,IAAIC,IAAIqB,GAElB,OAxDJ,SAAkBf,EAAUkB,EAAKhB,EAAQxa,GAExC,GAAIma,EAAeG,GAIlB,OAHAH,EAAeG,GAAUnU,KAAK,CAACqV,EAAKhB,EAAQxa,SACxCka,EAAWI,IACdI,EAAWJ,IAGbH,EAAeG,GAAY,CAAC,CAACkB,EAAKhB,EAAQxa,IAE1CL,MAAM2K,IAAI4K,2BAA2BuG,SAAWvG,2BAA2BwG,UAAY,kCAAoCpB,GAAU9W,KAAKsN,IACrIA,EAAI7N,KAAKiB,OACZgW,EAAWI,GAAYF,EAAgBtJ,EAAI7N,KAAKiB,OAAQoW,GAExDJ,EAAWI,GAAY,CAAA,EAExBI,EAAWJ,KACT5W,MAAMiY,GAAOP,QAAQ5b,MAAMmc,GAC/B,CAqCIC,CAAStB,EAAUkB,EAAKhB,EAAQxa,GACzBwb,CACR,CACD,CACA,IAAIV,EAASF,EAAwBN,EAAUE,EAAQxa,GACvD,OAAO+Z,IAAIC,IAAIc,EAChB,EACAtJ,CAAAA,CAAE8I,EAAUE,EAAQxa,GACnB,OAAO+Z,IAAI8B,MAAMxc,KAAK8b,MAAMb,EAAUE,EAAQxa,GAC/C,GAYM,SAAS8b,IAMf,MAAO,CACNtK,EALD,SAAW8I,EAAUE,EAAQxa,GAC5B,OAAOkb,EAAQ1J,EAAE8I,EAAUE,EAAQxa,EACpC,EAMD,CCtGO,MAAM+b,EAAc,CAC1BxW,KAAM,cACHlD,MAAO,CACHE,KAAMoF,OACN6F,MAAO7F,QAEX+R,OAAQ,CAAC,OAAQ,QACjBC,KAAAA,CAAMtX,GAAOuX,KAAEA,IAEX,IACIC,EACAmC,EAFAC,EAAkBlC,IAAIC,IAAI,MAI9B,MAAMxI,EAAEA,GAAMsK,IAEd/B,IAAIE,UAAU,KACVJ,EAAe,IAAI5P,UAAUuP,MAAMyC,EAAgBtW,SAuBvD,MAAO,CAAEsW,kBAAiBrV,KApBbsV,UACTrC,EAAajT,OACN,IAAIrD,QAAQ,SAAUkO,EAAS0K,GACpCH,EAAWvK,CAEb,IAe4B9K,KAZhC,WACIkT,EAAalT,MACjB,EAUsCyV,GAR3BA,KACPJ,GAAS,IAO6BK,OAJ3BA,KACXL,GAAS,IAGqCxK,IACtD,EAEApN,SAAS,6nCC3Bb,IAAAkY,EAAe,CACX7c,aAAa8c,IACJ,CACLxc,OAAQ,OACRX,IAAK,iFACLY,OAAQ,CAAEuc,eAGdC,eAAexd,IACN,CACLe,OAAQ,MACRX,IAAK,mFACLY,OAAQ,CAAEhB,eAGdyd,qBAAqBvd,IACV,CACLa,OAAQ,OACRX,IAAK,yFACLY,OAAQd,IAGdwd,mBAAmB1d,IACR,CACLe,OAAQ,MACRX,IAAK,uFACLY,OAAQ,CAAEhB,eAGhB2d,yBAAyBzd,IACd,CACLa,OAAQ,OACRX,IAAK,6FACLY,OAAQd,IAGd0d,2BAA0BA,CAACjc,EAAKkc,KACrB,CACL9c,OAAQ,MACRX,IAAK,+FACLY,OAAQ,CAAEW,MAAKkc,YAIrBC,qBAAqBC,IACV,CACLhd,OAAQ,OACRX,IAAK,yFACLY,OAAQ,CAAE+c,uBAGhBC,qBAAqB9d,IACV,CACLa,OAAQ,OACRX,IAAK,yFACLY,OAAQd,IAGd+d,eAAeje,IACN,CACLe,OAAQ,MACRX,IAAK,mFACLY,OAAQ,CAAEhB,eAGdke,kBAAkBle,IACT,CACLe,OAAQ,MACRX,IAAK,sFACLY,OAAQ,CAAEhB,eAGdme,wBAAwBC,IACf,CACLrd,OAAQ,OACRX,IAAK,4FACLY,OAAQ,CAAEod,gBAGdC,wBAAwBne,IACb,CACLa,OAAQ,OACRX,IAAK,4FACLY,OAAQd,IAGdoe,kBAAkBte,IACT,CACLe,OAAQ,MACRX,IAAK,sFACLY,OAAQ,CAAEhB,eAGdue,wBAAwBC,IACf,CACLzd,OAAQ,OACRX,IAAK,4FACLY,OAAQ,CAAEwd,gBAGdC,wBAAwBve,IACf,CACLa,OAAQ,OACRX,IAAK,4FACLY,OAAQd,IAGZwe,YAAWA,CAAC1e,EAAW2B,KACZ,CACLZ,OAAQ,MACRX,IAAK,sEACLY,OAAQ,CAAEhB,UAAWA,EAAW2e,WAAYhd,KAGlDid,uBAAsBA,CAAC5e,EAAW2B,KACvB,CACLZ,OAAQ,MACRX,IAAK,2FACLY,OAAQ,CAAEhB,UAAWA,EAAW2e,WAAYhd,KAGlDkd,6BAA6BC,IAClB,CACL/d,OAAQ,OACRX,IAAK,iGACLY,OAAQ,CAAE8d,oBAGhBC,6BAA6B7e,IAClB,CACLa,OAAQ,OACRX,IAAK,iGACLY,OAAQd,IAGd8e,wBAAwBC,IACf,CACLle,OAAQ,OACRX,IAAK,4FACLY,OAAQ,CAAEie,yBAGdC,wBAAwBhf,IACf,CACLa,OAAQ,OACRX,IAAK,4FACLY,OAAQd,IAGZif,mBAAmBjf,IACV,CACLa,OAAQ,OACRX,IAAK,oEACLY,OAAQd,KCrKT,MAAMkf,EAAe,CAC3B7Y,KAAM,eACH8H,WAAY,CACRmM,QACAuC,eAEJ1Z,MAAO,CACHgc,SAAU,CAAE9b,KAAM+b,OAAQ5b,UAAU,GACpC6b,gBAAiB,CAAEhc,KAAMC,QAASE,UAAU,IAEhDiX,KAAAA,CAAMtX,GAEF,MAAM2P,EAAO+H,IAAIyE,OAAO,QAClBC,EAAY1E,IAAIyE,OAAO,cACvBH,SAAEA,GAAatE,IAAI2E,OAAOrc,IAE1BmP,EAAEA,GAAMsK,IAES/B,IAAIC,IAAI,IAE/B,MAAM2E,EAAc5E,IAAIC,IAAI,IAEtB4E,EAAa7E,IAAIC,KAAI,GAErB6E,EAAiB9E,IAAIC,MAErB8E,EAAmB/E,IAAIC,MAEvB+E,EAAahF,IAAIyE,OAAO,cAExBQ,EAAWjF,IAAIC,KAAI,GAEzBD,IAAIlX,MAAMwb,EAAU,CAACY,EAAclc,KAC/BqY,QAAQ8D,IAAI,oBAAoBD,GAChCjc,MAIJ,MAAMA,EAAYkZ,UACd,GAAoB,MAAhBmC,EAAS1Y,MAKb,IACI,MAAM5B,QAAiBiO,EAAKhK,KAAKsU,EAAUgB,kBAAkBe,EAAS1Y,QACtEgZ,EAAYhZ,MAAQ5B,EAASd,IACjC,CAAE,MAAOzD,GACL4b,QAAQ8D,IAAI1f,EAChB,CAAC,QACGof,EAAWjZ,OAAQ,CACvB,MAXIgZ,EAAYhZ,MAAQ,IAe5BoU,IAAIE,UAAU,KACVmB,QAAQ8D,IAAI,sBAAuB7c,EAAMgc,UACzCrb,MAKJ,MAAMmc,EAAmBpF,IAAI/U,SAAS,IAAM0B,OAAO0Y,OAAOT,EAAYhZ,QAsBtE,IAAI0Z,EAAWtF,IAAIC,MAEnB,MAsCMsF,EAAYA,KACdD,EAAS1Z,MAAMgB,QAoCb4Y,EAAiBxF,IAAIC,MAErBwF,EAAWzF,IAAI0F,SAAS,CAAEC,eAAe,EAAOC,cAAc,IAE9DC,EAAgBpa,KACTA,GAAiB,IAAZA,EAAEqa,OAGdC,EAAWA,KACbN,EAASE,eAAgB,IACrBE,EAAaf,EAAelZ,MAAMoa,UAMpCC,EAAYA,KACdvB,EAAUwB,aAAazO,EAAE,SAAS,6BAGhC0O,EAAkBA,KACpBzB,EAAUwB,aAAazO,EAAE,SAAS,2BAGtC,MAAO,CACHmN,cAAaQ,mBACbN,iBAAgBsB,cArGG9L,IACnBwK,EAAelZ,MAAQ,IAAKgZ,EAAYhZ,MAAM0O,IAC9CgL,EAAS1Z,MAAMiB,QAmGgBwZ,aAhGdA,KACjBvB,EAAelZ,MA1BR,CACH6X,WAAY,EACZxe,UAwBsCqf,EAvBtCU,WAAY,QACZsB,UAAW,GACXN,QAAS,GACTO,YAAY,EACZC,WAAY,GACZC,UAAW,GACXC,WAAY,GACZC,UAAW,GACXC,OAAQ,KACRC,YAAa,MAgBjBpB,EAASE,eAAc,EAEvBL,EAAS1Z,MAAMiB,QA2F8Bia,gBAxFzB3E,UAGpB,GAFA2C,EAAelZ,MAAQ,IAAKgZ,EAAYhZ,MAAM0O,KAMnC,UAJDoK,EAAUqC,QAAQ,CACpB3c,QAAQqN,EAAE,SAAS,sBAAwB,IAAMqN,EAAelZ,OAAOoa,QAAU,IAAMvO,EAAE,SAAS,oBAClGuP,YAAa,UACzBC,YAAa,oBAKT,IACI,MAAMlQ,QAAYkB,EAAKhK,KAAKsU,EAAUiB,wBAAwBlJ,IACrC,WAArBvD,GAAKmQ,MAAMC,gBACJvC,EAAYhZ,MAAM0O,GACzB6L,IAER,CAAE,MAAO1gB,GACL4b,QAAQ8D,IAAI1f,EAChB,CAAC,QACOof,EAAWjZ,OAAQ,CAC3B,GAmE8D2Z,YAAWD,WACzEN,aAAYD,mBAAkBqC,UA5DfjF,UACf,GAAK4D,IAIE,CAGH,IACI,MAAMsB,QAAUpP,EAAKhK,KAAKsU,EAAUmB,wBAAwBoB,EAAelZ,QACpD,WAAnByb,GAAGH,MAAMC,SACTvC,EAAYhZ,MAAMyb,EAAEne,KAAK,GAAGua,YAAc4D,EAAEne,KAAK,GACjD+c,IAER,CAAE,MAAOxgB,GACL4b,QAAQ8D,IAAI1f,EAChB,CAAC,QACGof,EAAWjZ,OAAQ,CACvB,CAGA2Z,GACJ,MAnBIlE,QAAQ8D,IAAI,iBAyDyB1N,IAAGzQ,cAnCzBsT,GACZ0K,EAAWpZ,MAAM0b,KAAKC,GAAQA,EAAKvC,YAAc1K,GAoCxDuL,eAAcJ,WAAUD,iBAAgBP,WAEhD,EACA5a,SAAU,ohLCrLd,IAAAmd,EAAe,CACdC,qBAAoBA,CAACjf,EAAM8R,EAAIoN,KACvB,CACN1hB,OAAQ,MACRX,IAAK,uEAAyEmD,EAAO,IAAM8R,EAC3FrU,OAAQ,CACPyhB,yBAIHC,qBAAoBA,CAAC1iB,EAAWgB,KACxB,CACND,OAAQ,OACRX,IAAK,uEAAyEJ,EAC9EgB,WAGF2hB,mBAAmBC,IACX,CACN7hB,OAAQ,OACRX,IAAK,qEAAuEwiB,IAG9EC,qBAAoBA,CAACD,EAAyB5hB,KACtC,CACND,OAAQ,OACRX,IAAK,uEAAyEwiB,EAC9E5hB,WAGF8hB,qBAAqBF,IACb,CACN7hB,OAAQ,OACRX,IAAK,uEAAyEwiB,IAGhFG,uBAAuBN,IACf,CACN1hB,OAAQ,MACRX,IAAK,yEACLY,OAAQ,CACPyhB,yBAIHO,kBAAkBC,IACV,CACNliB,OAAQ,MACRX,IAAK,oEAAsE6iB,KC/D9EC,EAAe,CACd3c,KAAM,iBACNtC,KAAMA,KAAAA,CACLkf,MAAO,KACPC,YAAY,IAEb/f,MAAO,CACNggB,SAAU,CACT9f,KAAM,CAACC,QAAQmF,QACflD,SAAS,EACT6d,UAAU3c,GACF,CAAC,UAAU,GAAM,GAAOmD,SAASnD,IAG1C4c,MAAO,CACNhgB,KAAMC,QACNiC,SAAS,GAEV+d,SAAU,CACTjgB,KAAMC,QACNiC,SAAS,GAEVge,WAAYjgB,QACZkgB,YAAa,CAAC/a,OAAOnD,MAAMkC,QAC3Bic,YAAa,CACZpgB,KAAM,CAACoF,OAAOnD,MAAMkC,QACpBjC,QAAS,IAEVme,UAAW,CACVrgB,KAAM,CAACoF,OAAOnD,MAAMkC,QACpBjC,QAAS,aAEVoe,YAAa,CACZtgB,KAAM,CAACoF,OAAOnD,MAAMkC,QACpBjC,QAAS,IAEVqe,sBAAuB,CACtBvgB,KAAMC,QACNiC,SAAS,IAGXrC,MAAO,CACN,cACA,gBACA,uBACA,cACA,gBAEDiB,QAAS,CACR0f,OAAAA,GACC,OAAO1jB,KAAK8iB,MAAMY,SACnB,EACAC,YAAAA,GACC,OAAO3jB,KAAK8iB,MAAMa,cACnB,EACArc,IAAAA,GACC,OAAOtH,KAAK8iB,MAAMxb,MACnB,EACAC,IAAAA,CAAKqc,GACJ,OAAO5jB,KAAK8iB,MAAMvb,KAAKqc,EACxB,EACAnc,MAAAA,GACC,OAAOzH,KAAK8iB,MAAMrb,QACnB,EACAoc,gBAAAA,GACC7jB,KAAK+iB,YAAc/iB,KAAK+iB,UACzB,GAED1Y,OAAAA,GACKrK,KAAKqT,MAAMyP,QACd9iB,KAAK8iB,MAAQ,IAAIlY,UAAUuP,MAAMna,KAAKqT,MAAMyP,MAAO,CAClDE,SAAUhjB,KAAKgjB,SACfE,MAAOljB,KAAKkjB,MACZC,SAAUnjB,KAAKmjB,WAElB,EACAW,KAAAA,CAAMC,EAAM9Z,EAASkE,EAAO6V,GAC3B,MAAMnB,EAAU7iB,KACfikB,EAAQ,CAAA,OACIrf,IAATmf,IACHE,EAAM7e,QAAU,IAAM2e,QACTnf,IAAVuJ,IACH8V,EAAM9V,MAAQ,IAAMA,QACNvJ,IAAXof,IACHC,EAAMD,OAAS,IAAMA,GAGtB,IAAIE,GAAmB,EAKvB,MAJuB,oBAAbC,WACTD,GAAmB,GAGb,IAAIhgB,QAAQ,CAACkO,EAAQ0K,KAC3B,MAAMsH,EAAW1J,IAAI2J,UAAU,CAC9Bne,KAAM,cACNoU,MAAKA,IACG,IAAMI,IAAI4J,EAAEzB,EAAS,CAC3B0B,MAAO,UACHta,EACJ0Q,IAAK,QACL,oBAAqByJ,EAASI,SAC3BP,GAEL5Z,OAAAA,GACCrK,KAAKqT,MAAMyP,MAAMvb,MAElB,EACA2D,aAAAA,GACKlL,KAAKqT,MAAMyP,SACc,IAA5B9iB,KAAKqT,MAAMyP,MAAMrH,OAAmBrJ,EAAQpS,KAAKqT,MAAMyP,MAAMrH,QAAUqB,IACzE,EACA2H,SAAAA,GACCC,EAAQC,cAAcC,YAAYF,EACnC,IAEKA,EAAU1Z,SAAS6Z,cAAc,OAGnCX,GACHE,EAASU,IAAIX,SAAS9b,OAAOjD,QAAS,CAAC2f,OAAQ,CAACC,QAAS,QAI1D9gB,QAAAkO,UAAAjO,KAAA,WAAA,OAAA8gB,EAAA,GAAmC9gB,KAAM+gB,IACxCd,EAASU,IAAII,EAAQ9f,SACrBgf,EAASe,MAAMT,GACf1Z,SAAS+Y,KAAKnQ,YAAY8Q,MAG7B,EACA3f,SAAU,22CCpIXqgB,EAAe,CACd5Q,MAAAA,GACC,OAAQxU,KAAKqlB,QAAUrlB,KAAKqlB,OAAOjgB,QAAWpF,KAAKqlB,OAAOjgB,UAAY,IACvE,GCDD,IAAI0I,EAAQ,CAAA,EAEZ,ICEAwX,EAAe,CACdtX,WAAY,CACXD,iBACA8U,UACA0C,SCRa,CACdvX,WAAY,CACXoX,eAEDI,OAAAA,GACC,MAAO,CACNC,gBAAiBC,IACZ1lB,KAAK2lB,OAAO1f,QAAQyf,GAAa,GACpC1lB,KAAK2lB,OAAO7e,KAAK4e,IAEnBE,wBAAyB5lB,KAAK6lB,uBAEhC,EACA7iB,MAAO,CACN8iB,IAAK,CACJ5iB,KAAMoF,OACNlD,QAAS,SAGXxB,KAAIA,KACI,CACN+hB,OAAQ,KAGVhgB,SAAU,CACTogB,YAAAA,GACC,OAAO/lB,KAAK2lB,OAAO9f,OAAO,CAACC,EAAEC,KAC5B,IAAIG,EAAOH,EAAEG,MAAQ,WAYrB,OAXKJ,EAAEI,KACNJ,EAAEI,GAAQ,IACXJ,EAAEI,GAAMY,KAAKf,GAEG,YAAZA,EAAEigB,QAA2C,KAAnB9f,EAAK+f,YAAqB/f,EAAKD,QAAQ,OACpEC,EAAOA,EAAK+f,OAAO,EAAG/f,EAAKggB,YAAY,MAClCpgB,EAAEI,KACNJ,EAAEI,GAAQ,IACXJ,EAAEI,GAAMY,KAAKf,IAGPD,GACL,CAAA,EACJ,EAEAqgB,OAAAA,GACCpK,QAAQqK,KAAK,4DACb,MAAMD,EAAU9e,OAAOgf,OAAOhf,OAAOif,eAAetmB,KAAKC,QAAQkmB,SAAU9e,OAAOkf,0BAA0BvmB,KAAKC,QAAQkmB,UAMzH,OALAA,EAAQlmB,QAAU,CACjBgL,IAAKjL,KAAKiL,IACV/K,KAAMF,KAAKE,KACXsmB,sBAAuBxmB,KAAKC,QAAQumB,uBAE9BL,CACR,GAGDniB,QAAS,CACRiH,GAAAA,IAAOwb,GAON,MANsB,iBAAXA,EAAK,IAAkBA,EAAK,GAAGC,iBAAmBD,EAAK,GAAGE,YACpEF,EAAK,GAAKzmB,KAEVymB,EAAKG,QAAQ5mB,MAGTA,KAAK2S,KAIH3S,KAAK2S,KAAK1H,OAAOwb,GAHhBzmB,KAAKC,QAAQgL,OAAOwb,EAI7B,EACAvmB,IAAAA,IAAQumB,GAOP,MANsB,iBAAXA,EAAK,IAAkBA,EAAK,GAAGC,iBAAmBD,EAAK,GAAGE,YACpEF,EAAK,GAAKzmB,KAEVymB,EAAKG,QAAQ5mB,MAGTA,KAAK2S,KAIH3S,KAAK2S,KAAKzS,QAAQumB,GAHjBzmB,KAAKC,QAAQC,QAAQumB,EAI9B,EACA9d,IAAAA,CAAKwd,EAASU,GACb,OAAO7mB,KAAK2S,KAAKhK,KAAKwd,EAASU,EAAiB7mB,KACjD,EACA8mB,oBAAAA,CAAqBnB,EAAQoB,EAAUC,GACtC,OAAIrB,EAAOhf,QACVgf,EAAO1Z,QAAQ1C,GAASA,EAAMod,YAAYK,EAAOD,KAC1C,IAEJ/mB,KAAKof,YACRpf,KAAKof,UAAU4H,EAAQ,eAAiB,cAAcD,IAC/C,EAGT,EACAJ,WAAAA,CAAYK,EAAOD,GAClB,GAAI5hB,MAAM0D,QAAQke,GAAW,CAC5B,IAAIE,EAAYF,EAASvgB,OAAO0gB,GAC/BlnB,KAAK8mB,qBACJ9mB,KAAK+lB,aAAuB,UAAK,GACjCmB,EACAF,IAGF,OAAOC,EAAUtgB,OAASsgB,EAAY,IACvC,CACA,GAAwB,iBAAbF,EAAuB,CACjC,IAAIE,EAAY5f,OAAO8f,QAAQJ,GAAUvgB,OAAO,EAAEN,EAAMghB,KACvDlnB,KAAK8mB,qBACJ9mB,KAAK+lB,aAAa7f,EAAK0C,MAAM,KAAK,GAAK1C,EAAK0C,MAAM,KAAK2J,MAAM,GAAGlJ,IAAI+d,GAAK,IAAIA,MAAMC,KAAK,MAAQrnB,KAAK+lB,aAAuB,UAAK,GACjImB,EACAF,IAGF,OAAOC,EAAUtgB,OAASU,OAAOigB,YAAYL,GAAa,IAC3D,CAOA,OALgBjnB,KAAK8mB,qBACpB9mB,KAAK+lB,aAAuB,UAAK,GACjCgB,EACAC,GAEkBD,EAAW,IAC/B,EACAL,eAAAA,GACC1mB,KAAK2lB,OAAO1Z,QAAQ1C,GAASA,EAAMmd,kBACpC,EACAa,IAAAA,CAAKC,GACJ,OAAO,IAAItjB,QAAQ,CAACkO,EAAS0K,KAC5B0K,EAAQrjB,KAAKsX,IACZ,GAAsB,KAAlBA,GAAQoG,QAAiBpG,EAAO7X,KAAM,CACzC,GAA2B,iBAAhB6X,EAAO7X,OAAsB6X,EAAO7X,KAAKoN,eAAe,UAElE,OAAO8L,EAAOrB,GACf,GAAIA,EAAO7X,KAAKzD,MAEf,OAAO2c,EAAOrB,GACf,MAAM7X,EAAO6X,EAAO7X,KAAKiB,OAIzB,OAFwB,GAApB4W,EAAO7X,KAAK6jB,MACfznB,KAAK2mB,aAAY,EAAM/iB,GACjBwO,EAAQxO,EAChB,CAEAkZ,EAAOrB,KACLpX,MAAMoX,IACR,GAAgC,KAA5BA,GAAQ/W,UAAUmd,QAAiBpG,EAAO/W,SAASd,KAAM,CAC5D,GAAoC,iBAAzB6X,EAAO/W,SAASd,OAAsB6X,EAAO/W,SAASd,KAAKoN,eAAe,UAEpF,OAAO8L,EAAOrB,GACfzb,KAAK0mB,kBACL,MAAMO,EAAYjnB,KAAK2mB,aACtB,EACAlL,EAAO/W,SAASd,KAAKiB,QAEtB,GAAIoiB,EAEH,OADAxL,EAAO/W,SAASd,KAAKiB,OAASoiB,EACvBnK,EAAOrB,EAEhB,KAAO,IAAgC,KAA5BA,GAAQ/W,UAAUmd,OAM5B,OAAO/E,EAAOrB,GALd,IAAIzb,KAAKof,UAGR,OAAOtC,EAAOrB,GAFdzb,KAAKof,UAAUsI,kBAAkBjM,EAKnC,KAGH,EACAoK,sBAAAA,CAAuB3f,IACrBlG,KAAK+lB,aAAa7f,EAAK0C,MAAM,KAAK,GAAK1C,EAAK0C,MAAM,KAAK2J,MAAM,GAAGlJ,IAAI+d,GAAK,IAAIA,MAAMC,KAAK,MAAQrnB,KAAK+lB,aAAuB,UAAK,IAChI9Z,QAAQ1C,GAASA,EAAMmd,kBAC1B,GAED3hB,SAAU,mGDvKT4iB,UDPa,CACdzhB,KAAM,YACN0hB,cAAc,EACd5Z,WAAY,CACXoX,eAEDjG,OAAQ,CACP0I,eAAgB,CACfC,KAAM,kBACN1iB,QAAS,MAEVygB,uBAAwB,CACvBiC,KAAM,0BACN1iB,QAAS,OAGXpC,MAAO,CACN+kB,WAAY5kB,QACZ6kB,YAAa7kB,QACb8kB,WAAY9kB,QACZ+kB,WAAY/kB,QACZD,KAAMoF,OACNpC,KAAMoC,OACN6f,eAAgB,CAAC7f,OAAQnD,MAAOkC,QAChC8B,MAAOb,OAEP8f,QAAS,CAACjjB,MAAO7B,UACjB,sBAAuB,CAAC6B,MAAO7B,WAEhCM,KAAIA,KACI,CACNojB,WAAOpiB,EACPmiB,SAAU,GACVsB,qBAAiBzjB,IAGnBe,SAAU,CACT2iB,YAAAA,GACC,IAAKtoB,KAAK+nB,WACT,OAAO,EACR,GAAI/nB,KAAKmoB,eACR,OAAO,EACR,IAAK,MAAMI,KAAQvoB,KAAKwoB,mBACvB,GAAInhB,OAAOohB,OAAOzoB,KAAKwoB,mBAAoBD,GAC1C,OAAO,EACT,OAAO,CACR,EACAG,GAAAA,GACC,OAAK1oB,KAAKmoB,eAEyB,iBAAxBnoB,KAAKmoB,gBAA+BnoB,KAAKmoB,0BAA0B7f,OACtEtI,KAAKmoB,eAAevf,MAAM,KAAK/C,OAAO,CAACC,EAAEC,KAAOD,EAAEC,IAAK,EAAaD,GAAI,CAAA,GAC5EX,MAAM0D,QAAQ7I,KAAKmoB,gBACfnoB,KAAKmoB,eAAetiB,OAAO,CAACC,EAAEC,KAAOD,EAAEC,IAAK,EAAaD,GAAI,CAAA,GAC9D9F,KAAKmoB,eALJ,CAAA,CAMT,EACAK,kBAAAA,GACC,GAAIxoB,KAAKgoB,YACR,OAAOhoB,KAAK0oB,IAEb,MAAMA,EAAM,IAAI1oB,KAAK0oB,KAarB,OAXI1oB,KAAKkoB,aACRQ,EAAI,qBAAsB,GAER,SAAf1oB,KAAKgmB,QAAoC,YAAfhmB,KAAKgmB,SAClC0C,EAAI,eAAgB,GAEjB1oB,KAAKkoB,YAAcQ,EAAI,gBAC1BA,EAAI,qBAAsB,EAC1BA,EAAI,eAAgB,EACpBA,EAAI,qBAAsB,GAEpBA,CACR,EACA1C,MAAAA,GACC,OAAKhmB,KAAKkD,KAEHlD,KAAKkD,KAAK8C,cADT,MAET,EACA8f,GAAAA,GACC,OAAQ9lB,KAAKgmB,QACZ,IAAK,WACL,IAAK,SACJ,OAAOhmB,KAAKgmB,OACb,IAAK,aACJ,MAAO,gBACR,IAAK,eACJ,MAAO,iBACR,IAAK,cACJ,MAAO,cACR,IAAK,aACL,IAAK,YACJ,MAAO,YACR,QACC,MAAO,QAEV,EACA2C,eAAAA,GACC,MAAMC,EAAU,GAMhB,GALI5oB,KAAKgnB,MACR4B,EAAQ9hB,KAAK,aACU,IAAf9G,KAAKgnB,OACb4B,EAAQ9hB,KAAK,eAET9G,KAAKgoB,YAAa,CACtB,IAAIjiB,EAAI/F,KAAK6oB,OAAOtE,MAAQvkB,KAAK6oB,OAAOtE,MAAM3b,MAAM,KAAO,GAC3D,OAAQ5I,KAAKgmB,QAEZ,IAAK,SACCjgB,EAAE0D,SAAS,gBACfmf,EAAQ9hB,KAAK,eACd,MACD,IAAK,QACCf,EAAE0D,SAAS,eACfmf,EAAQ9hB,KAAK,cACd,MACD,IAAK,QACL,IAAK,WAECf,EAAE0D,SAAS,qBAAwB1D,EAAE0D,SAAS,cAClDmf,EAAQ9hB,KAAK,oBACd,MACD,IAAK,QACCf,EAAE0D,SAAS,uBACfmf,EAAQ9hB,KAAK,sBACTf,EAAE0D,SAAS,iBACfmf,EAAQ9hB,KAAK,gBACd,MACD,IAAK,eACL,IAAK,aACJ8hB,EAAQ9hB,KAAK,OACb8hB,EAAQ9hB,KAAK,YACRf,EAAE0D,SAAS,iBACfmf,EAAQ9hB,KAAK,gBACd,MACD,IAAK,OACL,IAAK,SACL,IAAK,WACL,IAAK,WACCf,EAAE0D,SAAS,iBACfmf,EAAQ9hB,KAAK,gBAGjB,CAEA,OAAO8hB,CACR,EACAE,aAAAA,GACC,OAAK9oB,KAAK+mB,WAA8B,IAAlB/mB,KAAK+mB,SAEtB/mB,KAAK+nB,WAKH,CACN,kBAAiC,IAAf/nB,KAAKgnB,MACvB,oBAAmC,IAAfhnB,KAAKgnB,OANlB,CACN,iBAAgC,IAAfhnB,KAAKgnB,MACtB,mBAAkC,IAAfhnB,KAAKgnB,OAJlB,EAUT,EACA+B,cAAe,CACd9d,GAAAA,GACC,OAAKjL,KAAK6oB,OAAO7X,eAAe,cAEzBhR,KAAK6oB,OAAOG,WADXhpB,KAAKqoB,eAEd,EACA7d,GAAAA,CAAIxB,GACEhJ,KAAK6oB,OAAO7X,eAAe,gBAC/BhR,KAAKqoB,gBAAkBrf,GACxBhJ,KAAK2E,MAAM,oBAAqBqE,EACjC,GAEDigB,KAAAA,GACC,IAAI5Z,EAAOrP,KAAK6oB,OAAO7T,GAKvB,GAJmB,cAAfhV,KAAKgmB,SACR3W,EAAOrP,KAAK6oB,OAAOvnB,MACf+N,GAAQrP,KAAKmJ,QACjBkG,EAAO,kBACHA,EAML,MAJmB,cAAfrP,KAAKgmB,SACR3W,EAAO,YAAcA,QACFzK,IAAhBkJ,EAAMuB,KACTvB,EAAMuB,GAAQ,GACRA,EAAO,IAAOvB,EAAMuB,IAC5B,GAEDrL,QAAS,CACR0iB,eAAAA,GACC1mB,KAAKgnB,WAAQpiB,EACb5E,KAAK+mB,SAAW,EACjB,EACAmC,0BAAAA,QACoBtkB,IAAf5E,KAAKgnB,QAELhnB,KAAK6lB,wBAA0B7lB,KAAKkG,KACvClG,KAAK6lB,uBAAuB7lB,KAAKkG,MAEjClG,KAAK0mB,kBACP,EACAC,WAAAA,CAAYK,EAAOD,GAOlB,GANKA,IACJA,EAAW,IACP5hB,MAAM0D,QAAQke,KAClBA,EAAW,CAACA,IACb/mB,KAAKgnB,MAAQA,EAEThnB,KAAKkG,OAAwB,SAAflG,KAAKgmB,QAAoC,YAAfhmB,KAAKgmB,QAAuB,CACvE,MAAMmD,EAAW,eAAiBnpB,KAAKgmB,OAAS,YAAchmB,KAAKkG,KAAO,KAC1E,GAAI,IAAIlG,KAAKopB,IAAIC,WAAWC,iBAAiBH,IAAW7N,OAAStb,KAAKqT,MAAM9J,MAC3E,MACF,CACAvJ,KAAK+mB,SAAWA,CACjB,EACAwC,eAAAA,GACiB,iBAAZvpB,KAAK8lB,KAA2B9lB,KAAKwpB,EAAExb,WAAWyb,cAE/B,kBAAZzpB,KAAK8lB,KAA4B9lB,KAAKwpB,EAAExb,WAAW0b,eAEvC,eAAZ1pB,KAAK8lB,KAAyB9lB,KAAKwpB,EAAExb,WAAW2b,YAEpC,aAAZ3pB,KAAK8lB,KAAuB9lB,KAAKwpB,EAAExb,WAAW4b,YACxD5pB,KAAKwpB,EAAExb,WAAW4b,UAAYlP,IAAImP,qBAAqB,IAAM3lB,gDAF7DlE,KAAKwpB,EAAExb,WAAW2b,YAAcjP,IAAImP,qBAAqB,IAAM3lB,+CAF/DlE,KAAKwpB,EAAExb,WAAW0b,eAAiBvF,SAAS2F,aAF5C9pB,KAAKwpB,EAAExb,WAAWyb,cAAgB/O,IAAImP,qBAAqB,IAAME,OAAO,mEAQ1E,GAEDC,WAAAA,GACChqB,KAAKupB,iBACN,EACAU,YAAAA,GACCjqB,KAAKupB,iBACN,EACAlf,OAAAA,GACKrK,KAAK6nB,gBACR7nB,KAAK6nB,eAAe7nB,KACtB,EACA+E,SAAU,i2ICpOVoa,OAAQ,CACP+K,QAAS,CACRpC,KAAM,YAGR9kB,MAAO,CACNmnB,SAAU,CACTjnB,KAAMmE,OACNhE,UAAU,GAEX+mB,OAAQ9hB,OACR0M,GAAI,CACH9R,KAAM,CAAC+b,OAAQ3W,QACfjF,UAAU,GAEX/B,IAAK,CACJ4B,KAAM,CAAC+b,OAAQ3W,QACfjF,UAAU,GAGXgnB,oBAAqB,CACpBnnB,KAAMiC,MACNC,QAAS,MAMVklB,sBAAuBnnB,SAExBS,IAAAA,GACC,MAAO,CACN0K,iBAAkB,CACjBic,QAAS,QACTC,gBAAiBA,IAAMxqB,KAAK2S,KAAKhK,KAChC3I,KAAKmqB,SAAShI,qBAAqBniB,KAAKoqB,OAAQpqB,KAAKgV,GAAKhV,KAAKsqB,sBAAwBtqB,KAAKqqB,oBAAsB,OAEnHI,aAAcA,CAAC1qB,EAAKY,EAAQ+D,IAAaA,EAASd,KAClDyB,QAAS,CACR,CAAC8I,MAAO,SAAUzG,MAAO,SAAUgjB,MAAO,KAC1C,CAACvc,MAAO,WAAYzG,MAAO,YAAa+E,SAAS,GACjD,CAAC0B,MAAO,MAAOzG,MAAO,oBAAqBgjB,MAAO,KAClD,CAACvc,MAAO,YAAazG,MAAO,YAAa+E,SAAS,GAClD,CACC0B,MAAO,cACPzG,MAAO,WACPgjB,MAAO,IACPthB,UAAW,SAAUuhB,GACpB,MAAMC,EAAUD,EAAKE,WACrB,IAAKD,EAAS,MAAO,GAGrB,OADa,IAAIE,KAAKF,GACVG,eAAe,QAAS,CACnCC,IAAK,UACLjqB,MAAO,UACPD,KAAM,UACNmqB,QAAQ,GAEV,GAED,CAAC9c,MAAO,eAAgBzG,MAAO,gBAC/B,CAACyG,MAAO,MAAOzG,MAAO,MAAOgjB,MAAO,IACpC,CAACvc,MAAO,UAAWzG,MAAO,UAAW+E,SAAS,GAC9C,CACC0B,MAAO,eACPzG,MAAO,eACPgjB,MAAO,IACPje,SAAS,EACTrD,UAAW,SAAUuhB,GACpB,MAAMC,EAAUD,EAAKE,WACrB,IAAKD,EAAS,MAAO,GAGrB,OADa,IAAIE,KAAKF,GACVG,eAAe,QAAS,CACnCC,IAAK,UACLjqB,MAAO,UACPD,KAAM,UACNmqB,QAAQ,GAEV,GAED,CAAC9c,MAAO,oBAAqBzG,MAAO,oBAAqB+E,SAAS,GAClE,CAAC0B,MAAO,0BAA2BzG,MAAO,0BAA2B+E,SAAS,GAC9E,CACC0B,MAAO,WAAYzG,MAAO,UAC1BwjB,SAAU,IACVC,SAAU,IACV/hB,UAAWA,CAACuhB,EAAMS,EAAiBC,KAClC,IAAIC,EAAYtgB,SAAS6Z,cAAc,OACvCyG,EAAUC,UAAY,eAEtB,IAAIC,EAASxgB,SAAS6Z,cAAc,UACpC2G,EAAOD,UAAY,uCACnBC,EAAOC,UAAY,8BACnBD,EAAOrd,MAAQnO,KAAKiS,GAAGE,EAAE,iBAAkB,mCAC3C,IAAIuZ,EAAWf,EAAKgB,UAkCpB,OAjCAH,EAAOzgB,iBACN,QACCwI,IAEA,IAAIqY,EAAY5rB,KAAKkqB,QACpB,6EAA+EwB,EAASnJ,wBAA0B,cAEnH7Y,OAAOa,KAAKqhB,EAAW,YAEzBN,EAAUO,OAAOL,GAEjBA,EAASxgB,SAAS6Z,cAAc,UAChC2G,EAAOD,UAAY,uCACnBC,EAAOC,UAAY,6BACnBD,EAAOrd,MAAQnO,KAAKiS,GAAGE,EAAE,iBAAkB,0BAC3CqZ,EAAOzgB,iBACN,QACCwI,GACAvT,KAAK8rB,yBAAyBnB,EAAKgB,UAAUpJ,0BAE/C+I,EAAUO,OAAOL,GAEjBA,EAASxgB,SAAS6Z,cAAc,UAChC2G,EAAOD,UAAY,uCACnBC,EAAOC,UAAY,8BACnBD,EAAOrd,MAAQnO,KAAKiS,GAAGE,EAAE,iBAAkB,4BAC3CqZ,EAAOzgB,iBACN,QACA,IACC/K,KAAK+rB,2BAA2BpB,EAAKgB,UAAUpJ,0BAEjD+I,EAAUO,OAAOL,GAEVF,GAER3e,QAAQ,IAEViG,OAAQ,aACRoZ,wBAAwB,EACxBhZ,OAAQ,MACRiZ,cAAe,uBAEhB1d,gBAAiB,CAChB,CACCgF,MAAO,aACPC,QAASqJ,gBAEF7c,KAAKiS,GAAGC,aAAa,CAAC,OAAQ,SAAU,aAAc,iBAAkB,WAE9E,IAAIga,EAAKlsB,KAAKqT,MAAM1H,MAAMvD,UAAU+jB,cAEpCD,EAAGE,iBAAiB,UAAU1G,UAAU2G,iBAAiB,CACxDle,MAAOnO,KAAKiS,GAAGE,EAAE,OAAQ,YAE1B+Z,EAAGE,iBAAiB,qBAAqB1G,UAAU2G,iBAAiB,CACnEle,MAAOnO,KAAKiS,GAAGE,EAAE,SAAU,SAE5B+Z,EAAGE,iBAAiB,aAAa1G,UAAU2G,iBAAiB,CAC3Dle,MAAOnO,KAAKiS,GAAGE,EAAE,SAAU,eAE5B+Z,EAAGE,iBAAiB,YAAY1G,UAAU2G,iBAAiB,CAC1Dle,MAAOnO,KAAKiS,GAAGE,EAAE,OAAQ,iBAE1B+Z,EAAGE,iBAAiB,gBAAgB1G,UAAU2G,iBAAiB,CAC9Dle,MAAOnO,KAAKiS,GAAGE,EAAE,SAAU,kBAE5B+Z,EAAGE,iBAAiB,WAAW1G,UAAU2G,iBAAiB,CACzDle,MAAOnO,KAAKiS,GAAGE,EAAE,aAAc,aAEhC+Z,EAAGE,iBAAiB,gBAAgB1G,UAAU2G,iBAAiB,CAC9Dle,MAAOnO,KAAKiS,GAAGE,EAAE,OAAQ,kBAE1B+Z,EAAGE,iBAAiB,qBAAqB1G,UAAU2G,iBAAiB,CACnEle,MAAOnO,KAAKiS,GAAGE,EAAE,KAAM,uBAExB+Z,EAAGE,iBAAiB,2BAA2B1G,UAAU2G,iBAAiB,CACzEle,MAAOnO,KAAKiS,GAAGE,EAAE,KAAM,6BAExB+Z,EAAGE,iBAAiB,aAAa1G,UAAU2G,iBAAiB,CAC3Dle,MAAOnO,KAAKiS,GAAGE,EAAE,SAAU,eAE5B+Z,EAAGE,iBAAiB,OAAO1G,UAAU2G,iBAAiB,CACrDle,MAAOnO,KAAKiS,GAAGE,EAAE,SAAU,YAK/Bma,sBAAuB,GACvBC,SAAU,CACTC,aAAe,IAAI1B,KACnB2B,kBAAmB,iBAEpBC,WAAW,EACXC,iBAAkB,GAEpB,EACAnpB,MAAO,CACNwR,EAAAA,GACChV,KAAKqT,MAAM1H,MAAMkG,aAClB,GAED7N,QAAS,CACR8nB,wBAAAA,CAAyBvJ,GACxBviB,KAAK0sB,WAAY,EACjB1sB,KACEsiB,mBAAmBC,GACnBpe,KAAKnE,KAAKqT,MAAMuZ,oBAAoBrlB,KACvC,EACAslB,uBAAAA,GACC7sB,KAAK8sB,aACL9sB,KAAKqT,MAAMuZ,oBAAoBrlB,MAChC,EACAwkB,0BAAAA,CAA2BxJ,GAC1BviB,KAAKof,UACH2N,gBACA5oB,KAAKsX,GAAUA,EACb8G,EACAre,QAAQ4Y,OAAO,CAACkQ,SAAS,KAC3B7oB,KAAKoe,GAA2BviB,KAAK2S,KAAKhK,KAC1C3I,KAAKmqB,SAAS1H,qBAAqBF,KAEnCpe,KAAKsX,IACLzb,KAAKof,UAAUwB,aAAa5gB,KAAKiS,GAAGE,EAAE,KAAM,kBAC5CzI,OAAOujB,SAAS,EAAG,GACnBjtB,KAAK0O,WAELrK,MAAMrE,KAAKof,UAAUsI,kBACxB,EACArF,oBAAAA,GAKC,OAHAriB,KAAKusB,SAASjrB,IAAMtB,KAAKsB,IACc,YAAnCtB,KAAKusB,SAASE,oBACjBzsB,KAAKusB,SAASW,kBAAoBltB,KAAKusB,SAASY,cAAcD,mBACxDltB,KAAKqT,MAAM+Z,mBAChBzkB,KAAK3I,KAAKmqB,SAAS9H,qBAAqBriB,KAAKgV,GAAIhV,KAAKusB,WACtDpoB,KAAKO,IACL1E,KAAKof,UAAUwB,aAAa5gB,KAAKiS,GAAGE,EAAE,KAAM,gBAC5CnS,KAAKqT,MAAMuZ,oBAAoBtlB,OAC/BtH,KAAK8sB,aACLpjB,OAAOujB,SAAS,EAAG,GACnBjtB,KAAK0O,WAELrK,MAAMrE,KAAKof,UAAUsI,kBACxB,EACAlF,oBAAAA,CAAqBD,GAGpB,MAFuC,YAAnCviB,KAAKusB,SAASE,oBACjBzsB,KAAKusB,SAASW,kBAAoBltB,KAAKusB,SAASY,cAAcD,mBACxDltB,KAAKqT,MAAM+Z,mBAChBzkB,KAAK3I,KAAKmqB,SAAS3H,qBACnBD,EACAviB,KAAKusB,WAELpoB,KAAKO,IACL1E,KAAKof,UAAUwB,aAAa5gB,KAAKiS,GAAGE,EAAE,KAAM,gBAC5CnS,KAAKqT,MAAMuZ,oBAAoBtlB,OAC/BtH,KAAK8sB,aACLpjB,OAAOujB,SAAS,EAAG,GACnBjtB,KAAK0O,WAELrK,MAAMrE,KAAKof,UAAUsI,kBACxB,EACApF,kBAAAA,CAAmBC,GAGlB,OAFAviB,KAAK8sB,aACL9sB,KAAK0sB,WAAY,EACV1sB,KAAK2S,KACVhK,KAAK3I,KAAKmqB,SAAS7H,mBAAmBC,IACtCpe,KAAKsX,IACLzb,KAAKusB,SAAW9Q,EAAO7X,OAEvBS,MAAMrE,KAAKof,UAAUsI,kBACxB,EACA2F,cAAAA,CAAe9Z,GACd,MAAM+Z,EAAeC,mBAAmBha,EAAMqP,OAC9C,OAAO5iB,KAAK2S,KACVhK,KAAK3I,KAAKmqB,SAASxH,kBAAkB2K,IACrCnpB,KAAKsX,IACLzb,KAAK2sB,iBAAmBlR,EAAO7X,MAElC,EACA8K,MAAAA,GACC1O,KAAKqT,MAAM1H,MAAMkG,aAClB,EACAib,UAAAA,GACC9sB,KAAKusB,SAAW,CAAA,EAChBvsB,KAAKusB,SAASC,aAAe,IAAI1B,KACjC9qB,KAAKusB,SAASiB,SAAW,KACzBxtB,KAAKusB,SAASE,kBAAoB,KAClCzsB,KAAKusB,SAASkB,OAAS,KACvBztB,KAAKusB,SAASmB,QAAU,KACxB1tB,KAAKusB,SAASoB,QAAU,KACxB3tB,KAAKusB,SAASvL,UAAY,KAC1BhhB,KAAKusB,SAASqB,aAAe,KAC7B5tB,KAAK0sB,WAAY,CAClB,GAED3oB,OAAAA,GACC,OAAO/D,KAAK2S,KACVhK,KAAK3I,KAAKmqB,SAASzH,uBAAuB1iB,KAAKqqB,sBAC/ClmB,KAAKsX,IACLzb,KAAKssB,sBAAwB7Q,EAAO7X,OAEpCS,MAAMrE,KAAKof,UAAUsI,kBACxB,EACA3iB,SAAU,ggKExTX8oB,EAAe,CACdC,gBAAgBC,IACR,CACNrtB,OAAQ,MACRX,IAAK,qFAAqFguB,MAG5FC,eAAeD,IACP,CACNrtB,OAAQ,MACRX,IAAK,oFAAoFguB,MAG3FE,YAAWA,KACH,CACNvtB,OAAQ,MACRX,IAAK,+ECbD,MAAMmuB,EAAa,CACzBhoB,KAAM,aACHlD,MAAO,CACLgP,YAAa1J,OACb6lB,YAAa7lB,OACbylB,GAAIzlB,QAENvF,MAAO,CAAC,eACRuX,KAAAA,CAAMtX,GAAOuX,KAAEA,IAEb,MAAM6T,EAAU1T,IAAIC,IAAI,IAClB4E,EAAa7E,IAAIC,KAAI,GACrB0T,EAAQ3T,IAAI2E,OAAOrc,GAAO+qB,GAC1B5mB,EAAWuT,IAAIC,MACfhI,EAAO+H,IAAIyE,OAAO,QAwBxBzE,IAAIE,UAAU,KAtBIiC,WAChB0C,EAAWjZ,OAAQ,EACnB,IAIE,MAAMmL,QAAYkB,EAAKhK,KAAKklB,EAAaI,eACzCG,EAAQ9nB,MAAQmL,EAAI7N,KAChBwqB,EAAQ9nB,MAAMK,OAAS,KAET/B,MAAZ5B,EAAM+qB,IAAgC,MAAZ/qB,EAAM+qB,IAA0B,IAAZ/qB,EAAM+qB,MACtD5mB,EAASb,MAAQ8nB,EAAQ9nB,MAAM,GAAGgoB,WAEpC/T,EAAK,cAAepT,EAASb,QAE/BiZ,EAAWjZ,OAAQ,CACrB,CAAE,MAAOnG,GACP4b,QAAQ8D,IAAI1f,GACZof,EAAWjZ,OAAQ,CACrB,GAIAioB,KAeF,OARA7T,IAAIlX,MACF6qB,EACA,CAAClS,EAAKqS,KACJzS,QAAQ8D,IAAI,qBAAsB1D,GAClChV,EAASb,MAAQ6V,IAIZ,CACPiS,UAASjnB,WAETsnB,YAfmBhV,IACnBc,EAAK,cAAed,EAAE/O,OAAOpE,QAkBjC,EACAvB,SAAU,8TCjEd,IAAA2pB,EAAe,CACbC,oBAAAA,CAAqBnoB,GACnB,IAAIzG,EAAM,4FAIV,OAHI,MAAOyG,IACPzG,EAAMA,EAAM,IAAMyG,GAEf,CACR9F,OAAQ,MACRX,MAGD,EACA6uB,oBAAoBC,IAGX,CACRnuB,OAAQ,MACRX,IAJW,sFACM8uB,IAMlBC,kBAAkBC,IAGT,CACRruB,OAAQ,MACRX,IAJW,oFACMgvB,IAMlBC,oBAAmBA,CAACC,EAAiBJ,KAG5B,CACRnuB,OAAQ,MACRX,IAJW,4FACMkvB,EAAkB,IAAMJ,IAM1CK,oBAAoBD,IAGX,CACRvuB,OAAQ,MACRX,IAJW,4FACMkvB,IAMlBE,gBAAeA,KAEN,CACRzuB,OAAQ,MACRX,IAHW,0FCtCP,MAAMqvB,EAAc,CAC1BlpB,KAAM,cACH8H,WAAY,CACRmM,QACAuC,cACAwR,aACAmB,WAAc5F,eAElBzmB,MAAO,CACHgmB,WAAY,CAAE9lB,KAAMmE,OAAQjC,QAASA,KAAAA,CAAS,GAAG/B,UAAU,GAC3DgF,OAAQ,CAAEnF,KAAMmE,OAAQjC,QAASA,KAAAA,CAAS,GAAG/B,UAAU,GACvDisB,aAAc,CAAEpsB,KAAMC,QAASE,UAAU,EAAO+B,SAAS,GACzD4Z,SAAU,CAAE9b,KAAM+b,OAAQ5b,UAAU,GACpCksB,UAAW,CAAErsB,KAAMoF,OAAQjF,UAAU,GACrC6b,gBAAiB,CAAEhc,KAAMC,QAASE,UAAU,IAEhDN,MAAO,CAAC,gBACRuX,KAAAA,CAAOtX,GAAOuX,KAAEA,IAEZ,MAAM5H,EAAO+H,IAAIyE,OAAO,QAClBC,EAAY1E,IAAIyE,OAAO,aAEvBQ,EAAWjF,IAAIC,KAAI,IAEnBxI,EAAEA,GAAMsK,IAGR+S,EAAkB9U,IAAI/U,SAAS,IAAe3C,EAAMgc,UACpDyQ,EAAmB/U,IAAI/U,SAAS,IAAe3C,EAAMusB,WAErDG,EAAYhV,IAAIC,MAEhB4E,EAAa7E,IAAIC,KAAI,GAErBgV,EAAWjV,IAAI/U,SAAS,CAC1BsF,IAAKA,IAAMjI,EAAMgmB,WACjBxe,IAAMlE,GAAUiU,EAAK,oBAAqBjU,KAGxCuoB,EAAcnU,IAAIC,MAClBiV,EAAkBlV,IAAIC,IAAI,IAC1BkV,EAAqBnV,IAAIC,IAAI,IAC7BmV,EAAcpV,IAAIC,IAAI,CAAC,CAACrU,MAAO,GAAI6C,MAAO,OAE1C4mB,EAAerV,IAAIC,KAAI,GAEvBhP,EAAQ+O,IAAIC,IAAI,MAChBvS,EAAYsS,IAAIC,IAAI,MACpBqV,EAAYtV,IAAI0F,SAAS,IAGlBvK,2BAA2BuG,SAAWvG,2BAA2BwG,UAC9E,MAAM4T,GAAiC,IAAvBjtB,EAAMssB,aAA0BY,UAAUC,WAAa,KAEjEC,EAAuBA,CAACC,EAAOC,IAE1BD,EAAMxqB,OAAO,CAACmV,EAAKiH,KACjB,IACFjH,EACH,CAACiH,EAAKqO,IAAOrO,IAJI,CAAA,GASnBte,EAAYkZ,UACd,GAA2B,MAAvB2S,EAAgBlpB,OAAwC,MAAzBqpB,EAASrpB,MAAM0Y,SAAlD,CAIAO,EAAWjZ,OAAQ,EAGnB,IACI,MAAM5B,QAAiBiO,EAAKhK,KAAK+lB,EAAYQ,oBAAoBS,EAASrpB,MAAMipB,WAAaE,EAAiBnpB,QAC9G,GAA2B,WAAxB5B,EAASkd,KAAKC,OAAqB,CAClC,IAAI0O,EAAU,GACdP,EAAU1pB,MAAQ,GAClBspB,EAAgBtpB,MAAQ8pB,EAAqBG,EAAS,sBAC1D,KAAO,CACH,IAAIA,EAAU7rB,EAASd,KACvBosB,EAAU1pB,MAAQ5B,EAASd,KAC3BgsB,EAAgBtpB,MAAQ8pB,EAAqBG,EAAS,sBAC1D,CACJ,CAAE,MAAOpwB,GACL4b,QAAQ8D,IAAI1f,EAChB,CAAC,QACGof,EAAWjZ,OAAQ,CACvB,CAnBA,MAFIspB,EAAgBtpB,MAAQ,IAyB1BkqB,EAAcA,KACT,CACH5R,oBAAqB,EACrBtd,IAAKquB,EAASrpB,MAAMipB,WAAaE,EAAiBnpB,MAClDgoB,UAAW,GACXmC,gBAAiB,GACjBC,UAAW,GACXC,UAAW,GACXC,YAAa,GACbC,cAAe,IAIjBjR,EAAelF,IAAIC,IAAI6V,KACvBM,EAAiBpW,IAAIC,IAAI6V,KAE/B9V,IAAIlX,MAAM,CAACgsB,EAAiBC,GAAmB,EAAEza,EAAG1T,MAChDqC,MAGJ+W,IAAIlX,MAAMqrB,EAAckC,IACpBC,EAAcD,GACdE,MAsBJvW,IAAIE,UAAUiC,UACV+C,EAAatZ,MAAQkqB,UACf7sB,IAEN,MAAMutB,EAAiBvG,GACZA,EAAKE,YAAYnP,QAAQ,iBAAkB,YAYhDyV,EAAkBA,CAACC,EAAYC,KACjC,MAAMC,EAAUtmB,SAAS6Z,cAAc,UACjC0M,EAAevmB,SAASwmB,gBAAgB,SAC9CD,EAAajrB,MAAQ,mCACrBgrB,EAAQG,iBAAiBF,GACzBD,EAAQvmB,iBAAiB,QAASsmB,GAClC,MAAMK,EAAQ1mB,SAAS6Z,cAAc,KAC/B8M,EAAa3mB,SAASwmB,gBAAgB,SAI5C,OAHAG,EAAWrrB,MAAQ8qB,EACnBM,EAAMD,iBAAiBE,GACvBL,EAAQ1d,YAAY8d,GACbJ,GAGLM,EAAgBjH,IAElB,MAAMkH,EAAU7mB,SAAS6Z,cAAc,OACjCiN,EAAe9mB,SAASwmB,gBAAgB,SAC9CM,EAAaxrB,MAAQ,0DACrBurB,EAAQJ,iBAAiBK,GAEzB,MAAMC,EAAaZ,EAAgB,cAAc,KAAQ3P,EAAgBmJ,EAAKE,cAExEmH,EAAcb,EAAgB,YAAY,KAAQrQ,EAAc6J,EAAKE,cAO3E,OAL8D,OAA1DF,EAAKsH,SAAStG,UAAUuG,gCACxBL,EAAQje,YAAYoe,GACpBH,EAAQje,YAAYme,IAGjBF,GAILM,EAAa,CACf,CAAEhkB,MAAOgE,EAAE,SAAS,kBAAmBzK,MAAO,gCAAiC0B,UA5C9DuhB,IACjB,IAA2B,IAAvB3nB,EAAMssB,aACN,OAA2B,MAAnB3E,EAAKE,WAAsBF,EAAKE,WAAa,GAEzD,MAAM9qB,EAAMqyB,EAAWnC,EAAMtvB,OAAOqU,GAAK,IAAMib,EAAMtvB,OAAOW,IAAM,aAAeqpB,EAAKsH,SAAStG,UAAU0G,qBACzG,OAA0B,MAAnB1H,EAAKE,WAAqB,YAAY9qB,MAAU4qB,EAAKE,WAAa,OAAS,IAuCqByH,OAAO,SAAUhiB,aAAa,OAAQiiB,mBAAoB,CAACC,cAAa,EAAM1I,cAAa,EAAMzZ,KAAK,QAC7M,CAAElC,MAAOgE,EAAE,SAAS,wBAAyBzK,MAAO,wBAAyB+qB,SAAU,OAAQniB,aAAa,OAAQiiB,mBAAoB,CAACC,cAAa,EAAM1I,cAAa,EAAMzZ,KAAK,QACpL,CAAElC,MAAOgE,EAAE,QAAQ,wBAAyBzK,MAAO,yBAA0B4I,aAAa,OAAQiiB,mBAAoB,CAACC,cAAa,EAAM1I,cAAa,EAAMzZ,KAAK,QAClK,CAAElC,MAAOgE,EAAE,SAAS,iBAAkBzK,MAAO,gBAAiB+qB,SAAU,QAAS/H,MAAO,IAAKpa,cAAa,GAC1G,CAAEnC,MAAOgE,EAAE,KAAK,QAASzK,MAAO,YAAa+qB,SAAU,SAAUrpB,UAAW8nB,EAAexG,MAAO,IAAK4H,OAAO,SAAUhiB,cAAa,EAAMoiB,iBAAiBC,GAC5J,CAAExkB,MAAOgE,EAAE,SAAS,OAAQzK,MAAO,YAAa+qB,SAAU,SAAUrpB,UAAW8nB,EAAexG,MAAO,IAAK4H,OAAO,SAAUhiB,cAAa,EAAMoiB,iBAAiBC,GAC/J,CAAExkB,MAAOgE,EAAE,KAAK,eAAgBzK,MAAO,cAAe+qB,SAAU,OAAQniB,aAAa,OAAQiiB,mBAAoB,CAACC,cAAa,EAAM1I,cAAa,EAAMzZ,KAAK,UAGtI,IAAvBrN,EAAMssB,cACN6C,EAAWrrB,KAAK,CAAEqH,MAAO,GAAIzG,MAAO,sBAAuB0B,UAAWwoB,EAAca,SAAU,QAAS/H,MAAO,IAAKkI,YAAY,EAAOjmB,QAAQ,IAGlJ,IAAI2B,EAAmB,CAC/B0E,OAAQ,OACRJ,OAAQ,aACRC,gBAAgB,EAChBggB,cAAc,EACFxtB,QAAS8sB,EAETvuB,KAAMkvB,EAAqBxsB,OAQ/B,SAASqsB,EAAmBI,EAAaC,EAAUC,EAASC,GAMxD,MAIMC,EAAQ,IAAIrI,KAAKkI,GACvBG,EAAMC,SAAS,EAAE,EAAE,EAAE,GACrB,IAAKpI,EAAKjqB,EAAOD,GAAQiyB,EAAYnqB,MAAM,KAC3C,GAAI9H,EAAO,IAAM,OAAO,EACxB,MAAMuyB,EAAQ,IAAIvI,MAAMhqB,GAAOC,EAAQ,GAAIiqB,GAE3C,QAV2B5pB,EAUPiyB,EATTjyB,aAAa0pB,MAAQwI,SAASlyB,IASRiyB,EAAQF,GAAU,GAVjC,IAAS/xB,CAW/B,CAtBAgH,EAAU9B,MAAQ,IAAI+E,UAC9BM,EAAMrF,MACNgI,GAsBQlG,EAAU9B,MAAMgN,GAAG,aAAc,UAOrC,MAAMwf,EAAuBpY,IAAI/U,SAAS,KAC1BiqB,EAAgBtpB,MAAQe,OAAO0Y,OAAO6P,EAAgBtpB,OAAS,IACvDE,OAAQiT,IAASsW,EAAazpB,OAAUypB,EAAazpB,OAASmT,EAAE8Z,QAIlFC,EAAkBhW,IACpB,IAAIrL,EAAI2gB,EAAqBxsB,MAAME,OAAQyb,GAASA,EAAKwO,iBAAmBjT,GAC5E,OAAOrL,EAAExL,OAAS,EAAIwL,EAAE,GAAGye,YAAc,IAI7ClW,IAAIlX,MAAMsvB,EAAsB,CAACW,EAAQC,KACrCtrB,EAAU9B,OAAOwL,QAAQghB,EAAqBxsB,QAC/C,CAACqtB,MAAM,IAGV,MAAM3T,EAAWtF,IAAIC,MAYfsF,EAAYA,KACdD,EAAS1Z,MAAMgB,QAGbwZ,EAAgBjE,UAClB+C,EAAatZ,MAAQ,IAAKspB,EAAgBtpB,MAAM0O,IAEhDuK,EAAWjZ,OAAQ,EACnB,IACI,MAAMmL,QAAYkB,EAAKhK,KAAK+lB,EAAYI,kBAAkBlP,EAAatZ,MAAMgoB,YACtD,WAAnB7c,EAAImQ,KAAKC,OACTgN,EAAYvoB,MAAQmL,EAAI7N,KAAK,GAAG0qB,UAEhCvS,QAAQ8D,IAAI,+BAGpB,CAAE,MAAO1f,GACLif,EAAUsI,kBAAkBvnB,EAChC,CAAC,QACKof,EAAWjZ,OAAQ,CACzB,CAEA0Z,EAAS1Z,MAAMiB,QAGbia,EAAkB3E,UAGpB,GAFA+C,EAAatZ,MAAQ,IAAKspB,EAAgBtpB,MAAM0O,KAMrC,UAJDoK,EAAUqC,QAAQ,CACpB3c,QAASqN,EAAE,SAAS,YAAc,IAAMqhB,EAAe5T,EAAatZ,OAAOmqB,iBAAmB,MAAQmD,EAAWhU,EAAatZ,OAAOoqB,WAAa,KAAuC,MAAhC9Q,EAAatZ,MAAMqqB,UAAoBiD,EAAWhU,EAAatZ,MAAMqqB,WAAa,KAAO,KAAOxe,EAAE,SAAU,oBACrQuP,YAAa,UACzBC,YAAa,oBAKT,IAE2B,kBADLhP,EAAKhK,KAAKsU,EAAU0B,wBAAwB3J,KACtD4M,KAAKC,gBACF+N,EAAgBtpB,MAAM0O,GAC7B6e,IACAlE,EAASrpB,MAAMwtB,eAEvB,CAAE,MAAO3zB,GACLif,EAAUsI,kBAAkBvnB,EAChC,CAAC,QACOof,EAAWjZ,OAAQ,CAC3B,GA2CEytB,EAAiBrZ,IAAIC,MAErBwF,EAAWzF,IAAI0F,SAAS,CAAE4T,eAAe,EAAOC,cAAc,EAAOC,iBAAiB,EAAO5T,cAAc,IAE3G6T,EAAYhuB,KACLA,GAAiB,IAAZA,EAAEqa,OAGdC,EAAWA,KACbN,EAAS8T,cAAe,EACxB9T,EAAS+T,iBAAkB,EAC3B/T,EAAS6T,eAAgB,EAClBG,EAASvU,EAAatZ,MAAMoqB,YAC/ByD,EAASvU,EAAatZ,MAAMgoB,YAC5B6F,EAASvU,EAAatZ,MAAMmqB,kBAI9B2D,EAAa1Z,IAAI/U,SAAS,IACrB0B,OAAOiQ,KAAKsI,EAAatZ,OAAO+tB,KAAK3sB,GAASkY,EAAatZ,MAAMoB,KAAWopB,EAAexqB,MAAMoB,KAGtGksB,EAAcxyB,GACP,MAALA,GAAkB,IAALA,EACZA,EAAE8U,UAAU,EAAG,IAAM,IAAM9U,EAAE8U,UAAU,EAAG,GAAK,IAAM9U,EAAE8U,UAAU,EAAG,GAE9D,GAITyK,EAAYA,KACdvB,EAAUwB,aAAazO,EAAE,SAAS,yBAGhC0hB,EAAmBA,KACrBzU,EAAUwB,aAAazO,EAAE,SAAS,uBAGhC6e,EAAgBnU,UAClB,GAA2B,KAAvBkU,EACA,OAEJ,MACMuD,SADiB3hB,EAAKhK,KAAK+lB,EAAYE,oBAAoBmC,KACzCntB,KACxB0wB,EAAO1N,QAAQ,CACbtgB,MAAO,GACP6C,MAAOgJ,EAAE,KAAK,kBAEhB2d,EAAYxpB,YAAeguB,GAGzBrD,EAAiBpU,MAAOvb,EAAKyvB,KAI/B,MACMwD,SADiB5hB,EAAKhK,KAAK+lB,EAAYS,oBACTvrB,KACpC2wB,EAAmB3N,QAAQ,CACzBtgB,MAAO,GACP6C,MAAOgJ,EAAE,KAAK,kBAEhB0d,EAAmBvpB,MAAQiuB,GAQzBnC,EAAW,IADFvc,2BAA2BuG,SAASV,QAAQ,4BAA6B,IAAM7F,2BAA2BwG,8DAGzH,MAAO,CACHuT,kBAAiBE,cAAagD,uBAC9BjD,qBACAjQ,eACAD,WACAQ,WACAuP,YACAqE,iBACA/T,WACAoS,WACAnC,QACAF,eACAlB,cACAzmB,YACAuD,QAEA6oB,WA3Ue3X,UACf,GAAK8C,EAASrZ,MAaVwqB,EAAexqB,MAAQ,IAAIsZ,EAAatZ,YAXxC,GAAI8tB,EAAW9tB,MAAO,CACpB,MAAMyW,QAAW2S,EAAUppB,MAAMiB,OACjC,IAAIwV,EAIF,OAHAhB,QAAQ8D,IAAI,MAAO9C,GACnB6C,EAAatZ,MAAQwqB,EAAexqB,KAIxC,CAKFqZ,EAASrZ,OAASqZ,EAASrZ,OA2TjBstB,aAAYO,WACxBpT,aA5LiBA,KACjBnB,EAAatZ,MAAQkqB,IAErBrQ,EAAS8T,cAAa,EACtB9T,EAAS+T,iBAAgB,EACzB/T,EAAS6T,eAAc,EAEvBhU,EAAS1Z,MAAMiB,QAqLD0Y,YAAW6B,UA9HXjF,UACd,GAAK4D,IAIE,CAGH,IACI,IAAI5gB,EAAU,IAAI+f,EAAatZ,cACxBzG,EAAQwyB,4BACRxyB,EAAQqyB,qCACRryB,EAAQ40B,+BACR50B,EAAQ60B,8BACR70B,EAAQ0zB,aACR1zB,EAAQ80B,sBAEM,kBADLhiB,EAAKhK,KAAKsU,EAAU4B,wBAAwBhf,KACtD+hB,KAAKC,eAEDle,IACNoY,QAAQ8D,IAAI,mCACZ8P,EAASrpB,MAAMwtB,eACfnT,IAER,CAAE,MAAOxgB,GACLif,EAAUsI,kBAAkBvnB,EAChC,CAAC,QACGof,EAAWjZ,OAAQ,CACvB,CAEA2Z,GACJ,MA5BIlE,QAAQ8D,IAAI,iBA4HhBiB,gBAAe3O,IAAGyiB,2BAzBcnb,IAChCoV,EAAYvoB,MAAQmT,GA0B5B,EACA1U,SAAU,24NC3cd,IAAA8vB,EAAe,CACbC,cAAcpyB,IAGL,CACLhC,OAAQ,MACRX,IAJQ,+EACA2C,IAMZqyB,sBAAAA,CAAuBryB,EAAMuH,GAC3B,IAAIlK,EAAM,wFACA2C,EACR,QAAuB,IAAZuH,EAA0B,CAEnClK,EAAMA,EAAM,IADG,IAAIi1B,gBAAgB/qB,GACVvB,UAC3B,CACA,MAAO,CACLhI,OAAQ,MACRX,MAEN,EACAk1B,UAAUvyB,IAGD,CACLhC,OAAQ,MACRX,IAJQ,2EACA2C,IAMZwyB,MAAMC,IAGG,CACLz0B,OAAQ,MACRX,IAJQ,uEACAo1B,KC/BdC,EAAe,CACbh1B,aAAa8c,IACJ,CACLxc,OAAQ,OACRX,IAAK,iFACLY,OAAQuc,IAGZmY,eAAeC,IACN,CACL50B,OAAQ,OACRX,IAAK,mFACLY,OAAQ20B,IAGZC,gBAAgBj0B,IACP,CACLZ,OAAQ,MACRX,IAAK,oFACLY,OAAQ,CAAEW,SAGdk0B,iBAAgBA,CAACxW,EAAU1d,KAClB,CACLZ,OAAQ,MACRX,IAAK,+EACLY,OAAQ,CAAEhB,UAAWqf,EAAU1d,IAAKA,KAGxCm0B,WAAWn0B,IACF,CACLZ,OAAQ,MACRX,IAAK,2EACLY,OAAQ,CAAGW,IAAKA,KAGpBo0B,aAAYA,CAACp0B,EAAKq0B,KACT,CACLj1B,OAAQ,MACRX,IAAK,6EACLY,OAAQ,CAAEW,IAAKA,EAAKF,EAAGu0B,KAG3BC,SAASC,IACA,CACLn1B,OAAQ,OACRX,IAAK,yEACLY,OAAQ,CAAEk1B,MAAOA,KAGrBC,yBAAwBA,CAACn2B,EAAWo2B,KAC3B,CACLr1B,OAAQ,OACRX,IAAK,6FACLY,OAAQ,CAAChB,UAAWA,EAAUo2B,UAAWA,KAG7CC,yBAAyBr2B,IAChB,CACLe,OAAQ,OACRX,IAAK,6FACLY,OAAQ,CAAChB,eAGbs2B,4BAA2BA,KAClB,CACLv1B,OAAQ,OACRX,IAAK,8FAGTm2B,eAAe50B,IACN,CACLZ,OAAQ,MACRX,IAAK,+EACLY,OAAQ,CAACW,UCvER,MAAM60B,EAAiB,CAC7BjwB,KAAM,iBACHlD,MAAO,CACLozB,KAAM,CACFhxB,QAAS,GACTlC,KAAMiC,QAGZkV,OAAQ,CAAC,WACTC,KAAAA,CAAOtX,GAEH,MAAMQ,MAAEA,EAAKmX,IAAEA,EAAGyF,SAAEA,EAAQza,SAAEA,EAAQiV,UAAEA,EAASuE,OAAEA,GAAWzE,IACxDuV,EAAQC,UAAUC,WAClBkG,EAASnG,UAAUoG,YACnB9G,EAAkB7U,IAClB8U,EAAoB9U,IACpB4b,EAAS5b,EAAI,IACb6b,EAAc7b,EAAI,IAClB8b,EAAc9b,EAAI,IAAImQ,MACtBvL,EAAa5E,GAAI,GACjB+b,EAAgBvX,EAAO,iBACvBwX,EAAcxX,EAAO,eACrByX,EAAgBzX,EAAO,iBACvBxM,EAAOwM,EAAO,QAEd0X,EAAqB5U,IACzB,IAAI6U,EAAKJ,EAAcpwB,MAAM0b,KAAK+U,GAAMA,EAAGzwB,OAAS2b,GACpD,OAAard,MAANkyB,EAAkBA,EAAG3tB,MAAQ8Y,GAGhC+U,EAAmB/U,IACvB,IAAIgV,EAAYN,EAAYrwB,MAAM0b,KAAK+U,GAAMA,EAAGzwB,OAAS2b,GACzD,OAAoBrd,MAAbqyB,EAAyBA,EAAU9tB,MAAQ8Y,GAG9CiV,EAAqBjV,IACzB,IAAIkV,EAAcP,EAActwB,MAAM0b,KAAK+U,GAAMA,EAAGzwB,OAAS2b,GAC7D,OAAsBrd,MAAfuyB,EAA2BA,EAAYhuB,MAAQ8Y,GAGxD,IAAImV,EAAa1c,IAAIC,IAAI,IAEzB,MAAM0c,EAAa3c,IAAIC,IAAI3X,EAAMozB,MAwD3BzyB,EAAYkZ,UAChB,GAAW,MAAPvb,EAGA,OAFAi1B,EAAOjwB,MAAQ,QACfkwB,EAAYlwB,MAAQ,IAGxBiZ,EAAWjZ,OAAQ,EACnB,IACI,MAAMmL,QAAYkB,EAAKhK,KAAKysB,EAAYK,WAAWn0B,IACnDi1B,EAAOjwB,MAAQmL,EAAI7N,MAAQ,GAC3B2b,EAAWjZ,OAAQ,EAhEEgxB,MACzB,IAAIC,EAAQ,EACRC,EAAQ,GACZJ,EAAW9wB,MAAQ,GACnBiwB,EAAOjwB,MAAM2F,QAASwrB,IACnB,IAAIC,EAAM,IAAI5M,KAAK2M,EAAGC,KAClBC,EAAgB,MAAVF,EAAGE,IAAc,IAAI7M,KAAK2M,EAAGE,KAAO,KAC1ClB,EAAYnwB,OAASoxB,IAAe,MAAPC,GAAeA,GAAOlB,EAAYnwB,SAC/DixB,IACeH,EAAW9wB,MAAM0b,KAAMC,GAASA,EAAK7G,MAAQyb,EAAkBY,EAAGG,sBAE7ER,EAAW9wB,MAAMQ,KAAK,CAACsU,KAAMyb,EAAkBY,EAAGG,oBAAqBxpB,YAAa,GAAIypB,IAAK,oBAEjGL,EAAM1wB,KAAK2wB,EAAGpF,yBAGjBkF,EAAQ,EACVH,EAAW9wB,MAAMsgB,QAAQ,CAACxL,KAAM,gBAAiBhN,YAAY,GAAIypB,IAAK,oBACpD,GAATN,GACTH,EAAW9wB,MAAMsgB,QAAQ,CAACxL,KAAM,0BAA2BhN,YAAY,GAAIypB,IAAK,oBAElF9b,QAAQ8D,IAAI,QAAS2X,GACrBtzB,QAAQ4zB,IAAIN,EAAMnuB,IAAK0uB,GAASplB,EAAKhK,KAAKksB,EAAuBC,cAAciD,MAAS5zB,KACrF6zB,IACCA,EAAQ3uB,IAAK4Y,IACXA,EAAKre,KAAKyF,IAAK4uB,IACb,OAAQA,EAAIC,+BACV,IAAK,WAC2B,cAA1BD,EAAIE,mBACNf,EAAW9wB,MAAMQ,KAAK,CAACsU,KAAM,aAAchN,YAAa,GAAIypB,IAAK,oBAC9B,SAA1BI,EAAIE,mBACbf,EAAW9wB,MAAMQ,KAAK,CAACsU,KAAM,SAAUhN,YAAa,GAAIypB,IAAK,uBAC1B,sBAA1BI,EAAIE,oBACbf,EAAW9wB,MAAMQ,KAAK,CAACsU,KAAM,qBAAsBhN,YAAa,GAAIypB,IAAK,oBAE3E,MACF,IAAK,SACDT,EAAW9wB,MAAMQ,KAAK,CAACsU,KAAM4b,EAAgBiB,EAAIG,kBAAmBhqB,YAAa,GAAIypB,IAAK,wBAC5F,MACF,IAAK,UAC2BjzB,MAA1BqzB,EAAII,oBACNjB,EAAW9wB,MAAMQ,KAAK,CAACsU,KAAM8b,EAAkBe,EAAII,oBAAqBjqB,YAAa,GAAIypB,IAAK,kCAwBxGP,EACJ,CAAE,MAAOn3B,GACL4b,QAAQ8D,IAAI1f,GACZof,EAAWjZ,OAAQ,CACvB,GAGFsU,EAAUiC,gBACFwZ,EAAOiC,UACbvc,QAAQ8D,IAAI,aAAcoQ,EAAMsI,MAChC/I,EAAgBlpB,MAAQ2pB,EAAMtvB,OAAOqU,GACrCya,EAAiBnpB,MAAQ2pB,EAAMtvB,OAAOW,IACtCm1B,EAAYnwB,MAAQ,IAAIwkB,KACxBnnB,EAAU8rB,EAAiBnpB,SAG7B9C,EACE,IAAMysB,EAAMtvB,OAAOW,IAClBmyB,IACGjE,EAAgBlpB,MAAQ2pB,EAAMtvB,OAAOqU,GACrCya,EAAiBnpB,MAAQmtB,EACzBgD,EAAYnwB,MAAQ,IAAIwkB,KACxBnnB,EAAU8rB,EAAiBnpB,SAIjC9C,EACI,IAAMR,EAAMozB,KACX3C,IACG4D,EAAW/wB,MAAQmtB,GAEvB,CAAEE,MAAM,IAOZ,MAAO,CAACyD,aAAYC,aAAYp0B,QAJhBA,KACdU,EAAU8rB,EAAiBnpB,QAIjC,EACAvB,SAAU,ufCxJd,IAAAyzB,EAAe,CAEbC,SAAS94B,IACA,CACLe,OAAQ,MACRX,IAAK,yEACLY,OAAQ,CAAEhB,eAId+4B,sBAAsB/4B,IACb,CACLe,OAAQ,MACRX,IAAK,8FACGJ,IAIZg5B,YAAYh5B,IACH,CACRe,OAAQ,OACRX,IAAK,oFACMJ,IAIZi5B,kBAAiBA,KACR,CACRl4B,OAAQ,MACRX,IAAK,4FCtBD,MAAM84B,EAAiB,CAC7B3yB,KAAM,iBACH8H,WAAY,CACdmM,QACMuC,cACA,aAAcyH,SAAS2U,SACvB3C,kBAEJnzB,MAAO,CACHgc,SAAUC,OACVsQ,UAAWjnB,OACXywB,WAAY51B,SAEhBkX,OAAQ,CAAC,WACTtX,MAAO,CAAC,kBACRuX,KAAAA,CAAMtX,GAAOuX,KAAEA,IAIX,MAAM/W,MAAEA,EAAKmX,IAAEA,EAAGC,UAAEA,EAASuE,OAAEA,GAAWzE,IACpC8U,EAAkB9U,IAAI/U,SAAS,IAAe3C,EAAMgc,UACpDyQ,EAAmB/U,IAAI/U,SAAS,IAAe3C,EAAMusB,WAErDyJ,EAAWre,IACXse,EAAYte,IACZue,EAAeve,IACfwe,EAAYxe,KACZxI,EAAEA,GAAMsK,IAER8C,EAAa5E,GAAI,GACjBye,EAAiBze,GAAI,GACrB0e,EAAmB1e,GAAI,GACvBhI,EAAOwM,EAAO,QACdC,EAAY1E,IAAIyE,OAAO,aAIvBma,EAAkB3e,IAQlB4e,EAAkB1c,MAAOmC,EAAU1d,KACrCie,EAAWjZ,OAAQ,EACnB8yB,EAAe9yB,OAAQ,EACvB,IAEI,MAAMmL,QAAYkB,EAAKhK,KAAKysB,EAAYI,iBAAiBxW,EAAU1d,IACnE03B,EAAS1yB,MAAQmL,EAAI7N,KAAK,GAC1Bw1B,EAAe9yB,OAAQ,EAEvB,MAAMkzB,QAAqB7mB,EAAKhK,KAAKysB,EAAYG,gBAAgByD,EAAS1yB,MAAMhF,MAEhF03B,EAAS1yB,MAAQ,IAAK0yB,EAAS1yB,MAAYmzB,UAAWD,EAAa51B,KACvE,CAAE,MAAOzD,GACL4b,QAAQ8D,IAAI1f,EAChB,CAAC,QACGof,EAAWjZ,OAAQ,EACnB8yB,EAAe9yB,OAAQ,CAC3B,GAGEozB,EAAuB7c,UACzBwc,EAAiB/yB,OAAQ,EACzB,IACI,MAAMmL,QAAYkB,EAAKhK,KAAK6vB,EAASE,sBAAsB1Z,IAC3Dsa,EAAgBhzB,MAAQmL,EAAI7N,KAAK+1B,UACrC,CAAE,MAAOx5B,GACL4b,QAAQ8D,IAAI1f,EAChB,CAAC,QACGk5B,EAAiB/yB,OAAQ,CAC7B,GAGEqyB,EAAc9b,UAChBwc,EAAiB/yB,OAAQ,EACzB,IACI,MAAMmL,QAAYkB,EAAKhK,KAAK6vB,EAASG,YAAY31B,EAAMgc,WACvDsa,EAAgBhzB,MAAQmL,EAAI7N,KAAK+1B,UACrC,CAAE,MAAOx5B,GACL4b,QAAQ8D,IAAI1f,EAChB,CAAC,QACGk5B,EAAiB/yB,OAAQ,CAC7B,GAGJoU,IAAIlX,MAAM,CAACgsB,EAAiBC,GAAmB,EAAEza,EAAG1T,MACrB,MAAvBkuB,EAAgBlpB,OAChBizB,EAAgBvkB,EAAI1T,GACpBo4B,EAAqB1kB,KAErBkkB,EAAa5yB,MAAQ,KACrB2yB,EAAU3yB,MAAMA,MAAQ,QAIhCsU,EAAU,KAEF5X,EAAMgc,SAAUhc,EAAMusB,YACtBgK,EAAgBv2B,EAAMgc,SAAUhc,EAAMusB,WACtCmK,EAAqB12B,EAAMgc,WAG3BgB,EAAS1Z,OAET0Z,EAAS1Z,MAAM8iB,IAAIre,iBAAiB,kBAAmB,KACnD6uB,QAoDZ,IAAI5Z,EAAWrF,IAEf,MAIMsF,EAAYA,KACdD,EAAS1Z,MAAMgB,QAsBbsyB,EAAeA,KACjBV,EAAa5yB,MAAQ,KACrB2yB,EAAU3yB,MAAMA,MAAQ,MAwB5B,MAAO,CACHuzB,UAtDcA,KACd7Z,EAAS1Z,MAAMiB,QAsDf0Y,YACA2Z,eACA5Z,WACAwB,gBAlDoB3E,WAMT,UAJDuC,EAAUqC,QAAQ,CACpB3c,QAAQ,yBACR4c,YAAa,UACzBC,YAAa,qBA7BU9E,WACnB,IACI0C,EAAWjZ,OAAQ,QACDqM,EAAKhK,KAAKysB,EAAYY,yBAAyBhzB,EAAMgc,WACvEua,EAAgBv2B,EAAMgc,SAAUhc,EAAMusB,WACtCnQ,EAAUwB,aAAazO,EAAE,SAAS,iBACtC,CAAE,MAAOhS,GACLif,EAAUsI,kBAAkBvnB,EAChC,CAAC,QACGof,EAAWjZ,OAAQ,CACvB,GAwBAwzB,IAyCAC,SA5GaA,KACb,IACI/vB,EADQivB,EAAU3yB,MACL0zB,MACjB,GAAIhwB,GAAQA,EAAK,GAAI,CACjB,IAAIiwB,EAAS,IAAIC,WACjBD,EAAOE,OAAU1gB,IACbyf,EAAa5yB,MAAQmT,EAAE/O,OAAO+Q,QAElCwe,EAAOG,cAAcpwB,EAAK,GAC9B,GAoGA8X,UAvCcA,KA1DDjF,WACb,IACI0C,EAAWjZ,OAAQ,EACnB,MAAMmL,QAAYkB,EAAKhK,KAAKysB,EAAYU,yBAAyB9yB,EAAMgc,SAASka,EAAa5yB,QACpE,WAArBmL,GAAKmQ,MAAMC,OAEXzC,EAAUib,WAAWloB,EAAE,SAAUV,EAAI7N,OAIrCwb,EAAUwB,aAAazO,EAAE,SAAU,sBAEvConB,EAAgBv2B,EAAMgc,SAAUhc,EAAMusB,UAC1C,CAAE,MAAOpvB,GACLif,EAAUsI,kBAAkBvnB,EAChC,CAAC,QACGof,EAAWjZ,OAAQ,CACvB,GA2CAg0B,GACAra,KAqCAkZ,YACAoB,SA9BaA,CAAC56B,EAAW2B,KACzBiZ,EAAK,iBAAkB,CAAE5a,YAAW2B,SA8BpCk5B,4BACAC,cArBkBA,KAClB,MAAMC,EAAY,GAMlB,OAJG1B,GAAU1yB,OAAOxG,QAChB46B,EAAU5zB,KAAK,CAACsU,KAAM,SAAUyc,IAAK,wBAGlC6C,GAeP1B,WACAC,YACAC,eACA3Z,aACA6Z,iBACAC,mBACA7J,kBACAC,mBAEAmE,WAtMgB+G,IAChB,GAAU,MAANA,EAAY,MAAO,GACvB,IAAIv5B,EAAI,IAAI0pB,KAAK6P,GACjB,OAAOv5B,GAAGw5B,cAAc1kB,UAAU,EAAE,KAqMpCyiB,cACA11B,QAxCYA,KACZs2B,EAAgBv2B,EAAMgc,SAAUhc,EAAMusB,WACtCoJ,EAAY31B,EAAMgc,UAClBma,EAAU7yB,MAAMrD,WAsChBq2B,kBAER,EACAv0B,SAAU,k7NCxPD81B,EAAuB,CACnC30B,KAAM,uBACH8H,WAAY,CAAA,EAIZhL,MAAO,CACHgc,SAAUC,OACVsQ,UAAWjnB,QAEfgS,KAAAA,CAAMtX,GAAOuX,KAAEA,IACX,MAAM/W,MAAEA,EAAKmX,IAAEA,EAAGyF,SAAEA,EAAQza,SAAEA,EAAQwZ,OAAEA,GAAWzE,IAC7C6b,EAAS5b,EAAI,IACCA,EAAI,MACNA,EAAI,MACHyF,EAAS,CACxB0a,SAAU,CACNC,UAAW,GACXC,WAAY,IAEhBC,iBAAkB,GAClBC,iBAAkB,GAClBC,QAAS,GACTC,MAAO,GACPC,WAAY,GACZC,gBAAiB,GACjBC,mBAAoB,GACpBC,OAAQ,KAEZ,MAAMjc,EAAa5E,GAAI,GACjB8gB,EAAe,IAAIC,KAAKC,aAExBhF,EAAcjc,IAAIyE,OAAO,eACzBuX,EAAgBvX,EAAO,iBACvBxM,EAAO+H,IAAIyE,OAAO,QAElBxb,EAAYkZ,UACd,GAAW,MAAPvb,EAGA,OAFAi1B,EAAOjwB,MAAQ,QACfkwB,YAAYlwB,MAAQ,IAGxBiZ,EAAWjZ,OAAQ,EACnB,IACI,MAAMmL,QAAYkB,EAAKhK,KAAKysB,EAAYc,eAAe50B,IACvDi1B,EAAOjwB,MAAQmL,EAAI7N,KAAK2yB,OACxBhX,EAAWjZ,OAAQ,CACvB,CAAE,MAAOnG,GACL4b,QAAQ8D,IAAI1f,GACZof,EAAWjZ,OAAQ,CACvB,GAIJ3C,EAAUX,EAAMusB,WAChB/rB,EACI,IAAMR,EAAMusB,UACXkE,IACG9vB,EAAU8vB,KAoClB,MAAO,CAAE8C,SAAQhX,aAAYqU,WAhCTxyB,GACP,MAALA,GAAkB,IAALA,EACNA,EAAE8U,UAAU,EAAG,IAAM,IAAM9U,EAAE8U,UAAU,EAAG,GAAK,IAAM9U,EAAE8U,UAAU,EAAG,GAEpE,GA4B0B2gB,kBAxBd5U,IACvB,IAAI6U,EAAKJ,EAAcpwB,MAAM0b,KAAK+U,GAAMA,EAAGzwB,OAAS2b,GACpD,OAAard,MAANkyB,EAAkBA,EAAG3tB,MAAQ8Y,GAsBoB+U,gBAnBnC/U,IACrB,IAAIgV,EAAYN,EAAYrwB,MAAM0b,KAAK+U,GAAMA,EAAGzwB,OAAS2b,GACzD,OAAoBrd,MAAbqyB,EAAyBA,EAAU9tB,MAAQ8Y,GAiBuB2Z,aAVvDC,IAClB,IAAI/E,EAAK+E,EAAO7Z,KAAKC,GAA8C,WAAtCA,EAAKiW,+BAClC,OAAatzB,MAANkyB,EAAkBA,EAAK,MAQyDgF,aAdrEC,GACXN,EAAaO,OAAOC,WAAWF,IAa+DG,YALpFL,IACjB,IAAI/E,EAAK+E,EAAO7Z,KAAKC,GAA8C,UAAtCA,EAAKiW,+BAClC,OAAatzB,MAANkyB,EAAkBA,EAAK,MAMtC,EACA/xB,SAAU,y0DCpFd,IAAAo3B,EAAe,CACdA,MAAAA,CAAOC,EAAgB/zB,GAEtB,OAAOrI,KAAKC,QAAQC,KADR,oCACkBk8B,EAAgB/zB,EAC/C,EACAg0B,cAAAA,CAAeD,EAAgB/zB,GAE9B,OAAOrI,KAAKC,QAAQC,KADR,4CACkBk8B,EAAgB/zB,EAC/C,EACAi0B,WAAAA,CAAYF,GAEX,OAAOp8B,KAAKC,QAAQC,KADR,yCACkBk8B,EAC/B,GCZDG,EAAe,CACdrqB,YAAAA,CAAa+I,GACZ,OAAOjb,KAAKC,QAAQgL,IAAI,uCAAyCgQ,EAClE,EACAuhB,WAAAA,CAAY3hB,EAAW4hB,GACtB,MAAM58B,EAAU,CAACgb,aAAY4hB,YAC7B,OAAOz8B,KAAKC,QAAQC,KAAK,uCAAwCL,EAClE,EACA68B,WAAAA,GACC,OAAO18B,KAAKC,QAAQgL,IAAI,uCAAwC,CAAA,EACjE,EACA0xB,oBAAAA,GACC,OAAO38B,KAAKC,QAAQgL,IAAI,2CAA4C,CAAA,EACrE,GCbD2xB,EAAe,CACdjmB,SAAAA,CAAUC,GACT,OAAO5W,KAAKC,QAAQgL,IACnB,qCACA,CAAE2L,mBAEJ,EACAC,QAAS,SAASD,GACjB,OAAO5W,KAAKC,QAAQgL,IACnB,mCACA,CAAE2L,mBAEJ,GCZDimB,EAAe,CACdp3B,gBAAAA,CAAiBwH,GAChB,OAAOjN,KAAKC,QAAQC,KACnB,2CACA,CACCgN,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBC,iBAAkBH,EAASG,kBAG9B,EACAC,kBAAAA,CAAmBJ,GAClB,OAAOjN,KAAKC,QAAQC,KACnB,6CACA,CACCgN,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBG,SAAUL,EAASK,UAGtB,EACAC,iBAAAA,CAAkBN,GACjB,OAAOjN,KAAKC,QAAQC,KACnB,4CACA,CACCgN,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBK,aAAcP,EAASO,cAG1B,EACAC,cAAAA,CAAeR,GACd,OAAOjN,KAAKC,QAAQC,KACnB,yCACA,CACCgN,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBO,YAAaT,EAASS,aAGzB,EACAC,iBAAAA,CAAkBV,GACjB,OAAOjN,KAAKC,QAAQC,KACnB,4CACA,CACCgN,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBO,YAAaT,EAASS,aAGzB,EACAE,aAAAA,CAAcX,GACb,OAAOjN,KAAKC,QAAQgL,IACnB,oCACA,CACCiC,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,WACrBG,SAAUL,EAASK,UAGtB,EACAO,SAAAA,CAAUZ,GACT,OAAOjN,KAAKC,QAAQgL,IACnB,oCACA,CACCiC,eAAgBD,EAASC,eACzBC,WAAYF,EAASE,YAGxB,GCrED2vB,EAAe,CACdC,UAAW,CACVC,UAAAA,CAAWC,EAAWC,GACrB,MAAMn9B,EAAM,+CACM6E,IAAdq4B,EAA0B,uBAAyBA,EAAY,0BAA4BC,GAC/F,OAAOl9B,KAAKC,QAAQgL,IAAIlL,EACzB,EACAsmB,MAAAA,CAAO8W,EAAQD,EAAeE,GAC7B,OAAOp9B,KAAKC,QAAQC,KAAK,qDAAsD,CAC9Em9B,gBAAiBF,EACjBD,gBACAE,SACE,CACFE,cAAe,UAEjB,EACAtgB,MAAAA,CAAOigB,GACN,OAAK93B,MAAM0D,QAAQo0B,GAKZ/4B,QAAQq5B,WAAWN,EAAU5zB,IAAIm0B,GAAUx9B,KAAKC,QAAQC,KAC9D,qDACA,CAAE+8B,UAAWO,EAAOC,uBACpB,CAAEC,YAAa,IAAMF,EAAOC,0BAPrBz9B,KAAKC,QAAQC,KACnB,qDACA,CAAE+8B,aAOL,GAEDU,cAAe,CACdX,UAAAA,CAAWC,EAAWC,GACrB,MAAMn9B,EAAM,mDACM6E,IAAdq4B,EAA0B,uBAAyBA,EAAY,0BAA4BC,GAC/F,OAAOl9B,KAAKC,QAAQgL,IAAIlL,EACzB,EACAsmB,MAAAA,CAAOgX,EAAiBH,EAAeE,EAAOQ,EAAsBC,GACnE,OAAO79B,KAAKC,QAAQC,KAAK,yDAA0D,CAClFm9B,kBACAH,gBACAE,QACAQ,uBACAC,cACE,CACFP,cAAe,UAEjB,EACAtgB,MAAAA,CAAOigB,GACN,OAAOj9B,KAAKC,QAAQC,KAAK,yDAA0D,CAClF+8B,aACE,CACFK,cAAe,UAEjB,GAEDQ,aAAc,CACbd,UAAAA,CAAWE,GACV,MAAMn9B,EAAM,mEAAqEm9B,EACjF,OAAOl9B,KAAKC,QAAQgL,IAAIlL,EACzB,EACAg+B,MAAAA,CAAOd,GACN,MAAMl9B,EAAM,mDAAqDk9B,EACjE,OAAOj9B,KAAKC,QAAQgL,IAAIlL,EACzB,EACAsmB,MAAAA,CAAO6W,EAAeG,GACrB,OAAOr9B,KAAKC,QAAQC,KAAK,wDAAyD,CACjFg9B,gBACAG,mBACE,CACFC,cAAe,UAEjB,EACAtgB,MAAAA,CAAOkgB,EAAeG,GACrB,OAAOr9B,KAAKC,QAAQC,KAAK,wDAAyD,CACjFg9B,gBACAG,mBACE,CACFC,cAAe,UAEjB,EACAU,OAAAA,CAAQC,EAAcC,GACrB,OAAOl+B,KAAKC,QAAQC,KAAK,mDAAoD,CAC5E+9B,eACAC,gBAEF,GAEDC,QAAS,CACRC,OAAAA,GACC,OAAOp+B,KAAKC,QAAQgL,IAAI,oDACzB,EACAozB,WAAAA,CAAYt+B,EAAKsI,EAAQ1H,GACxB,OAAOX,KAAKC,QACVgL,IAAI,mDAAqDlL,GACzDoE,KAAKsN,GAAOA,EAAI7N,KACnB,EACA06B,UAAAA,CAAWrB,GACV,OAAOj9B,KAAKC,QAAQgL,IAAI,kDAAoDgyB,EAC7E,EACAsB,cAAAA,CAAe3b,EAAO4b,GACrB,OAAOx+B,KAAKC,QAAQC,KACnB,qDACA,CAAE0iB,SACF,CACgC4b,OAAQA,EACRC,QAAS,KAG3C,EACAC,OAAAA,CAAQlB,GACP,OAAKr4B,MAAM0D,QAAQ20B,GAKZt5B,QAAQq5B,WAAWC,EAAOn0B,IAAIvD,GAAK9F,KAAKC,QAAQC,KACtD,oDACA4F,EACA,CAAE43B,YAAa,IAAM53B,EAAE23B,0BAPhBz9B,KAAKC,QAAQC,KACnB,oDACAs9B,EAOH,EACA1gB,MAAAA,CAAO0gB,GACN,OAAKr4B,MAAM0D,QAAQ20B,GAKZt5B,QAAQq5B,WAAWC,EAAOn0B,IAAIvD,GAAK9F,KAAKC,QAAQC,KACtD,mDACA4F,EACA,CAAE43B,YAAa,IAAM53B,EAAE23B,0BAPhBz9B,KAAKC,QAAQC,KACnB,mDACAs9B,EAOH,EACAmB,MAAAA,CAAOnB,GACN,OAAKr4B,MAAM0D,QAAQ20B,GAKZt5B,QAAQq5B,WAAWC,EAAOn0B,IAAIvD,GAAK9F,KAAKC,QAAQC,KACtD,mDACA4F,EACA,CAAE43B,YAAa,IAAM53B,EAAE23B,0BAPhBz9B,KAAKC,QAAQC,KACnB,mDACAs9B,EAOH,EACAoB,KAAAA,CAAMpB,GACL,OAAKr4B,MAAM0D,QAAQ20B,GAKZt5B,QAAQq5B,WAAWC,EAAOn0B,IAAIvD,GAAK9F,KAAKC,QAAQC,KACtD,kDACA4F,EACA,CAAE43B,YAAa,IAAM53B,EAAE23B,0BAPhBz9B,KAAKC,QAAQC,KACnB,kDACAs9B,EAOH,EACAqB,OAAAA,CAAQrB,GACP,OAAKr4B,MAAM0D,QAAQ20B,GAKZt5B,QAAQq5B,WAAWC,EAAOn0B,IAAIvD,GAAK9F,KAAKC,QAAQC,KACtD,oDACA4F,EACA,CAAE43B,YAAa,IAAM53B,EAAE23B,0BAPhBz9B,KAAKC,QAAQC,KACnB,oDACAs9B,EAOH,EACAsB,MAAAA,CAAOtB,GACN,OAAKr4B,MAAM0D,QAAQ20B,GAKZt5B,QAAQq5B,WAAWC,EAAOn0B,IAAIvD,GAAK9F,KAAKC,QAAQC,KACtD,mDACA4F,EACA,CAAE43B,YAAa,IAAM53B,EAAE23B,0BAPhBz9B,KAAKC,QAAQC,KACnB,mDACAs9B,EAOH,EACAuB,gBAAAA,CAAiBvB,GAChB,OAAKr4B,MAAM0D,QAAQ20B,GAKZt5B,QAAQq5B,WAAWC,EAAOn0B,IAAIvD,GAAK9F,KAAKC,QAAQC,KACtD,uDACA4F,EACA,CAAE43B,YAAa,IAAM53B,EAAE23B,0BAPhBz9B,KAAKC,QAAQC,KACnB,uDACAs9B,EAOH,EACAwB,aAAAA,CAAcxB,GACb,OAAKr4B,MAAM0D,QAAQ20B,GAKZt5B,QAAQq5B,WAAWC,EAAOn0B,IAAIvD,GAAK9F,KAAKC,QAAQC,KACtD,oDACA4F,EACA,CAAE43B,YAAa,IAAM53B,EAAE23B,0BAPhBz9B,KAAKC,QAAQC,KACnB,oDACAs9B,EAOH,IC5NFyB,EAAe,CAEbC,QAAS,SAAU59B,GACjB,OAAOtB,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,mCAAmC/a,IAAM,CAAA,EAE7C,EAEA69B,WAAY,SAAU74B,GACpB,OAAOtG,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,sCAAsC/V,IACtC,CAAA,EAGJ,EAEA84B,UAAW,SAAU99B,GACnB,OAAOtB,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,oCACA,CACE/a,IAAIA,GAGV,EAEA+9B,cAAe,SAAU/9B,GACvB,OAAOtB,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,yCAAyC/a,IACzC,CAAA,EAEJ,EAEAg+B,kBAAmB,WACjB,OAAOt/B,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,4CAA4C,GAEhD,EAEAkjB,kBAAmB,WACjB,OAAOv/B,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,4CAA4C,GAEhD,EAEA7b,aAAc,SAASg/B,EAAOC,GAC5B,OAAOz/B,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,wCAAwCmjB,KAAUC,IAClD,CAAA,EAGJ,EACAC,eAAe,WACb,OAAO1/B,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,yCAAyC,GAE7C,GCvEFsjB,GAAe;;AAGXC,UAAW,WACP,OAAO5/B,KAAKC,QAAQgL,IACpB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,0CAA0C,GAC9C,EAEAwjB,SAAU,WACN,OAAO7/B,KAAKC,QAAQgL,IACpB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,yCAAyC,GAC7C,EAEAyjB,oBAAqB,UAAUC,iBAACA,EAAgBz+B,IAAEA,EAAG0+B,eAAEA,EAAcC,MAAEA,EAAKC,iBAAEA,IAE5E,OAAOlgC,KAAKC,QAAQC,KAClB2V,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,oDAAoD,CAAC0jB,mBAAkBz+B,MAAK0+B,iBAAgBC,QAAOC,oBACvG,EAEAC,kBAAmB,UAAUJ,iBAACA,EAAgBz+B,IAAEA,EAAG2+B,MAAEA,EAAKD,eAAEA,IAC1D,OAAOhgC,KAAKC,QAAQC,KAClB2V,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,kDAAkD,CAAC0jB,mBAAiBz+B,MAAI2+B,QAAMD,kBAClF,EAEAI,WAAY,SAAUC,EAAK3kB,EAAU,MAEnC,OAAO1b,KAAKC,QAAQC,KAClB2V,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,4CAA4CX,IAC5C2kB,EAEJ,EAEAC,sBAAuB,SAAUC,GAC/B,OAAOvgC,KAAKC,QAAQgL,IAClB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,uDAAuDkkB,IAAY,CAAA,EACvE,EAEAC,oBAAqB,SAAUl/B,EAAM,KAAM0T,EAAK,MAE5C,OAAOhV,KAAKC,QAAQgL,IACpB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,oDACA,IAAK/a,EAAI,CAACA,OAAK,MACT0T,EAAG,CAACA,MAAI,CAAA,GAElB,EAEAyrB,oBAAqB,SAAUR,EAAOpgC,EAAS6gC,EAAS,MAEtD,OAAO1gC,KAAKC,QAAQC,KAClB2V,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,oDACA,CACE4jB,QACApgC,aACI6gC,EAAS,CAAEA,UAAW,CAAA,GAEhC,EAEAC,oBAAqB,SAAUV,EAAOpgC,EAAS+gC,EAAIF,EAAS,MAE1D,OAAO1gC,KAAKC,QAAQC,KAClB2V,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,oDACA,CACE4jB,QACApgC,UACA+gC,QACIF,EAAS,CAAEA,OAAQA,GAAW,CAAA,GAExC,EAEAG,oBAAqB,SAAUN,GAE7B,OAAOvgC,KAAKC,QAAQC,KAClB2V,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,oDACA,CACEkkB,aAEN,GC/FJO,GAAe,CACdC,WAAAA,CAAYC,EAAYC,EAAYC,GACnC,OAAOlhC,KAAKC,QAAQC,KACnB,sCACA,CAAG8gC,aAAYC,aAAYC,YAE7B,EACAC,UAAAA,GACC,OAAOnhC,KAAKC,QAAQgL,IACnB,kCACA,CAAA,EAEF,EACAm2B,oBAAAA,CAAqBJ,EAAYC,EAAYC,GAC5C,OAAOlhC,KAAKC,QAAQC,KACnB,6CAA6C8gC,IAC7C,CAAEC,aAAYC,YAEhB,EACAG,uBAAAA,CAAwBJ,EAAYC,GACnC,OAAOlhC,KAAKC,QAAQC,KACnB,4CACA,CAAE+gC,aAAYC,YAEhB,EACAI,6BAAAA,CAA8BC,GAC7B,OAAOvhC,KAAKC,QAAQgL,IACnB,yDAAyDs2B,IACzD,GAEF,EACAC,2BAAAA,CAA4BtgC,GAC3B,OAAOlB,KAAKC,QAAQgL,IACnB,uDAAuD/J,IACvD,GAEF,EACAugC,YAAAA,CAAaR,EAAYC,EAAUQ,GAClC,OAAO1hC,KAAKC,QAAQgL,IACnB,uCACA,CAAEg2B,aAAYC,WAAUQ,SAE1B,GCxBDC,GAAe,CACdC,QCpBc,CACd32B,GAAAA,GACC,OAAOjL,KAAKC,QAAQgL,IAAI,8BACzB,EACA42B,UAAW,CACV52B,GAAAA,GACC,OAAOjL,KAAKC,QAAQgL,IAAI,gCACzB,EACAT,GAAAA,CAAIq3B,GACH,OAAO7hC,KAAKC,QAAQC,KAAK,oCAAqC,CAC7D2hC,aAEF,IDSDC,SErBc,CACdxgC,GAAAA,CAAIA,EAAKygC,GACR,IAAIhiC,EAAM,gCACPwtB,mBAAmBwU,GACnB,QACAxU,mBAAmBjsB,GACtB,OAAOtB,KAAKC,QAAQ+hC,OAAOjiC,EAC5B,EACAkiC,UAAAA,CAAW/E,EAAe6E,GACzB,IAAIhiC,EAAM,gCACPwtB,mBAAmBwU,GACnB,eACAxU,mBAAmB2P,GACtB,OAAOl9B,KAAKC,QAAQ+hC,OAAOjiC,EAC5B,EACAmiC,MAAAA,CAAOviC,EAAWoiC,GACjB,IAAIhiC,EAAM,gCACPwtB,mBAAmBwU,GACnB,WACAxU,mBAAmB5tB,GACtB,OAAOK,KAAKC,QAAQ+hC,OAAOjiC,EAC5B,EACA6hC,OAAAA,CAAQO,GACP,OAAOniC,KAAKC,QAAQ+hC,OAAO,gCAAkCG,EAC9D,GFFA37B,OGtBc,CACd47B,MAAAA,GACC,OAAOpiC,KAAKC,QAAQgL,IAAI,oCACzB,EACAo3B,MAAAA,CAAOC,GACN,OAAOtiC,KAAKC,QAAQC,KAAK,oCAAqC,CAC7DoiC,kBAEF,GHeAC,MIvBc,CACdC,eAAAA,CAAgBn6B,EAAQo6B,GAavB,OAZAp6B,EAAOkiB,QAAU,gCACjBliB,EAAOq6B,WAAa,KACJ,CACd/iC,UAAW8iC,EAAKzZ,WAAWrpB,WAAa8iC,EAAKzZ,WAAW3f,IAAIoQ,GAAKA,EAAE9Z,WACnEgjC,UAAWF,EAAKj8B,OAChB87B,eAAgBG,EAAKG,sBAAwBH,EAAKI,OAAS,KAI7Dx6B,EAAOmiB,gBAAkB,CAACzqB,EAAKsI,EAAQ1H,IAAWX,KAAKC,QAAQC,KAAKH,EAAKY,EAAQ0H,GACjFA,EAAOoiB,aAAe,CAAC1qB,EAAKY,EAAQ+D,IAAaA,EAASd,KAEnDyE,CACR,EACAy6B,YAAAA,CAAaC,EAAMn/B,GAClB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,yCAA0Cn/B,EAAM,CAC9Eo/B,oBAAqB7iC,IAAS,GAEhC,EACA8iC,MAAAA,CAAOF,EAAMn/B,GACZ,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,mCAAoCn/B,EACpE,EACAiQ,OAAAA,CAAQjQ,GACP,OAAO5D,KAAKC,QAAQC,KAAK,oCAAqC0D,EAC/D,EACAs/B,IAAAA,CAAKH,EAAMn/B,GACV,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,mCAAoCn/B,EACpE,EACAu/B,OAAOC,GACN,OAAOpjC,KAAKC,QAAQC,KAAK,mCAAoC,CAACkjC,cAC/D,EACAC,gBAAAA,GACC,OAAOrjC,KAAKC,QAAQgL,IAAI,6CACzB,GJXAsF,MKxBc,CACd+yB,UAAAA,CAAWvjC,EAAKsI,EAAQ1H,GACvB,OAAOX,KAAKC,QAAQgL,IAAI,0CAA4CtK,EAAOqU,GAC5E,EACAuuB,WAAAA,CAAY5iC,GACX,OAAOX,KAAKC,QAAQC,KAAK,4CAA6CS,EACvE,GLmBA+f,QMzBc,CAEd8iB,WAAAA,CAAazjC,EAAKsI,EAAQ1H,GACzB,OAAOX,KAAKC,QAAQgL,IAAI,2CAA6CtK,EAAOqU,GAC7E,EACAyuB,aAAAA,CAAcV,EAAM/tB,EAAIpR,GACvB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,6CAA+C/tB,EAC7EpR,EAEF,EACA8/B,WAAAA,CAAYC,GACX,OAAO3jC,KAAKC,QAAQC,KAAK,2CAA4C,CAACyjC,cACvE,EACAC,aAAAA,CAAcb,EAAMY,EAAY//B,GAC/B,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,6CAA+CY,EAC7E//B,EAEF,EACAigC,aAAAA,CAAcF,GACb,OAAO3jC,KAAKC,QAAQC,KAAK,6CAA8C,CAACyjC,cACzE,EACAG,SAAAA,CAAUrjC,GACT,OAAOT,KAAKC,QAAQgL,IAAI,yCAA2CxK,EACpE,EACAsjC,SAAAA,CAAUC,GACT,OAAOhkC,KAAKC,QAAQgL,IAAI,yCAA2C+4B,EACpE,EACAxiC,UAAAA,GACC,OAAOxB,KAAKC,QAAQgL,IAAI,0CACzB,EACAg5B,gBAAAA,GACC,OAAOjkC,KAAKC,QAAQgL,IAAI,gDACzB,EAGAi5B,iBAAAA,CAAmBnkC,EAAKsI,EAAQ1H,GAC/B,OAAOX,KAAKC,QAAQgL,IAAI,iDAAmDtK,EAAOqU,GACnF,EACAmvB,oBAAAA,CAAqBpB,EAAM/tB,EAAIpR,GAC9B,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,oDAAsD/tB,EACpFpR,EAEF,EACAwgC,kBAAAA,CAAmB1mB,GAClB,OAAO1d,KAAKC,QAAQC,KAAK,kDAAmD,CAACwd,qBAC9E,EACA2mB,oBAAAA,CAAqBtB,EAAMrlB,EAAmB9Z,GAC7C,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,oDAAsDrlB,EACpF9Z,EAEF,EACA0gC,oBAAAA,CAAqB5mB,GACpB,OAAO1d,KAAKC,QAAQC,KAAK,oDAAqD,CAACwd,qBAChF,EAGA6mB,WAAAA,CAAaxkC,EAAKsI,EAAQ1H,GACzB,OAAOX,KAAKC,QAAQgL,IAAI,2CAA6CtK,EAAOqU,GAC7E,EACAwvB,aAAAA,CAAczB,EAAM/tB,EAAIpR,GACvB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,6CAA+C/tB,EAC7EpR,EAEF,EACA6gC,WAAAA,CAAYtmB,GACX,OAAOne,KAAKC,QAAQC,KAAK,2CAA4C,CAACie,cACvE,EACAumB,aAAAA,CAAc3B,EAAM5kB,EAAYva,GAC/B,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,6CAA+C5kB,EAC7Eva,EAEF,EACA+gC,aAAAA,CAAcxmB,GACb,OAAOne,KAAKC,QAAQC,KAAK,6CAA8C,CAACie,cACzE,EACAymB,mBAAAA,CAAoBZ,GACnB,OAAOhkC,KAAKC,QAAQgL,IAAI,mDAAqD+4B,EAC9E,EACAa,eAAAA,GACC,OAAO7kC,KAAKC,QAAQgL,IAAI,+CACzB,GNtDAg3B,WO1Bc,CAIdh3B,GAAAA,CAAIiyB,EAAe6E,GAClB,OAAQ/hC,KAAKC,QAAQC,KACpB,sCACEqtB,mBAAmB2P,GACnB,IACA3P,mBAAmBwU,GAEvB,EACA+C,gBAAAA,CAAiB/B,EAAM7F,EAAet5B,GACrC,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,mDAAqD7F,EACnFt5B,EAEF,EACAmhC,iBAAAA,GACC,OAAO/kC,KAAKC,QAAQgL,IAAI,oDACzB,EACA+5B,kBAAAA,GACC,OAAOhlC,KAAKC,QAAQgL,IAAI,qDACzB,EACAg6B,kBAAAA,GACC,OAAOjlC,KAAKC,QAAQgL,IAAI,qDACzB,EACAmzB,OAAAA,GACC,OAAOp+B,KAAKC,QAAQgL,IAAI,qCACzB,EACApJ,aAAAA,GACC,OAAO7B,KAAKC,QAAQgL,IAAI,gDACzB,EACAi6B,kBAAAA,GACC,OAAOllC,KAAKC,QAAQgL,IAAI,qDACzB,EACAk6B,mBAAAA,GACC,OAAOnlC,KAAKC,QAAQgL,IAAI,sDACzB,EACAm6B,WAAAA,GACC,OAAOplC,KAAKC,QAAQgL,IAAI,8CACzB,EACAo6B,cAAAA,GACC,OAAOrlC,KAAKC,QAAQgL,IAAI,iDACzB,EAGAq6B,oBAAAA,CAAsBvlC,EAAKsI,EAAQ1H,GAClC,OAAOX,KAAKC,QAAQgL,IAAI,mDAAqDtK,EAAOqU,GACrF,EACAuwB,SAAAA,CAAUC,GACT,OAAQxlC,KAAKC,QAAQC,KAAK,6CAA8C,CAACslC,mBAC1E,EACAC,aAAAA,EAAcvI,cAACA,EAAawI,cAAEA,EAAa3D,uBAAEA,EAAsB4D,oBAAEA,IACpE,OAAO3lC,KAAKC,QAAQC,KAAK,4CACtBg9B,EAAgB,IAChBwI,EAAgB,IAChB3D,EAAyB,IACzB4D,EAEJ,EACAC,aAAAA,EAAc1I,cAACA,EAAawI,cAAEA,EAAa3D,uBAAEA,EAAsB4D,oBAAEA,IACpE,OAAO3lC,KAAKC,QAAQC,KAAK,4CACtBg9B,EAAgB,IAChBwI,EAAgB,IAChB3D,EAAyB,IACzB4D,EAEJ,EACAE,YAAAA,CAAa7wB,GACZ,OAAOhV,KAAKC,QAAQgL,IAAI,2CAA6C+J,EACtE,EACA8wB,YAAAA,EAAa5I,cAACA,EAAawI,cAAEA,EAAa3D,uBAAEA,EAAsB4D,oBAAEA,IACnE,OAAO3lC,KAAKC,QAAQC,KAAK,2CACtBg9B,EAAgB,IAChBwI,EAAgB,IAChB3D,EAAyB,IACzB4D,EAEJ,EACAI,uBAAAA,GACC,OAAO/lC,KAAKC,QAAQgL,IAAI,sDACzB,EAGA+6B,qBAAAA,CAAuBjmC,EAAKsI,EAAQ1H,GACnC,OAAOX,KAAKC,QAAQgL,IAAI,wDAA0DtK,EAAOqU,GAC1F,GP3DA6M,OQ3Bc,CAIdokB,YAAAA,CAAalD,EAAM/tB,EAAIpR,GACtB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,2CAA6C/tB,EAC3EpR,EAEF,EACAsiC,UAAAA,EAAWhJ,cAACA,EAAawI,cAAEA,EAAa3D,uBAAEA,EAAsB4D,oBAAEA,IACjE,OAAO3lC,KAAKC,QAAQC,KACnB,yCACEg9B,EAAgB,IAChBwI,EAAgB,IAChB3D,EAAyB,IACzB4D,EAEJ,EACAQ,YAAAA,CAAapD,GAAM7F,cAACA,EAAawI,cAAEA,EAAa3D,uBAAEA,EAAsB4D,oBAAEA,GAAsB/hC,GAC/F,OAAO5D,KAAKC,QAAQC,KACnB6iC,EACA,2CACE7F,EAAgB,IAChBwI,EAAgB,IAChB3D,EAAyB,IACzB4D,EACF/hC,EAEF,EACAwiC,gBAAAA,CAAiBlJ,GAChB,OAAOl9B,KAAKC,QAAQgL,IAAI,mDAAqDiyB,EAC9E,EACAmJ,cAAAA,CAAenJ,GACd,OAAOl9B,KAAKC,QAAQgL,IAAI,iDAAmDiyB,EAC5E,EACAoJ,gBAAAA,GACC,OAAOtmC,KAAKC,QAAQgL,IAAI,+CACzB,EACAs7B,QAAAA,GACC,OAAOvmC,KAAKC,QAAQgL,IAAI,sCACzB,EAIAu7B,UAAAA,CAAWxxB,EAAIpR,GACd,OAAO5D,KAAKC,QAAQC,KAAK,yCAA2C8U,EACnEpR,EACA,CAAC85B,YAAa1oB,GAEhB,EACAyxB,YAAAA,CAAazxB,EAAIpR,GAChB,OAAO5D,KAAKC,QAAQC,KAAK,2CAA6C8U,EACrEpR,EACA,CAAC85B,YAAa1oB,GAEhB,EACA0xB,cAAAA,GACC,OAAO1mC,KAAKC,QAAQgL,IAAI,6CACzB,GR9BA07B,QS5Bc,CACd17B,GAAAA,CAAIiyB,EAAe6E,GAClB,IAAIhiC,EAAM,mCACPwtB,mBAAmB2P,GACnB,IACA3P,mBAAmBwU,GACtB,OAAO/hC,KAAKC,QAAQC,KAAKH,EAC1B,EACA6mC,IAAAA,CAAK7D,EAAM7F,EAAe6E,EAAwBn+B,GACjD,IAAI7D,EAAM,oCACPwtB,mBAAmB2P,GACnB,IACA3P,mBAAmBwU,GACtB,OAAO/hC,KAAKC,QAAQC,KAAK6iC,EAAMhjC,EAAK6D,EACrC,GTeAijC,KU7Bc,CACdC,aAAAA,CAAc/mC,EAAKsI,EAAQ1H,GAC1B,OAAOX,KAAKC,QAAQgL,IAAI,8CAAgDtK,EAAOqU,GAChF,EACA+xB,YAAAA,CAAaC,GACZ,OAAOhnC,KAAKC,QAAQgL,IAAI,6CAA+C+7B,EACxE,EACAC,kBAAAA,GACC,OAAOjnC,KAAKC,QAAQgL,IAAI,kDACzB,EACAi8B,mBAAAA,CAAoBtjC,GACnB,OAAO5D,KAAKC,QAAQC,KAAK,oDAAqD0D,EAC/E,EACAujC,eAAAA,CAAgB7lC,GACf,OAAOtB,KAAKC,QAAQgL,IAAI,gDAAkD3J,EAC3E,EACA8lC,qBAAAA,CAAsB9lC,EAAK+lC,GAC1B,OAAOrnC,KAAKC,QAAQgL,IAAI,sDAAwD3J,EAAM,IAAM+lC,EAC7F,EACAC,YAAAA,CAAahmC,GACZ,OAAOtB,KAAKC,QAAQgL,IAAI,6CAA+C3J,EACxE,EACAimC,gBAAAA,CAAiBvyB,GAChB,OAAOhV,KAAKC,QAAQgL,IAAI,iDAAmD+J,EAC5E,EACAwyB,QAAAA,GACC,OAAOxnC,KAAKC,QAAQgL,IAAI,wCACzB,EACAw8B,kBAAAA,CAAmB7jC,GAClB,OAAQ5D,KAAKC,QAAQC,KAAK,mDAAoD0D,EAC/E,EACA8jC,WAAAA,CAAY3E,EAAMn/B,GACjB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAK,+CAAiDn/B,EAChF,EACA+jC,cAAAA,CAAe5E,EAAM/tB,EAAIpR,GACxB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAK,+CAAiD/tB,EAAKpR,EACrF,EACAgkC,cAAAA,CAAe5yB,GACd,OAAOhV,KAAKC,QAAQC,KAAK,+CAAiD8U,EAC3E,GVTA6yB,kBW9Bc,CAEdC,oBAAAA,CAAsB/nC,EAAKsI,EAAQ1H,GAClC,OAAOX,KAAKC,QAAQgL,IAAI,8DAAgEtK,EAAOqU,GAChG,EACA+yB,uBAAAA,CAAwBhF,EAAMn/B,GAC7B,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,iEAAkEn/B,EAElG,EACAokC,qBAAAA,CAAsBhzB,GACrB,OAAOhV,KAAKC,QAAQC,KAAK,+DAAgE,CAAC8U,MAC3F,EACAizB,uBAAAA,CAAwBlF,EAAMn/B,GAC7B,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,iEAAkEn/B,EAElG,EACAskC,uBAAAA,CAAwBlzB,GACvB,OAAOhV,KAAKC,QAAQC,KAAK,iEAAkE,CAAC8U,MAC7F,EACAmzB,yBAAAA,GACC,OAAOnoC,KAAKC,QAAQgL,IAAI,mEACzB,EACAm9B,gBAAAA,GACC,OAAOpoC,KAAKC,QAAQgL,IAAI,0DACzB,EACAo9B,gBAAAA,GACC,OAAOroC,KAAKC,QAAQgL,IAAI,0DACzB,EACAq9B,YAAAA,CAAahG,GACZ,OAAOtiC,KAAKC,QAAQC,KAAK,sDAAuD,CAACoiC,kBAClF,EACAiG,iBAAAA,CAAkBjG,GACjB,OAAOtiC,KAAKC,QAAQC,KAAK,2DAA4D,CAACoiC,kBACvF,EACAkG,cAAAA,CAAexE,GACd,OAAOhkC,KAAKC,QAAQgL,IAAI,wDAA0D+4B,EACnF,EACAyE,UAAAA,CAAWzE,GACV,OAAOhkC,KAAKC,QAAQgL,IAAI,oDAAsD+4B,EAC/E,EACAwD,QAAAA,GACC,OAAOxnC,KAAKC,QAAQgL,IAAI,kDACzB,EACAy9B,qBAAAA,CAAsBC,GACrB,OAAO3oC,KAAKC,QAAQC,KAAK,+DAAgE,CAACyoC,QAE3F,GXfAC,OY/Bc,CACdC,IAAAA,GACC,OAAO7oC,KAAKC,QAAQgL,IAAI,kCACzB,EACA69B,cAAAA,CAAe5L,EAAe6E,GAC7B,IAAIhiC,EAAM,6CAA+CwtB,mBAAmB2P,GAI5E,OAHM6E,IACLhiC,EAAMA,EAAM,IAAMwtB,mBAAmBwU,IAE/B/hC,KAAKC,QAAQgL,IAAIlL,EACzB,EACAgpC,kBAAAA,CAAmB7L,EAAe6E,GACjC,IAAIhiC,EAAM,iDAAmDwtB,mBAAmB2P,GAIhF,OAHM6E,IACLhiC,EAAMA,EAAM,IAAMwtB,mBAAmBwU,IAE/B/hC,KAAKC,QAAQgL,IAAIlL,EACzB,EACAipC,iBAAAA,CAAkB9L,EAAe6E,GAChC,IAAIhiC,EAAM,gDAAkDwtB,mBAAmB2P,GAI/E,OAHM6E,IACLhiC,EAAMA,EAAM,IAAMwtB,mBAAmBwU,IAE/B/hC,KAAKC,QAAQgL,IAAIlL,EACzB,EACAkpC,iBAAAA,EAAkBC,qBAACA,EAAoBC,YAAEA,EAAWpH,uBAAEA,EAAsBqH,KAAEA,EAAIC,8BAAEA,IACnF,OAAOrpC,KAAKC,QAAQC,KACnB,+CACA,CACCgpC,uBACAC,cACApH,yBACAqH,QAED,CACC1L,YAAa2L,GAGhB,EACAC,iBAAAA,EAAkBJ,qBAACA,EAAoBC,YAAEA,EAAWpH,uBAAEA,EAAsBsH,8BAAEA,IAC7E,OAAOrpC,KAAKC,QAAQC,KACnB,+CACA,CACCgpC,uBACAC,cACApH,0BAED,CACCrE,YAAa2L,GAGhB,EACAE,gCAAAA,EAAiCL,qBAACA,EAAoBC,YAAEA,EAAWpH,uBAAEA,EAAsBsH,8BAAEA,IAC5F,OAAOrpC,KAAKC,QAAQC,KACnB,8DACA,CACCgpC,uBACAC,cACApH,0BAED,CACCrE,YAAa2L,GAGhB,EACAG,8BAAAA,EAA+BC,wCAACA,EAAuCC,eAAEA,IACxE,OAAO1pC,KAAKC,QAAQC,KACnB,4DACA,CACCupC,2CAED,CACC/L,YAAagM,GAGhB,EACAC,kBAAAA,CAAmBC,EAAQV,EAAsBnH,EAAwB8H,GACxE,MAAMxhC,EAASwhC,EAAsB,CAACvM,eAAe,GAAS,CAAA,EAC9D,OAAOt9B,KAAKC,QAAQC,KAAK,gDACxB,CACC0pC,OAAUA,EACVV,qBAAwBA,EACxBnH,uBAA0BA,GAE3B15B,EAEF,GZtDAyhC,SahCc,CACdC,eAAAA,CAAiBhqC,EAAKsI,EAAQ1H,GAC7B,OAAOX,KAAKC,QAAQgL,IAAI,gDAAkDtK,EAAOqU,GAClF,EACAg1B,mBAAAA,GACC,OAAOhqC,KAAKC,QAAQgL,IAAI,oDACzB,EACAg/B,cAAAA,CAAelH,EAAMn/B,GACpB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,+CAAgDn/B,EAChF,EACAsmC,YAAAA,CAAaC,GACZ,OAAOnqC,KAAKC,QAAQgL,IAAI,6CAA+Ck/B,EACxE,EACAC,cAAAA,CAAerH,EAAMn/B,GACpB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,+CAAgDn/B,EAChF,EACAymC,cAAAA,CAAeF,GACd,OAAOnqC,KAAKC,QAAQC,KAAK,+CAAiDiqC,EAC3E,EACAG,SAAAA,CAAUhI,GACT,OAAOtiC,KAAKC,QAAQgL,IAAI,0CAA4Cq3B,EACrE,EACA4E,mBAAAA,CAAoBtjC,GACnB,OAAO5D,KAAKC,QAAQC,KAAK,oDAAqD0D,EAC/E,EACAwjC,qBAAAA,CAAsB9lC,GACrB,OAAOtB,KAAKC,QAAQgL,IAAI,sDAAwD3J,EACjF,EACAipC,WAAAA,CAAYxqC,EAAKsI,EAAQ1H,GACxB,OAAOX,KAAKC,QAAQgL,IAAI,4CAA8CtK,EAAOqU,GAC9E,EACAw1B,WAAAA,CAAYzqC,EAAKsI,EAAQ1H,GACxB,OAAOX,KAAKC,QAAQgL,IAAI,4CAA8CtK,EAAOqU,GAC9E,EACAy1B,eAAAA,GACC,OAAOzqC,KAAKC,QAAQgL,IAAI,gDACzB,EACAy/B,eAAAA,GACC,OAAO1qC,KAAKC,QAAQgL,IAAI,gDACzB,EACA0/B,qBAAAA,CAAsBhqC,GACrB,OAAOX,KAAKC,QAAQC,KAAK,sDAAwDS,EAAOwpC,SAAUxpC,EACnG,EACAiqC,kBAAAA,CAAmBjqC,GAClB,OAAOX,KAAKC,QAAQC,KAAK,mDAAqDS,EAAOwpC,SAAUxpC,EAChG,EACAkqC,qBAAAA,CAAsBlqC,GACrB,OAAOX,KAAKC,QAAQC,KAAK,sDAAwDS,EAAOwpC,SAAUxpC,EACnG,EACAmqC,kBAAAA,CAAmBnqC,GAClB,OAAOX,KAAKC,QAAQC,KAAK,mDAAqDS,EAAOwpC,SAAUxpC,EAChG,GblBAoqC,OcjCc,CACdvI,eAAAA,CAAgBn6B,EAAQo6B,GAWvB,OAVAp6B,EAAOkiB,QAAU,iCACjBliB,EAAOq6B,WAAa,KACJ,CACd/iC,UAAW8iC,EAAKzZ,WAAWrpB,WAAa8iC,EAAKzZ,WAAW3f,IAAIoQ,GAAKA,EAAE9Z,aAIrE0I,EAAOmiB,gBAAkB,CAACzqB,EAAKsI,EAAQ1H,IAAWX,KAAKC,QAAQC,KAAKH,EAAKY,EAAQ0H,GACjFA,EAAOoiB,aAAe,CAAC1qB,EAAKY,EAAQ+D,IAAaA,EAASd,KAEnDyE,CACR,EACA2iC,iBAAAA,GACC,OAAOhrC,KAAKC,QAAQC,KAAK,+CAC1B,EACA+qC,OAAAA,CAAQrnC,GACP,OAAO5D,KAAKC,QAAQC,KACnB,oCACA0D,EAEF,EACAsnC,aAAAA,CAActnC,GACb,OAAO5D,KAAKC,QAAQC,KACnB,0CACA0D,EAEF,EACAmJ,MAAAA,CAAOnJ,GACN,OAAO5D,KAAKC,QAAQC,KAAK,oCAAqC0D,EAC/D,EACAu/B,QAAOgI,QAACA,EAAO7I,eAAEA,IAChB,OAAOtiC,KAAKC,QAAQC,KAAK,oCAAqC,CAACirC,UAAS7I,kBACzE,GdAA8I,UelCc,CACdC,sBAAAA,CAAuBtrC,EAAKsI,EAAQ1H,GACnC,OAAOX,KAAKC,QAAQgL,IAAI,wDAA0DtK,EAAOqU,GAAK,IAAMrU,EAAO2hC,eAC5G,EACAgJ,oBAAAA,CAAqBvrC,EAAKsI,EAAQ1H,GACjC,OAAOX,KAAKC,QAAQgL,IAAI,sDAAwDtK,EAAOqU,GAAK,IAAMrU,EAAO2hC,eAC1G,EACAiJ,eAAAA,CAAgB5qC,GACf,OAAOX,KAAKC,QAAQC,KAAK,iDAAmDS,EAAOu8B,cAAgB,IAAMv8B,EAAO6qC,gBACjH,EACAC,eAAAA,CAAgB9qC,GACf,OAAOX,KAAKC,QAAQC,KAAK,iDACtBS,EAAOu8B,cAAgB,IACvBv8B,EAAO6qC,gBACX,EACAE,QAAAA,CAASP,GACR,OAAOnrC,KAAKC,QAAQgL,IAAI,0CAA4CkgC,EACrE,EACAQ,WAAAA,GACC,OAAO3rC,KAAKC,QAAQgL,IAAI,6CACzB,EACA2gC,UAAAA,CAAWT,EAASvnC,GACnB,OAAO5D,KAAKC,QAAQC,KAAK,4CAA8CirC,EACtEvnC,EACF,EACAioC,UAAAA,CAAWV,GACV,OAAOnrC,KAAKC,QAAQC,KAAK,4CAA8CirC,EACxE,EACAW,UAAAA,CAAW5O,EAAet5B,GACzB,OAAO5D,KAAKC,QAAQC,KAAK,gDAAkDg9B,EAC1Et5B,EACF,GfIAmoC,WgBnCc,CACdC,eAAAA,CAAgBjsC,EAAKsI,EAAQ1H,GAC5B,OAAOX,KAAKC,QAAQgL,IAAI,oDAAsDtK,EAAOqU,GACtF,EACAi3B,sBAAAA,CAAuB/O,GACtB,OAAOl9B,KAAKC,QAAQgL,IAAI,2DAA6DiyB,EACtF,EACAgP,gBAAAA,GACC,OAAOlsC,KAAKC,QAAQgL,IAAI,qDACzB,EACAkhC,gBAAAA,CAAiBzK,GAChB,OAAO1hC,KAAKC,QAAQgL,IAAI,qDAAuDy2B,EAChF,EACA0K,WAAAA,CAAY9J,GACX,OAAOtiC,KAAKC,QAAQgL,IAAI,gDAAkDq3B,EAC3E,EACA+J,gBAAAA,CAAiBtJ,EAAMn/B,GACtB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,qDAAsDn/B,EACtF,EACA0oC,cAAAA,CAAeC,GACd,OAAOvsC,KAAKC,QAAQgL,IAAI,mDAAqDshC,EAC9E,EACAC,cAAAA,CAAezJ,EAAMn/B,GACpB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAM,qDAAsDn/B,EACtF,EACA6oC,gBAAAA,CAAiBF,GAChB,OAAOvsC,KAAKC,QAAQC,KAAK,qDAAuDqsC,EACjF,GhBSAG,aiBpCc,CACdC,UAAAA,CAAW5sC,EAAKsI,EAAQ1H,GACvB,OAAOX,KAAKC,QAAQgL,IAAI,oDAAsDtK,EAAOqU,GACtF,EACA43B,gBAAAA,GACC,OAAO5sC,KAAKC,QAAQgL,IAAI,0DACzB,EACA4hC,kBAAAA,GACC,OAAO7sC,KAAKC,QAAQgL,IAAI,4DACzB,EACA6hC,gBAAAA,GACC,OAAO9sC,KAAKC,QAAQgL,IAAI,6DACzB,EACA8hC,cAAAA,GACC,OAAO/sC,KAAKC,QAAQgL,IAAI,0DACzB,EACA+hC,kBAAAA,GACC,OAAOhtC,KAAKC,QAAQgL,IAAI,4DACzB,EACAgiC,SAAAA,CAAUj4B,GACT,OAAOhV,KAAKC,QAAQgL,IAAI,oDAAsD+J,EAC/E,EACAk4B,WAAAA,CAAYnK,EAAMn/B,GACjB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAK,sDAAuDn/B,EACtF,EACAupC,WAAAA,CAAYpK,EAAMn/B,GACjB,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAK,sDAAuDn/B,EACtF,EACAwpC,WAAAA,CAAYp4B,GACX,OAAOhV,KAAKC,QAAQC,KAAK,sDAAwD8U,EAClF,GjBOAq4B,WkBrCc,CACdC,aAAAA,CAAcvtC,EAAKsI,EAAQ1H,GAE1B,OAAOX,KAAKC,QAAQgL,IAAI,gDACrBtK,EAAOwoC,YAAc,IACrBxoC,EAAOsgC,WAAa,IACpBtgC,EAAOugC,SAAW,IAClBvgC,EAAO4sC,uBAAyB,IAChC5sC,EAAO6sC,mBAEX,EACAX,kBAAAA,GACC,OAAO7sC,KAAKC,QAAQgL,IAAI,oDACzB,GlByBAwiC,aAAAA,GACC,OAAOztC,KAAKC,QAAQgL,IAAI,qCACzB,EACAyiC,cAAAA,GACC,OAAO1tC,KAAKC,QAAQgL,IAAI,sCACzB,GmBzCD0iC,GAAe,CACdzL,OCHc,CACd0L,UAAAA,CAAY7tC,EAAKsI,EAAQ1H,GACxB,OAAOX,KAAKC,QAAQgL,IAAI,gDAAkDtK,EAAOqU,GAAK,IAAMrU,EAAOuC,KACpG,EACA2qC,MAAAA,GACC,OAAO7tC,KAAKC,QAAQgL,IAAI,4CACzB,EACA6iC,WAAAA,CAAY/K,EAAM/tB,EAAIuX,GACrB,OAAOvsB,KAAKC,QAAQC,KAAK6iC,EAAK,iDAAmD/tB,EAChFuX,EAEF,EACAwhB,SAAAA,CAAUC,GACT,OAAOhuC,KAAKC,QAAQC,KAAK,+CAAgD,CACxE8tC,YAEF,EACAC,aAAAA,CAAcD,GACb,OAAOhuC,KAAKC,QAAQC,KAAK,mDAAoD,CAC5E8tC,YAEF,EACAE,WAAAA,CAAYF,EAAUG,EAASn5B,GAC9B,OAAOhV,KAAKC,QAAQC,KAAK,iDAAkD,CAC1E8tC,WACAG,UACAn5B,MAEF,EACAo5B,WAAAA,CAAYrL,EAAMiL,EAAUzhB,GAC3B,OAAOvsB,KAAKC,QAAQC,KAAK6iC,EAAK,iDAAmDiL,EAChFzhB,EAEF,EACAic,cAAAA,CAAej1B,GACd,OAAOvT,KAAKC,QAAQgL,IAAI,oDAAsDsI,EAC/E,EACA86B,YAAAA,CAAar5B,EAAIm5B,GAChB,OAAOnuC,KAAKC,QAAQgL,IAAI,kDACzB,ICrCDqjC,GAAe,CACdpM,OCHc,CACd/f,oBAAAA,CAAqBpiB,EAAKsI,EAAQ1H,GACjC,OAAOX,KAAKC,QAAQgL,IAAI,uEAAyEtK,EAAOuC,KAAO,IAAMvC,EAAOqU,GAC7H,EACAqN,oBAAAA,CAAqB0gB,EAAMpjC,EAAW4sB,GACrC,OAAOvsB,KAAKC,QAAQC,KAAK6iC,EAAM,uEAC9BpjC,EAAW4sB,EAEb,EACAjK,kBAAAA,CAAmBC,GAClB,OAAOviB,KAAKC,QAAQC,KAAK,qEAAuEqiB,EACjG,EACAC,oBAAAA,CAAqBugB,EAAMxgB,EAAyBgK,GACnD,OAAOvsB,KAAKC,QAAQC,KAAK6iC,EAAM,uEAAyExgB,EACvGgK,EACF,EACA9J,oBAAAA,CAAqBF,GACpB,OAAOviB,KAAKC,QAAQC,KAAK,uEAAyEqiB,EACnG,EACAG,sBAAAA,GACC,OAAO1iB,KAAKC,QAAQgL,IAAI,yEACzB,EACA0X,iBAAAA,CAAkBC,GACjB,OAAO5iB,KAAKC,QAAQgL,IAAI,oEAAsE2X,EAC/F,ICxBD2rB,GAAe,CACbC,YAAAA,CAAaC,GACb,OAAOzuC,KAAKC,QAAQgL,IACV4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,iCACT,CAAE2kB,WAAYyN,GAEhB,EACAC,QAAAA,CAASC,EAAOjX,EAAKC,EAAKiX,EAAKC,EAAiB,GAC/C,OAAO7uC,KAAKC,QAAQgL,IACnB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,gCACA,CAAEsyB,QAAOjX,MAAKC,MAAKiX,MAAKC,kBAE1B,EACAC,YAAAA,GACC,OAAO9uC,KAAKC,QAAQgL,IACnB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,gCAEF,GCvBD0yB,GAAe,CACXC,OAAAA,CAAQC,EAAYC,EAAQ,KAAMC,EAAQ,KAAMC,EAAS,MACrD,OAAOpvC,KAAKC,QAAQgL,IACzB,+BACA,CACCgkC,WAAYA,KACRC,EAAQ,CAACA,WAAS,MAClBC,EAAQ,CAACA,WAAS,MAClBC,EAAS,CAACA,YAAU,CAAA,GAGxB,EAEHC,OAAAA,CAAQ7+B,EAAO,EAAG8+B,EAAY,GAAIH,GACjC,OAAOnvC,KAAKC,QAAQgL,IACnB,+BACA,CACCuF,OACA8+B,YACAH,WAGH,EAEAI,IAAAA,CAAKC,GACJ,OAAOxvC,KAAKC,QAAQgL,IACnB,4BACA,CACCukC,MAAOA,GAGV,EACAC,gBAAiB,WAChB,OAAOzvC,KAAKC,QAAQgL,IACnB,uCACA,CAAA,EAEF,EACAykC,aAAc,WACb,OAAO1vC,KAAKC,QAAQgL,IACnB,iDACA,CAAA,EAEF,GC3CD0kC,GAAe,CACXC,gBAAAA,CAAiBrO,GACX,OAAOvhC,KAAKC,QAAQgL,IAChB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,yCACA,CAAEklB,eAAgBA,GAE1B,EACLsO,SAAAA,CAAU9N,EAAwBmH,GACjC,OAAOlpC,KAAKC,QAAQgL,IACnB,6BAA6B82B,KAA0BmH,IACrD,GAEJ,EACA4G,oBAAAA,CAAqB5G,GACpB,OAAOlpC,KAAKC,QAAQgL,IACnB,qCAAqCi+B,IACnC,GAEJ,EACA6G,yBAAAA,CAA0BzuC,GACzB,OAAOtB,KAAKC,QAAQgL,IACnB,oDAAoD3J,IAClD,GAEJ,EACA0uC,wBAAAA,CAAyBC,GACxB,OAAOjwC,KAAKC,QAAQgL,IACnB,kDACE,CACDilC,iBAAkBD,EAAOC,iBACzB/G,YAAa8G,EAAO9G,aAGvB,EACAgH,iCAAAA,CAAkC5jB,GAGjC,OAAOvsB,KAAKC,QAAQC,KAFR,2DAEkBqsB,EADd,CAAC6jB,QAAS,CAAE,eAAgB,wBAE7C,EACAC,sCAAAA,CAAuC9jB,GAGtC,OAAOvsB,KAAKC,QAAQC,KAFR,gEAEkBqsB,EADd,CAAC6jB,QAAS,CAAE,eAAgB,wBAE7C,EACAE,iCAAAA,CAAkCC,EAAapH,GAC9C,MAAMppC,EAAM,iEAAiEwwC,iBAA2BpH,IAExGz/B,OAAO2I,SAAWwD,2BAA2BuG,SAAWvG,2BAA2BwG,UAAYtc,CAChG,EACAywC,6BAAAA,CAA8BlvC,EAAKw2B,GAClC,OAAO93B,KAAKC,QAAQgL,IACnB,gEAAgE6sB,IAC9D,GAEJ,EACA2Y,uBAAAA,CAAwBC,GACvB,MAAM7wC,EAAU,CACf0wC,YAAaG,EAAOH,YACpBI,mBAAoBD,EAAO9f,YAAY+f,mBACvChC,MAAO+B,EAAO/B,MACdiC,UAAWF,EAAOE,UAClBvvB,UAAWqvB,EAAOrvB,UAClB7D,OAAQkzB,EAAOlzB,OACf0yB,iBAAkBQ,EAAOR,kBAI1B,OAAOlwC,KAAKC,QAAQC,KAFR,iDAEkBL,EAAS,KAExC,EACAgxC,yBAAAA,CAA0BN,GACzB,MAAM1wC,EAAU,CACf0wC,eAID,OAAOvwC,KAAKC,QAAQC,KAFR,mDAEkBL,EAAS,KACxC,EACAixC,gBAAAA,CAAiBnC,EAAOgC,EAAoB/f,EAAapT,EAAQuzB,GAChE,MAAMlxC,EAAU,CACf8uC,QAAOgC,qBAAoB/f,cAAapT,SAAQuzB,qBAIjD,OAAO/wC,KAAKC,QAAQC,KAFR,0CAEkBL,EAAS,KACxC,EACAmxC,cAAAA,CAAerxC,GACd,MAAME,EAAU,CACfF,aAID,OAAOK,KAAKC,QAAQC,KAFR,wCAEkBL,EAAS,KACxC,GC/FDoxC,GAAe,CACXC,SAAAA,CAAUC,EAAMpP,GACZ,OAAO/hC,KAAKC,QAAQgL,IAChB4K,2BAA2BuG,SAC3BvG,2BAA2BwG,UAC3B,qCAAqC80B,KAAQpP,IAC7C,CAAA,EAER,GCNJqP,GAAe,CACdlP,OCHc,CACbmP,WAAAA,CAAYtxC,EAAKsI,EAAQ1H,GACxB,OAAOX,KAAKC,QAAQgL,IAAI,iDAAmDtK,EAAOqU,GAAK,IAAMrU,EAAOuC,KAAO,IAAMvC,EAAO2wC,KAAO,IAAM3wC,EAAO6P,KAC7I,EACA+gC,WAAAA,GACC,OAAOvxC,KAAKC,QAAQgL,IAAI,iDACzB,EACAumC,sBAAAA,GACC,OAAOxxC,KAAKC,QAAQgL,IAAI,4DACzB,EACAwmC,oBAAAA,CAAqB9wC,GACpB,OAAOX,KAAKC,QAAQgL,IAAI,0DAA4DtK,EAAOqU,GAAK,IAAMrU,EAAOwtC,QAC9G,EACAuD,oBAAAA,CAAqB/wC,GACpB,OAAOX,KAAKC,QAAQgL,IAAI,0DAA4DtK,EAAOqU,GAAK,IAAMrU,EAAOwtC,QAC9G,EACAwD,WAAAA,CAAYhxC,GACX,OAAOX,KAAKC,QAAQgL,IAAI,iDAAkDtK,EAAOqU,GAAK,IAAMrU,EAAOwtC,QACpG,EACAN,MAAAA,CAAOltC,GACN,OAAOX,KAAKC,QAAQgL,IAAI,4CAA6CtK,EAAOqU,GAAK,IAAMrU,EAAOwtC,QAC/F,EACAyD,cAAAA,CAAeC,GACd,OAAO7xC,KAAKC,QAAQgL,IAAI,oDAAsD4mC,EAC/E,EACAC,yBAAAA,CAA0BnxC,GACzB,OAAOX,KAAKC,QAAQgL,IAAI,+DAAiEtK,EAAOqU,GAAK,IAAMrU,EAAOwtC,QACnH,EACA4D,cAAAA,CAAepxC,EAAQiD,GACtB,OAAO5D,KAAKC,QAAQC,KAAK,oDAAsDS,EAAOqU,GAAK,IAAMrU,EAAOwtC,QACvGvqC,EACF,EACAouC,YAAAA,CAAaC,GACZ,OAAOjyC,KAAKC,QAAQgL,IAAI,kDAAoDgnC,EAC7E,EACAC,2BAAAA,CAA4BnP,EAAM/tB,EAAIpR,GACrC,OAAO5D,KAAKC,QAAQC,KAAK6iC,EAAK,iDAAmD/tB,EAChFpR,EACF,EACAuuC,WAAAA,CAAYn9B,EAAIpR,GACf,OAAO5D,KAAKC,QAAQC,KAAK,iDAAmD8U,EAC3EpR,EACF,EACAwuC,aAAAA,CAAcH,GACb,OAAOjyC,KAAKC,QAAQC,KAAK,mDAAqD+xC,EAC/E,IC7CFI,GAAe,CACdd,WAAAA,GACC,OAAOvxC,KAAKC,QAAQgL,IAAI,iDACzB,EACAqnC,yBAAAA,GACC,OAAOtyC,KAAKC,QAAQgL,IAAI,+DACzB,GCNDsnC,GAAe,CAEd1F,mBAAoB,WACnB,OAAO7sC,KAAKC,QAAQgL,IACnB,uCACA,CAAA,EAEF,EAEAunC,sBAAuB,SAAUnV,OAAgBz4B,EAAW6tC,OAAY7tC,EAAWyiC,OAASziC,EAAW8tC,OAAY9tC,GAClH,OAAO5E,KAAKC,QAAQgL,IACnB,iDACA,CAACoyB,kBAAiBoV,cAAapL,WAAUqL,eAE3C,EAEAC,mCAAoC,SAAUtV,GAC7C,OAAOr9B,KAAKC,QAAQgL,IACnB,+DAA+DoyB,IAC/D,GAEF,EACAuV,2BAA4B,SAAUH,EAAapV,GAClD,OAAOr9B,KAAKC,QAAQgL,IACnB,sDACA,CACCwnC,cACApV,mBAGH,EACAwV,4BAA6B,SAAUxV,EAAiB8T,GACvD,OAAOnxC,KAAKC,QAAQgL,IACnB,uDAAuDoyB,KAAmB8T,IAC1E,GAGF,EACA2B,qBAAsB,SAAU/Q,EAAwBoP,GACvD,OAAOnxC,KAAKC,QAAQgL,IACnB,iDAAiD82B,KAA0BoP,IAC3E,GAGF,GCAD4B,GAAe,CACX5W,iBACAtgB,EACA+gB,aACAoW,UChDW,CACd,iBAAMC,GAEL,OAAOjzC,KAAKC,QAAQgL,IADR,0CACiB,KAAM,KACpC,UD6CGzE,EACAs2B,aACAmC,SACAU,gBACAmB,UACAoS,SEtDW,CAEXC,aAAc,WACZ,OAAOnzC,KAAKC,QAAQgL,IAClB,yCACC,CAAA,EAEL,EAEAk4B,OAAQ,SAAUiQ,GAChB,OAAOpzC,KAAKC,QAAQgL,IAClB,oCAAoCmoC,IACnC,GAEL,EAEHrmC,OAAQ,UAAUqmC,YAAEA,EAAWrzC,IAAEA,EAAGoO,MAAEA,EAAK2X,IAAEA,EAAI,OAChD,OAAO9lB,KAAKC,QAAQC,KACnB,oCAAoCkzC,IAClC,CACDrzC,IAAKA,EACLoO,MAAOA,GAGV,EAEG80B,OAAQ,UAAUljC,IAACA,EAAGoO,MAAEA,EAAK2X,IAAEA,IAC7B,OAAO9lB,KAAKC,QAAQC,KAClB,mCACC,CACCH,IAAKA,EACLoO,MAAOA,EACP2X,IAAKA,GAGX,GFoBA6b,OACAgM,SACAW,kBACA7uC,cACA4zC,OG3DW,CAEX9oC,KAAM,WACF,OAAOvK,KAAKC,QAAQgL,IACpB,+BAA+B,CAAA,EACnC,EAEA6sB,IAAK,WACD,OAAO93B,KAAKC,QAAQgL,IACpB,8BAA8B,CAAA,EAClC,EAEAwW,QAAS,SAAU6xB,GACf,OAAOtzC,KAAKC,QAAQgL,IACpB,mCAAmCqoC,IAAW,GAClD,GH6CA/E,OACAQ,OACAY,SACAsB,UACAG,YACAiB,YACApB,UACHwB,YInEc,CACdc,uBAAwB,WACvB,OAAOvzC,KAAKC,QAAQgL,IACnB,+CACA,CAAA,EAEF,EACAuoC,mBAAoB,SAAUlR,GAC7B,OAAOtiC,KAAKC,QAAQgL,IACnB,iEACA,CACCq3B,eAAkBA,GAGrB,GJsDAmR,KKpEc,CACd58B,QAAS,WACR,OAAO7W,KAAKC,QAAQgL,IACnB,mCACA,CAAA,EAEF,GL+DAyoC,SMpEc,CACdC,UAAAA,GACC,OAAO3zC,KAAKC,QAAQgL,IACnB,uCACA,CAAA,EAEF,EACA2oC,WAAAA,GACC,OAAO5zC,KAAKC,QAAQgL,IACnB,wCACA,CAAA,EAEF,GNyDAsnC,WACG9V,SOtDW,CACdoX,MAAAA,GACC,OAAO7zC,KAAKC,QAAQgL,IAAI,gCACzB,ICbD6oC,GAAe,CACdC,QAASA,CAACC,EAAK/pC,KACd,GAAI+pC,EAAI3rC,OAAO4rC,iBAAiBh0C,QAO/B,YALIgK,GAASkc,UACZpK,QAAQqK,KAAK,0BACb4tB,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQkmB,QAAQ+tB,aAAajqC,EAAQkc,WAMnE,SAASguB,EAAYpR,EAAMqR,EAAKxwC,EAAMyE,GACrC,GAAmB,iBAAR06B,QAA+Bn+B,IAAXyD,GAC7B+rC,EAAKxwC,EAAMyE,GAAU,CAAC06B,EAAMqR,EAAKxwC,GAClCm/B,OAAOn+B,OACD,GAAIm+B,EAAM,CAChB,GAAmB,iBAARA,EACV,MAAM,IAAIsR,UAAU,iEACTzvC,IAARwvC,QAA8BxvC,IAAThB,QAAiCgB,IAAXyD,IAC9CA,EAAS06B,EACTA,OAAOn+B,EAET,CACA,GAAIm+B,EAAM,CAET,IAAKA,EAAKrc,kBAAoBqc,EAAKpc,YAClC,MAAM,IAAI0tB,UAAU,kCAErBtR,EAAO,CACNrc,gBAAiBqc,EAAKrc,gBACtBC,YAAaoc,EAAKpc,aAGfte,EACHA,EAAO06B,KAAOA,EAEd16B,EAAS,CAAC06B,OACZ,CAEA,MAAO,CAACqR,EAAKxwC,EAAMyE,EACpB,CAEA,SAASisC,EAAoB5vC,GAC5B,MAAM+W,EAAS/W,EAASd,KAMxB,cALOc,EAASd,KACX6X,EAAOmG,KAGXnG,EAAOmG,KAAKld,SAAWA,EAFvB+W,EAAOmG,KAAO,CAACld,YAGT+W,CACR,CACgB5F,2BAA2BuG,SAAWvG,2BAA2BwG,UACjF,MAAMk4B,EAAcj0C,MAAM+lB,OAAO,CAChCoY,QAAS,IACT+V,QAAS3+B,2BAA2BuG,SAAWvG,2BAA2BwG,UAAY,MAGvFk4B,EAAYE,aAAaC,QAAQ5vB,IAAIzc,IACpC,GAAqB,QAAjBA,EAAO3H,SAAqB2H,EAAOzE,KACtC,OAAOyE,EAER,GAAIA,EAAOzE,gBAAgB+wC,SAC1B,OAAOtsC,EAER,IAAKhB,OAAO0Y,OAAO1X,EAAOzE,MAAMgxC,MAAM3yB,KACjCA,aAAgB4yB,aAEhB1vC,MAAM0D,QAAQoZ,IACVA,EAAK2yB,MAAMzoC,KAAOA,aAAa2oC,SAEpC,CACH,MAAMC,EAAU1tC,OAAO8f,QAAQ9e,EAAOzE,MAAMiC,OAAO,CAACmvC,GAAK1kB,EAAKrO,MAC7D,GAAIA,aAAgB4yB,SACnB,IAAK,MAAM7qC,KAAQiY,EAClB+yB,EAAGL,SAAS9oB,OAAOyE,GAAOrO,EAAKtb,OAAS,EAAI,KAAO,IAAKqD,QAC/C7E,MAAM0D,QAAQoZ,GACpBA,EAAK2yB,MAAMzoC,KAAOA,aAAa2oC,OAClCE,EAAGC,SAAS3kB,GAAOrO,EAEnBA,EAAKhW,QAAQjC,GAAQgrC,EAAGL,SAAS9oB,OAAOyE,GAAOrO,EAAKtb,OAAS,EAAI,KAAO,IAAKqD,IAG9EgrC,EAAGC,SAAS3kB,GAAOrO,EAEpB,OAAO+yB,GACL,CACFL,SAAU,IAAIA,SACdM,SAAU,CAAA,IAEXF,EAAQJ,SAAS9oB,OAAO,YAAajb,KAAKE,UAAUikC,EAAQE,WAC5D5sC,EAAOzE,KAAOmxC,EAAQJ,QACvB,CAEA,OAAOtsC,IAGRksC,EAAYE,aAAa/vC,SAASogB,IAAIpgB,IACC,OAAlCA,EAAS2D,QAAQi1B,gBACkB,IAAnC54B,EAAS2D,QAAQi1B,eACiB,QAAlC54B,EAAS2D,QAAQi1B,eAIjB54B,EAASd,KAAKsxC,SACjBxwC,EAASd,KAAKsxC,OAASxwC,EAASd,KAAKsxC,OAAO1uC,OAC3C8V,IAAQ5X,EAAS2D,OAAOiU,EAAIpZ,KAAO,iBAAmB8wC,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQumB,sBAAsBlK,EAAIpZ,OAAOoZ,EAAK5X,EAAS2D,UALnIisC,EAAoB5vC,IAS1BvE,GACgB,gBAAdA,EAAMsnB,KACFvjB,QAAQ4Y,OAAO,CAAKkQ,SAAS,KAAU7sB,IAEZ,OAA/BA,EAAMkI,QAAQi1B,gBACkB,IAAhCn9B,EAAMkI,QAAQi1B,eACiB,WAA/Bn9B,EAAMkI,QAAQi1B,cACVp5B,QAAQ4Y,OAAO3c,GAEnBA,EAAMuE,SACoB,KAAzBvE,EAAMuE,SAASmd,QAClBmyB,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU+1B,aAAa,QAASh1C,EAAM2E,QAAS3E,EAAMu0C,QAAQU,aAAa,GAC/FlxC,QAAQ4Y,OAAO,CAAKkQ,SAAS,KAAU7sB,MAI/CA,EAAMuE,SAASd,KAAKsxC,OAAS/0C,EAAMuE,SAASd,KAAKsxC,OAAO1uC,OACvD8V,IAAQnc,EAAMkI,OAAOiU,EAAIpZ,KAAO,iBAAmB8wC,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQumB,sBAAsBlK,EAAIpZ,OAAOoZ,EAAKnc,EAAMkI,SAE/HlI,EAAMuE,SAASd,KAAKsxC,OAAOvuC,OAU1BzC,QAAQ4Y,OAAO3c,GATb+D,QAAQ4Y,OAAO,CAAKkQ,SAAS,KAAU7sB,KACrCA,EAAMu0C,SAChBV,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU+1B,aAAa,QAASh1C,EAAM2E,QAAS3E,EAAMu0C,QAAQU,aAClFlxC,QAAQ4Y,OAAO,CAAKkQ,SAAS,KAAU7sB,MAE9C6zC,EAAI3rC,OAAO4rC,iBAAiB70B,UAAUib,WAAWl6B,EAAM2E,SAChDZ,QAAQ4Y,OAAO,CAAKkQ,SAAS,KAAU7sB,MAMhD6zC,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAU,CACrC+hC,OAAOjiC,IACNgc,QAAQqK,KAAK,0DACNmuB,EAAYvS,OAAO,CAACjiC,SAE5BkL,IAAGA,CAAC83B,EAAMqR,EAAKzzC,EAAQ0H,KACtB0T,QAAQqK,KAAK,qDACZguB,EAAKzzC,EAAQ0H,GAAU8rC,EAAYpR,EAAMqR,EAAKzzC,EAAQ0H,GACnD1H,IACC0H,EACHA,EAAO1H,OAASA,EAEhB0H,EAAS,CAAC1H,WAEL4zC,EAAYtpC,IAAImpC,EAAK/rC,IAE7BnI,KAAIA,CAAC6iC,EAAMqR,EAAKxwC,EAAMyE,KACrB0T,QAAQqK,KAAK,uDACZguB,EAAKxwC,EAAMyE,GAAU8rC,EAAYpR,EAAMqR,EAAKxwC,EAAMyE,GAC5CksC,EAAYr0C,KAAKk0C,EAAKxwC,EAAMyE,IAEpCme,sBAAuB,CACtB6uB,UAAAA,CAAWl1C,EAAOkI,GACjB,MAAM+W,EAAY40B,EAAI3rC,OAAO4rC,iBAAiB70B,UAE9C,OAAI/W,GAAQ06B,MACX16B,EAAO06B,KAAKrc,kBACZre,EAAO06B,KAAKpc,aAAY,EAAOxmB,EAAMixC,WAC9B,GAEJjsC,MAAM0D,QAAQ1I,EAAMixC,WACvBjxC,EAAMixC,SAASnlC,QAAQmT,EAAUib,aAC1B,GAC4B,iBAAlBl6B,EAAMixC,WACnB/oC,GAAQq1B,YACXr2B,OAAO0Y,OAAO5f,EAAMixC,UAAUnlC,QAC7B3F,GAAS8Y,EAAU+1B,aAClB,QACAhwC,MAAM0D,QAAQR,EAAOq1B,aAAesW,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAEmjC,MAAM,KAAMjtC,EAAOq1B,aAAer1B,EAAOq1B,YAC9Gp3B,GACA,IAIFe,OAAO8f,QAAQhnB,EAAMixC,UAAUnlC,QAC9B,EAAEqkB,EAAKhqB,KAAW8Y,EAAU+1B,aAAa,QAAS7kB,EAAKhqB,GAAO,KAEzD,EAGT,EACAivC,OAAAA,CAAQp1C,EAAOkI,GACd,MAAM+W,EAAY40B,EAAI3rC,OAAO4rC,iBAAiB70B,UAE1C/W,GAAQ06B,KACX16B,EAAO06B,KAAKpc,aAAY,EAAOxmB,EAAM2E,SAC7BuD,GAAQq1B,YAChBte,EAAU+1B,aACT,QACAhwC,MAAM0D,QAAQR,EAAOq1B,aAAesW,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAEmjC,MAAM,KAAMjtC,EAAOq1B,aAAer1B,EAAOq1B,YAC9Gv9B,EAAM2E,SACN,GAGDsa,EAAUib,WAAWl6B,EAAM2E,QAC7B,EACA0wC,GAAAA,CAAIr1C,GACH,MAAMif,EAAY40B,EAAI3rC,OAAO4rC,iBAAiB70B,UAE9C,IAAIta,EAAU,GAYd,OAXAA,GAAW,YAAc3E,EAAM2E,QAAU,OACzCA,GAAW,aAAe3E,EAAMs1C,SAAW,KAC3C3wC,GAAW,gBAAkB3E,EAAMu1C,KAAO,KACtCv1C,EAAMw1C,WAAax1C,EAAMw1C,UAAUhvC,SACtC7B,GAAW,gBACX3E,EAAMw1C,UAAU1pC,QAAQqQ,IACvBxX,GAAW,aAAewX,EAAItS,KAAO,KACrClF,GAAW,WAAawX,EAAIo5B,KAAO,KACnC5wC,GAAW,eAAiBwX,EAAIs5B,SAAW,QAGrCz1C,EAAM01C,UACb,IAAK,UACL,IAAK,eACL,IAAK,kBACL,IAAK,eACJz2B,EAAU+1B,aAAa,OAAQ,OAASh1C,EAAM01C,SAAU/wC,GAAS,GACjE,MACD,IAAK,SACL,IAAK,cACL,IAAK,iBACJsa,EAAU+1B,aAAa,OAAQ,OAASh1C,EAAM01C,SAAU/wC,GAAS,GACjE,MACD,QACCA,EAAU,aAAe3E,EAAM01C,SAAW,OAAS/wC,EACnDsa,EAAU02B,iBAAiBhxC,GAG9B,EACAixC,SAAAA,CAAU51C,GACT,MAAMif,EAAY40B,EAAI3rC,OAAO4rC,iBAAiB70B,UAE9C,IAAIta,EAAU,GACdA,GAAW,SAAW3E,EAAMokB,MAAQ,OACpCzf,GAAW,YAAc3E,EAAM2E,QAAU,OACzCA,GAAW,aAAe3E,EAAMs1C,SAAW,KAC3C3wC,GAAW,gBAAkB3E,EAAMu1C,KAAO,KACtCv1C,EAAMw1C,WAAax1C,EAAMw1C,UAAUhvC,SACtC7B,GAAW,gBACX3E,EAAMw1C,UAAU1pC,QAAQqQ,IACvBxX,GAAW,aAAewX,EAAItS,KAAO,KACrClF,GAAW,WAAawX,EAAIo5B,KAAO,KACnC5wC,GAAW,eAAiBwX,EAAIs5B,SAAW,QAG7Cx2B,EAAU02B,iBAAiBhxC,EAC5B,EACAkxC,EAAAA,CAAG71C,GACF,MAAMif,EAAY40B,EAAI3rC,OAAO4rC,iBAAiB70B,UAE9C,IAAIta,EAAU,QACQF,IAAlBzE,EAAM81C,UACTnxC,GAAW3E,EAAM81C,QAAU,aACTrxC,IAAfzE,EAAMsnB,OACT3iB,GAAW,SAAW3E,EAAMsnB,KAAO,aAClB7iB,IAAdzE,EAAM+1C,MACTpxC,GAAW,QAAU3E,EAAM+1C,IAAM,aACZtxC,IAAlBzE,EAAM2E,QACTA,GAAW,YAAc3E,EAAM2E,QAAU,YACdF,IAAnBzE,EAAMixC,WACdtsC,GAAW,aAAe3E,EAAMixC,SAAS/pB,KAAK,QAAU,aAClCziB,IAAnBzE,EAAMs1C,WACT3wC,GAAW,aAAe3E,EAAMs1C,SAAW,WACzB7wC,IAAfzE,EAAMu1C,OACT5wC,GAAW,gBAAkB3E,EAAMu1C,KAAO,MAE3Ct2B,EAAU02B,iBAAiBhxC,EAC5B,EACAqxC,IAAAA,CAAKh2C,EAAOkI,GACX,MAAM+W,EAAY40B,EAAI3rC,OAAO4rC,iBAAiB70B,UAE9C,IAAIta,EAAU,GACdA,GAAW,oBAAsB3E,EAAMi2C,WAAa,KACpDtxC,GAAW,gBAAkB3E,EAAMO,OAAS,KAC5CoE,GAAW,yBAA2B3E,EAAMk2C,qBACxChuC,GAAQq1B,YACXte,EAAU+1B,aACT,QACAhwC,MAAM0D,QAAQR,EAAOq1B,aAAesW,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAEmjC,MAAM,KAAMjtC,EAAOq1B,aAAer1B,EAAOq1B,YAC9Gv9B,EAAM2E,SACN,GAGDsa,EAAU+1B,aAAa,QAASh1C,EAAM2E,QAASA,EACjD,IAKF,MAAMwxC,EACLC,WAAAA,CAAYC,EAAaC,QACX7xC,IAAT6xC,GACHz2C,KAAKC,QAAU,CACd+hC,OAAOjiC,IACNgc,QAAQqK,KAAK,kCACN4tB,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQ+hC,OAAOjiC,IAEnDkL,IAAGA,CAAC83B,EAAMqR,EAAKzzC,EAAQ0H,KACtB0T,QAAQqK,KAAK,kCACN4tB,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQgL,IAAI83B,EAAMqR,EAAKzzC,EAAQ0H,IAEnEnI,KAAIA,CAAC6iC,EAAMqR,EAAKxwC,EAAMyE,KACrB0T,QAAQqK,KAAK,kCACN4tB,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQC,KAAK6iC,EAAMqR,EAAKxwC,EAAMyE,KAGnEhB,OAAOqvC,eAAe12C,KAAKC,QAAS,UAAW,CAC9CgL,IAAGA,KACF8Q,QAAQqK,KAAK,kCACN4tB,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQkmB,WAG7C6tB,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQkmB,QAAUnmB,MAE9CqH,OAAOqvC,eAAe12C,KAAM,UAAW,CACtCiL,GAAAA,GACC,OAAQwrC,GAAQz2C,MAAMC,OACvB,IAIFD,KAAKk0C,aAAasC,GAAa,EAChC,CAEAtC,YAAAA,CAAasC,EAAaG,GACzBtvC,OAAOiQ,KAAKk/B,GAAavqC,QAAQqkB,IAChCjpB,OAAOqvC,eAAe12C,KAAMswB,EAAK,CAChCrlB,GAAAA,GACC,MAA+B,mBAApBurC,EAAYlmB,GACfkmB,EAAYlmB,GAAKsmB,KAAK52C,MACvB,IAAIs2C,EAAqBE,EAAYlmB,GAAMtwB,KAAKC,QAAQkmB,QAChE,MAGGwwB,GAAQ56B,QAAQqK,KAAK,gDAC3B,EAGD,MAAMD,EAAU,IAAImwB,EAAqBvD,IACrC9oC,GAASkc,UACZpK,QAAQqK,KAAK,0BACbD,EAAQ+tB,aAAajqC,EAAQkc,UAG9B6tB,EAAI3rC,OAAO4rC,iBAAiBh0C,QAAQkmB,QAAUA,EAG9C6tB,EAAIxuB,QAAQ,UAAWwuB,EAAI3rC,OAAO4rC,iBAAiBh0C,WCtVrD,MASM42C,GAAyB,QACzBC,GAA0B,SASnBC,GAAiB,CAS7B9rC,IAAK,SAAS+rC,EAAOC,EAAcC,EAAkB,MACpD,OAAOH,GAAeI,WAAWH,EAAOC,EAhBd,MAgBiDC,EAC5E,EAOAh3C,KAAM,SAAS82C,EAAOC,EAAcC,EAAkB,MACrD,OAAOH,GAAeI,WAAWH,EAAOC,EAxBb,OAwBiDC,EAC7E,EAKAE,UAAW,SAAS1yC,GAEnB,QAAwB,iBAAbA,IAAyBA,EAASsM,eAAe6lC,MACxDnyC,EAASsM,eAAe8lC,KAzCG,GAyCyBpyC,EAASvE,MAMlE,EAKAk3C,QAAS,SAAS3yC,GACjB,OAAQqyC,GAAeK,UAAU1yC,EAClC,EAKA4yC,QAAS,SAAS5yC,GAEjB,SAAIqyC,GAAeK,UAAU1yC,MAEsB,iBAAtCA,EAASoyC,KAAyCzvC,OAAOiQ,KAAK5S,EAASoyC,KAA0BnwC,OAAS,GACpE,gBAAtCjC,EAASoyC,KAAwCpyC,EAASoyC,IAAyBnwC,OAAS,GACtD,iBAAtCjC,EAASoyC,KAAqF,IAA5CpyC,EAASoyC,IAAyBt2B,QAC/C,iBAAtC9b,EAASoyC,KAOtB,EAKAnrB,QAAS,SAASjnB,GAEjB,OAAIqyC,GAAeO,QAAQ5yC,GAEnBA,EAASoyC,IAGV,IACR,EAKAS,SAAU,SAAS7yC,GAElB,MAAwB,iBAAbA,GACP2C,OAAOiQ,KAAK5S,GAAUiC,OAAS,GAC/BjC,EAASsM,eAAe8lC,IAEpBpyC,EAASoyC,IAGV,eACR,EAKAU,aAAc,SAAS9yC,GAEtB,MAAwB,iBAAbA,GAAyBA,EAASsM,eAAe6lC,IAEpDnyC,EAASmyC,IAGV,CACR,EAQAY,mBAAoB,SAAST,GAC5B,IAAI5C,EAAM,KAQV,MAL0C,oBAA/Bv+B,6BAEVu+B,EAAMv+B,2BAA2BuG,SAAWvG,2BAA2BwG,UAAY,IAAM26B,GAGnF5C,CACR,EAKAsD,YAAa,SAASC,EAAYjzC,EAAUkzC,GAqB5C,EASAT,WAAY,SAASH,EAAOC,EAAc/zC,EAAMg0C,GAG/C,IAAIW,EAAe,CAClBn3C,OAAQwC,EACRnD,IAAKg3C,GAAeU,mBAAmBT,GACvCvY,QAnL8B,KAkM/B,GArL0B,OA0KtBv7B,EAEH20C,EAAal3C,OAASs2C,EAKtBY,EAAaj0C,KAAOqzC,EAIU,iBAApBC,EAGV,IAAK,IAAI3uB,KAAQ2uB,EAAiBW,EAAatvB,GAAQ2uB,EAAgB3uB,GAIxE,OAAOjoB,MAAMu3C,EACd,GC5HKC,GAAqB9sC,SAAS6Z,cAAc,OAE5CkzB,GAAYr9B,IAAI2J,UAAU,CAC/Bne,KAAM,cACN8H,WAAY,CACXgqC,UACAC,aAEDj0C,QAAS,CACRk0C,UAAUC,GAgBF,UAfMtiC,2BAA2BuiC,mBAejC,yCAbI,koBAQMviC,2BAA2BC,YAAc,IAAMD,2BAA2BE,cAAgB,mCACtFoiC,EAAUrzC,QAAQmrC,OAAS,mOAMjDoI,eAAAA,CAAgB5+B,GACf7O,UAAUC,SAASytC,oBAAoB7+B,EAAE/O,OAAOuL,aAAa,SAASxO,QACvE,GAEDgd,SAAAA,GACCqzB,GAAmBnzB,cAAcC,YAAYkzB,GAC9C,EACAnyC,SAAU,CACT4yC,aAAc,WACb,MAAyD,KAAlD1iC,2BAA2BuiC,kBACnC,GAEDrzC,SAAoB,4+DAiDrBgzC,GAAUjzB,IAAI0zB,GACdT,GAAUjzB,IAAI2zB,GAGd,MAAMC,GAAoBX,GAAU5yB,MAAM2yB,IAE1C9sC,SAAS+Y,KAAKnQ,YAAYkkC,IAG1B,IAAAa,GAAe,CACd5E,QAASA,CAACC,EAAK/pC,KACT+pC,EAAI3rC,OAAO4rC,iBAAiBhiC,IAChC+hC,EAAIlvB,IAAI8zB,IAET,MAAMx5B,EAAY,CACjBwB,YAAAA,CAAa9b,GACZ,GAAIK,MAAM0D,QAAQ/D,GACjB,OAAOA,EAAQmH,QAAQjM,KAAK4gB,cAC7B83B,GAAkBrlC,MAAMwlC,MAAMC,IAAI,CAAEjD,SAAU,UAAWkD,QAAS,OAAQ9I,OAAQnrC,EAASk0C,KAAM,KAClG,EACAC,SAAAA,CAAUn0C,GACT,GAAIK,MAAM0D,QAAQ/D,GACjB,OAAOA,EAAQmH,QAAQjM,KAAKi5C,WAC7BP,GAAkBrlC,MAAMwlC,MAAMC,IAAI,CAAEjD,SAAU,OAAQkD,QAAS,OAAQ9I,OAAQnrC,EAASk0C,KAAM,KAC/F,EACAE,YAAAA,CAAap0C,GACZ,GAAIK,MAAM0D,QAAQ/D,GACjB,OAAOA,EAAQmH,QAAQjM,KAAKk5C,cAC7BR,GAAkBrlC,MAAMwlC,MAAMC,IAAI,CAAEjD,SAAU,OAAQkD,QAAS,UAAW9I,OAAQnrC,GACnF,EACAu1B,UAAAA,CAAWv1B,GACV,GAAIK,MAAM0D,QAAQ/D,GACjB,OAAOA,EAAQmH,QAAQjM,KAAKq6B,YAC7Bqe,GAAkBrlC,MAAMwlC,MAAMC,IAAI,CAAEjD,SAAU,QAASkD,QAAS,UAAW9I,OAAQnrC,GACpF,EACAgxC,gBAAAA,CAAiBhxC,GAIhB,GAAIK,MAAM0D,QAAQ/D,GACjB,OAAOA,EAAQmH,QAAQjM,KAAK81C,kBAC7B4C,GAAkBrlC,MAAMzM,MAAMkyC,IAAI,CACjCjD,SAAU,QACVkD,QAASr+B,IAAI/U,SAAS,IAAMquC,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAE,sBAC7D89B,OAAQnrC,GACV,EACAioB,cAAaA,IACL,IAAI7oB,QAAQ,CAACkO,EAAS0K,KAC5B47B,GAAkBS,SAASC,QAAQ,CAClC7oC,MAAO,kBACPwH,OAAQ2C,IAAI/U,SAAS,IAAMquC,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAE,oBAC5DrN,QAAS4V,IAAI/U,SAAS,IAAMquC,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAE,yBAC7DuP,YAAahH,IAAI/U,SAAS,IAAMquC,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAE,gBACjEwP,YAAa,kBACb03B,YAAa3+B,IAAI/U,SAAS,IAAMquC,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAE,iBACjEmnC,YAAa,qBACbC,MAAAA,GACCnnC,GAAQ,EACT,EACA0K,MAAAA,GACC1K,GAAQ,EACT,MAIHqP,QAAQxX,GACA,IAAI/F,QAAQ,CAACkO,EAAS0K,KAC5B47B,GAAkBS,SAASC,QAAQ,CAClC7oC,MAAOtG,GAASsG,OAAS,kBACzBwH,OAAQ9N,GAAS8N,QAAU2C,IAAI/U,SAAS,IAAMquC,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAE,oBAC/ErN,QAASmF,GAASnF,SAAW,GAC7B4c,YAAazX,GAASyX,aAAe,KACrCC,YAAa1X,GAAS0X,aAAe,kBACrC03B,YAAapvC,GAASovC,aAAe3+B,IAAI/U,SAAS,IAAMquC,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAGE,EAAE,iBACzFmnC,YAAarvC,GAASqvC,aAAe,4BACrCC,MAAAA,GACCnnC,GAAQ,EACT,EACA0K,MAAAA,GACC1K,GAAQ,EACT,MAIH+iC,YAAAA,CAAaU,EAAU1nC,EAAOrJ,EAAS00C,GAAS,EAAOzxC,GAAO,GAC7D,IAAIkC,EAAU,CAAE4rC,SAAUA,EAAUkD,QAAS5qC,EAAO8hC,OAAQnrC,EAASiD,QAEhEyxC,IACJvvC,EAAQ+uC,KAAO,KAEhBN,GAAkBrlC,MAAMwlC,MAAMC,IAAI7uC,EACnC,EACAwvC,aAAAA,CAAcC,EAAc7D,EAAW,OAAQ1nC,EAAQ,OAAQqrC,GAAS,EAAOzxC,GAAO,GAErF,QAAI2xC,EAAa9E,MAAM9vC,GAA8B,iBAAZA,KACxC40C,EAAaztC,QAAQnH,GAAW9E,KAAKm1C,aAAaU,EAAU1nC,EAAOrJ,EAAS00C,EAAQzxC,KAC7E,EAGT,EACA2f,iBAAAA,CAAkBvnB,GAEjB,IAAGA,EAAM6Q,eAAe,SAAW7Q,EAAM+F,KAAKF,gBAAkB,aAAaA,cAA7E,CAIA,GAAqB,iBAAV7F,EACV,OAAOif,EAAU02B,iBAAiB31C,GAGnC,GAAIgF,MAAM0D,QAAQ1I,IAAUA,EAAMy0C,MAAMt4B,GAAsB,iBAARA,GACrD,OAAOnc,EAAMy0C,MAAMx1B,EAAU02B,kBAG9B,IAAI31C,EAAM6Q,eAAe,aAAc7Q,EAAM6sB,QAA7C,CAIA,GAAqB,iBAAV7sB,GAAgC,OAAVA,EAAgB,CAChD,IAAIw5C,EAAS,GAoBb,OAjBIx5C,EAAM6Q,eAAe,aAAe7Q,EAAMuE,UAAUd,MAAMiB,OAC7D80C,GAAU,mBAAqBx5C,EAAMuE,SAASd,KAAKiB,OAAOC,SAAW3E,EAAMuE,SAASd,KAAKiB,QAAU,OAC3F1E,EAAM6Q,eAAe,aAC7B2oC,GAAU,kBAAoBx5C,EAAM2E,QAAQ80C,cAAgB,QAEzDz5C,EAAM6Q,eAAe,WAAa7Q,EAAMkI,OAAO2I,eAAe,SACjE2oC,GAAU,oBAAsBx5C,EAAMkI,OAAOtI,IAAM,QAEhDI,EAAM6Q,eAAe,WACxB2oC,GAAU,gBAAkBx5C,EAAM05C,MAAQ,QAG7B,IAAVF,IACHA,EAAS,kBAAoB/oC,KAAKE,UAAU3Q,GAAS,QAEtDw5C,GAAU,0BAA4B9jC,2BAA2BC,YAAc,IAAMD,2BAA2BE,cAEzGqJ,EAAU02B,iBAAiB6D,EACnC,CAGAv6B,EAAU02B,iBAAiB,mEAAqEjgC,2BAA2BC,YAAc,IAAMD,2BAA2BE,cA5BzK,CAZA,CAyCF,EACA+jC,mBAAAA,CAAoBh1C,GAEnB,GAAuB,iBAAZA,EACV,OAAOsa,EAAU85B,aAAap0C,GAG/B,GAAIK,MAAM0D,QAAQ/D,GAAU,CAE3B,GAAIA,EAAQ8vC,MAAMmF,GAAsB,iBAARA,GAC/B,OAAOj1C,EAAQ8vC,MAAMx1B,EAAU85B,cAGhC,GAAIp0C,EAAQ8vC,MAAMmF,GAAsB,iBAARA,IAA6B,OAARA,IACpD,OAAOj1C,EAAQ8vC,MAAMmF,IAChBA,EAAI/oC,eAAe,SAAW+oC,EAAIn2C,KAAKoN,eAAe,UACzDoO,EAAU85B,aAAatoC,KAAKE,UAAUipC,EAAIn2C,KAAKiB,SAE/Cua,EAAU02B,iBAAiBllC,KAAKE,UAAUipC,KAI9C,CAGuB,iBAAZj1C,GAAoC,OAAZA,EAWnCsa,EAAU02B,iBAAiB,mEAAqEjgC,2BAA2BC,YAAc,IAAOD,2BAA2BE,eAVtKjR,EAAQkM,eAAe,SAAWlM,EAAQlB,KAAKoN,eAAe,UAEjEoO,EAAU85B,aAAatoC,KAAKE,UAAUhM,EAAQlB,KAAKiB,SAEnDua,EAAU02B,iBAAiBllC,KAAKE,UAAUhM,GAO7C,EACAk1C,mBAAAA,CAAoBjX,GACnB,MAAMxvB,EAAQ,IAAI0mC,MAAM,kBACxBlX,EAAKzZ,iBAAiB,CAAC,mDAAmDrd,QAAQxF,GAAMA,EAAGyzC,cAAc3mC,GAS1G,EACA4mC,oBAAAA,CAAqBh6C,EAAO4iC,GAC3B,QAAan+B,IAATm+B,GACH,GAAI5iC,GAASA,EAAMi6C,WAAaC,KAAKC,aACpC,OAAOh+B,GAAO8C,EAAU+6B,qBAAqB79B,EAAKnc,QAEnD,GAA+B,KAA3BA,GAAOuE,UAAUmd,OAAe,CACnC,IAAIqzB,EAAS6B,GAAeQ,SAASp3C,EAAMuE,SAASd,MAC9B,iBAAXsxC,IACVA,EAAS/0C,EAAMuE,SAASd,MAGzBwb,EAAU46B,oBAAoBjX,GAG9B,MAAMwX,EAAWlzC,OAAO8f,QAAQ+tB,GAAQ1uC,OAAO,EAAE8pB,EAAK2f,MACrD,MAAM1mC,EAAQw5B,EAAKyX,cAAc,4BAA8BlqB,EAAM,MACrE,OAAK/mB,IAGLA,EAAM2wC,cAAc,IAAIO,YAAY,sBAAuB,CAACxK,aAUrD,KACL5mC,IAAIqxC,GAAOA,EAAI,IAIZ9zC,EAAQm8B,EAAKyX,cAAc,yBAgBjC,YAfI5zC,GAAS2zC,EAAS5zC,OACrBC,EAAMszC,cAAc,IAAIO,YAAY,iBAAkB,CAACxK,OAAQsK,KAY/DA,EAAStuC,QAAQmT,EAAUib,YAG7B,CAGD,GAA+B,KAA3Bl6B,GAAOuE,UAAUmd,OAAe,CACnC,IAAIqzB,EAAS6B,GAAeQ,SAASp3C,EAAMuE,SAASd,MACpDwb,EAAUib,WAA8B,iBAAX6a,EAAuB7tC,OAAO0Y,OAAOm1B,GAAUA,EAC7E,MACC91B,EAAUsI,kBAAkBvnB,EAE9B,GAED6zC,EAAI3rC,OAAO4rC,iBAAiB70B,UAAYA,EACxC40B,EAAIxuB,QAAQ,YAAawuB,EAAI3rC,OAAO4rC,iBAAiB70B,aC5bvDu7B,GAAe,CACd5G,QAASA,CAACC,EAAK/pC,KACd,GAAI+pC,EAAI3rC,OAAO4rC,iBAAiBthC,KAC/B,OAMD,SAASioC,EAAsB1F,EAAQ2F,GAClC11C,MAAM0D,QAAQqsC,GACjBA,EAAOjpC,QAAQ4uC,GAEfxzC,OAAO8f,QAAQ+tB,GAAQjpC,QACtB,EAAEkC,EAAO2sC,KAAUA,EAAK7uC,QACvB9L,GAAS06C,EAAK16C,EAAOgO,IAGzB,CAZK6lC,EAAI3rC,OAAO4rC,iBAAiB70B,WAChC40B,EAAIlvB,IAAI6zB,IAYT,IAAIoC,EAAuB,CAC1BC,SAAS,EACTC,MAAM,EACNC,QAAS,CACRnY,KAAM,CAAC,aAAc,WACrB8V,MAAO,CAAC,aAAc,UAAW,YAAa,gBAE/CrlC,QAAS,CACRuvB,IAAAA,CAAKA,EAAMmS,GACVnS,EAAKrc,kBACLwuB,EAAOjpC,QAAQqQ,GAAOymB,EAAKpc,aAC1B,EACArK,EAAI80B,UAAY90B,EAAIxX,SAEtB,EACA,WAAM+zC,CAAM3D,GACX,MAAMjjC,EAAK+hC,EAAI3rC,OAAO4rC,iBAAiBhiC,GACvC,IAAKA,EACJ,OAAO/N,QAAQ4Y,OAAO,8BAEvBD,eAAes+B,EAAcjG,GAC5BA,EAASA,EAAOrvC,OAAO,CAAC4V,EAAQa,KAC/B,OAAQA,EAAIpZ,MACZ,IAAK,YACL,IAAK,cACAoZ,EAAIxX,QACP2W,EAAOa,EAAIxX,SAAW,CAACwX,EAAIvc,KAE3B0b,EAAO2/B,SAAW,CAAC9+B,EAAIvc,KACxB,MACD,IAAK,UACC0b,EAAO2/B,WACX3/B,EAAO2/B,SAAW,IACnB3/B,EAAO2/B,SAASt0C,KAAKwV,EAAIxX,SACzB,MACD,IAAK,aACJuC,OAAO8f,QAAQ7K,EAAI80B,UACjBnlC,QAAQ,EAAEvE,EAAOqyC,MACZt+B,EAAO/T,KACX+T,EAAO/T,GAAS,IACbvC,MAAM0D,QAAQkxC,GACjBt+B,EAAO/T,GAAOZ,QAAQizC,GAEtBt+B,EAAO/T,GAAOZ,KAAKizC,KAIvB,OAAOt+B,GACL,CAAA,GACH,IAAI5H,EAAU,EACd,MAAMwnC,QAAan3C,QAAQ4zB,IAAIzwB,OAAO8f,QAAQ+tB,GAC5C7kC,KAAK,CAACvK,EAAGw1C,IAAM,CAAC,YAAYr1C,QAAQq1C,EAAE,IAAM,CAAC,YAAYr1C,QAAQH,EAAE,KACnEuD,IAAIwT,OAAQnV,EAAO2zC,MACnB,GAAa,YAAT3zC,EAAqB,OAClBuK,EAAGC,aAAa,aAEtBxK,EAAQ,sBADQuK,EAAGE,EAAE,qBACqB,OAC3C,MACCzK,EAAQ,OAASA,EAAQ,QAG1B,OADAmM,GAAWwnC,EAAK10C,OACTe,EACJ,OACA2zC,EAAKh0B,KAAK,aACV,WAEL,MAAO,CACNxT,UACAwnC,OAEF,CAEA,IAAIxnC,EAASwnC,EACTl2C,MAAM0D,QAAQqsC,KACdrhC,UAASwnC,cAAeF,EAAcjG,MAEtCrhC,UAASwnC,cAAeh0C,OAAO8f,QAAQ+tB,GACxCrvC,OAAOgX,MAAOpL,GAAMtD,EAAO2sC,MAC3B,MAAMr/B,QAAehK,GACfoC,QAAEA,EAAOwnC,KAAEA,SAAeF,EAAcL,GAO9C,OANAr/B,EAAO5H,SAAWA,EAClB4H,EAAO4/B,KAAKv0C,KAAK,OACdqH,EACA,gBACAktC,EAAKh0B,KAAK,IACV,cACI5L,GACLvX,QAAQkO,QAAQ,CAAEyB,QAAS,EAAGwnC,KAAM,aAGnCppC,EAAGC,aAAa,MACtB,MAAMqpC,EAAWtpC,EAAGE,EAAE,cAAe,CAAEhM,EAAG0N,IAE1CmgC,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU+1B,aACrC,QACAoG,EACA,OAASF,EAAKh0B,KAAK,IAAM,SACzB,GACA,EAEF,EACAmuB,GAAAA,CAAIN,GACH0F,EAAsB1F,EAAQ,CAAC/0C,EAAOgO,KACrC,IAAIrJ,EAAU,GAYd,OAXAA,GAAW,YAAc3E,EAAM2E,QAAU,OACzCA,GAAW,aAAe3E,EAAMs1C,SAAW,KAC3C3wC,GAAW,gBAAkB3E,EAAMu1C,KAAO,KACtCv1C,EAAMw1C,WAAax1C,EAAMw1C,UAAUhvC,SACtC7B,GAAW,gBACX3E,EAAMw1C,UAAU1pC,QAAQqQ,IACvBxX,GAAW,aAAewX,EAAItS,KAAO,KACrClF,GAAW,WAAawX,EAAIo5B,KAAO,KACnC5wC,GAAW,eAAiBwX,EAAIs5B,SAAW,QAGrCz1C,EAAM01C,UACb,IAAK,UACL,IAAK,eACL,IAAK,kBACL,IAAK,eACA1nC,EACHA,GAAS,SAAWhO,EAAM01C,SAE1B1nC,EAAQ,OAAShO,EAAM01C,SACxB7B,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU+1B,aAAa,OAAQhnC,EAAOrJ,GAAS,GAC3E,MACD,IAAK,SACL,IAAK,cACL,IAAK,iBACAqJ,EACHA,GAAS,SAAWhO,EAAM01C,SAE1B1nC,EAAQ,OAAShO,EAAM01C,SACxB7B,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU+1B,aAAa,OAAQhnC,EAAOrJ,GAAS,GAC3E,MACD,QACCA,EAAU,aAAe3E,EAAM01C,SAAW,OAAS/wC,EAC/CqJ,IACHrJ,EAAUqJ,EAAQ,OAASrJ,GAC5BkvC,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU02B,iBAAiBhxC,KAI3D,EACAixC,SAAAA,CAAUb,GACT0F,EAAsB1F,EAAQ,CAAC/0C,EAAOgO,KACrC,IAAIrJ,EAAU,GACVqJ,IACHrJ,GAAWqJ,EAAQ,QACpBrJ,GAAW,SAAW3E,EAAMokB,MAAQ,OACpCzf,GAAW,YAAc3E,EAAM2E,QAAU,OACzCA,GAAW,aAAe3E,EAAMs1C,SAAW,KAC3C3wC,GAAW,gBAAkB3E,EAAMu1C,KAAO,KACtCv1C,EAAMw1C,WAAax1C,EAAMw1C,UAAUhvC,SACtC7B,GAAW,gBACX3E,EAAMw1C,UAAU1pC,QAAQqQ,IACvBxX,GAAW,aAAewX,EAAItS,KAAO,KACrClF,GAAW,WAAawX,EAAIo5B,KAAO,KACnC5wC,GAAW,eAAiBwX,EAAIs5B,SAAW,QAG7C5B,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU02B,iBAAiBhxC,IAEzD,EACAkxC,EAAAA,CAAGd,GACF0F,EAAsB1F,EAAQ,CAAC/0C,EAAOgO,KACrC,IAAIrJ,EAAU,GACVqJ,IACHrJ,GAAWqJ,EAAQ,aACEvJ,IAAlBzE,EAAM81C,UACTnxC,GAAW3E,EAAM81C,QAAU,aACTrxC,IAAfzE,EAAMsnB,OACT3iB,GAAW,SAAW3E,EAAMsnB,KAAO,aAClB7iB,IAAdzE,EAAM+1C,MACTpxC,GAAW,QAAU3E,EAAM+1C,IAAM,aACZtxC,IAAlBzE,EAAM2E,QACTA,GAAW,YAAc3E,EAAM2E,QAAU,YACdF,IAAnBzE,EAAMixC,WACdtsC,GAAW,aAAe3E,EAAMixC,SAAS/pB,KAAK,QAAU,aAClCziB,IAAnBzE,EAAMs1C,WACT3wC,GAAW,aAAe3E,EAAMs1C,SAAW,WACzB7wC,IAAfzE,EAAMu1C,OACT5wC,GAAW,gBAAkB3E,EAAMu1C,KAAO,MAE3C1B,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU02B,iBAAiBhxC,IAEzD,EACAqxC,IAAAA,CAAKjB,GACJ0F,EAAsB1F,EAAQ,CAAC/0C,EAAOgO,KACjCA,EACHA,GAAS,KAAOhO,EAAM2E,QAEtBqJ,EAAQhO,EAAM2E,QAEf,IAAIA,EAAU,GACdA,GAAW,oBAAsB3E,EAAMi2C,WAAa,KACpDtxC,GAAW,gBAAkB3E,EAAMO,OAAS,KAC5CoE,GAAW,yBAA2B3E,EAAMk2C,qBAE5CrC,EAAI3rC,OAAO4rC,iBAAiB70B,UAAU+1B,aACrC,QACAhnC,EACArJ,GACA,IAGH,IAOF,SAAS02C,EAAWzY,EAAMqR,EAAKxwC,EAAMyE,GACpC,GAAmB,iBAAR06B,QAA+Bn+B,IAAXyD,GAC7B+rC,EAAKxwC,EAAMyE,GAAU,CAAC06B,EAAMqR,EAAKxwC,GAClCm/B,OAAOn+B,OACD,GAAIm+B,EAAM,CAChB,GAAmB,iBAARA,EACV,MAAM,IAAIsR,UAAU,iEACTzvC,IAARwvC,QAA8BxvC,IAAThB,QAAiCgB,IAAXyD,IAC9CA,EAAS06B,EACTA,OAAOn+B,EAET,CACA,GAAIm+B,EAAM,CAET,IAAKA,EAAKrc,kBAAoBqc,EAAKpc,YAClC,MAAM,IAAI0tB,UAAU,kCAErBtR,EAAO,CACNrc,gBAAiBqc,EAAKrc,gBACtBC,YAAaoc,EAAKpc,aAGfte,EACHA,EAAO06B,KAAOA,EAEd16B,EAAS,CAAC06B,OACZ,CAEA,MAAO,CAACqR,EAAKxwC,EAAMyE,EACpB,CACA,SAASozC,EAAmB/2C,GAC3B,GAA6B,iBAAlBA,EAASd,MAAqBc,EAASd,gBAAgB0E,OACjE,OAAOmzC,EAAmB,CAAE73C,KAAMc,IAEnC,MAAM+W,EAAS/W,EAASd,KAExB,cADOc,EAASd,KACX6X,GAEAA,EAAOmG,KAGXnG,EAAOmG,KAAKld,SAAWA,EAFvB+W,EAAOmG,KAAO,CAAEld,YAGV+W,GALC,CAACmG,KAAM,CAACld,YAAWd,KAAM,KAMlC,CACA,SAAS83C,EAAoBrzC,GAC5B,IAAe,IAAXA,GAA+B,QAAXA,EACvB,MAAO,IAAK0yC,EAAsBC,SAAS,EAAOC,MAAM,GAEzD,IAAK5yC,IAAqB,IAAXA,EACd,MAAO,IAAK0yC,GAEb,GAAe,YAAX1yC,EACH,MAAO,IAAK0yC,EAAsBE,MAAM,GAEzC,GAAe,SAAX5yC,EACH,MAAO,IAAK0yC,EAAsBC,SAAS,GAE5C,MAAMA,QAAEA,EAAOC,KAAEA,EAAIznC,QAAEA,EAAO0nC,QAAEA,GAAY7yC,EAa5C,OAXAA,EAAS,IAAK0yC,GAEd1zC,OAAO8f,QAAQ,CAAE8zB,OAAMD,YAAW/uC,QAAQ,EAAEqkB,EAAKhqB,WAClC1B,IAAV0B,IACH+B,EAAOioB,GAAOhqB,KAEhBe,OAAO8f,QAAQ,CAAE3T,UAAS0nC,YAAWjvC,QAAQ,EAAEqkB,EAAKhqB,WACrC1B,IAAV0B,IACH+B,EAAOioB,GAAO,IAAKjoB,EAAOioB,MAAShqB,MAG9B+B,CACR,CACA,SAASszC,EAAkBtzC,GAC1B,MAAMoT,EAASigC,EAAoBrzC,GAAQi1B,eAE3C,GAAKj1B,GAAQ06B,KAEN,CACN,MAAM6Y,EAAcngC,EAAOjI,QAAQuvB,KACnCtnB,EAAOjI,QAAU,IAAKiI,EAAOjI,QAASuvB,KAAMmS,GAAU0G,EAAYvzC,EAAO06B,KAAMmS,GAChF,MAJCz5B,EAAOy/B,QAAU,IAAKz/B,EAAOy/B,QAASnY,KAAM,IAM7C,OAAOtnB,CACR,CACA,SAASogC,EAAe17C,GACvB,OAAIA,EAAMuE,SACoB,KAAzBvE,EAAMuE,SAASmd,OACX,CAAC,CACP3e,KAAM,YACN4B,QAAS3E,EAAM2E,QACf/E,IAAKI,EAAMu0C,QAAQU,cAGcxwC,MAA9BzE,EAAMuE,SAASd,KAAKsxC,OAA4B,GAC7C/0C,EAAMuE,SAASd,KAAKsxC,OAElB/0C,EAAMu0C,QACT,CAAC,CACPxxC,KAAM,cACN4B,QAAS3E,EAAM2E,QACf/E,IAAKI,EAAMu0C,QAAQU,cAGb,CAAC,CACPlyC,KAAM,SACN4B,QAAS3E,EAAM2E,SAGlB,CACA,SAASg3C,EAAoBxe,EAAe4X,GAC3C,MAAMz5B,EAAS,CAAA,EACTsgC,EAAO,GAEb,GAAcn3C,MAAVswC,EAAqB,MAAO,CAAA,EAEhC,KAAOA,EAAOvuC,QACbo1C,EAAKj1C,KAAKouC,EAAO55B,OAClB,IAAK,IAAInb,KAAS47C,EAAM,CACvB,IAAI74C,EAAO/C,EAAM+C,KACb84C,EAAU,KACd,IAAK,IAAI7pC,KAAKmrB,EAAc4d,QAAS,CACpC,IAAIe,EAAsB3e,EACxB4d,QAAQ/oC,GACR1I,SAASvG,GACPg5C,EAAoB5e,EAAc9pB,QAAQrB,GAC9C,GAAI8pC,GAAuBC,IAC1BF,EAAU7pC,EACK,QAAX6pC,GACH,KAEH,CACIA,IACH94C,EAAO84C,GACQ1e,EAAc9pB,QAAQtQ,IAEhCuY,EAAOvY,KACXuY,EAAOvY,GAAQ,IACZiC,MAAM0D,QAAQ1I,GACjBsb,EAAOvY,GAAM4D,QAAQ3G,GAErBsb,EAAOvY,GAAM4D,KAAK3G,IAGpB+0C,EAAOpuC,KAAK3G,EACb,CACA,OAAOsb,CACR,MArJ+B7W,IAA3BqF,GAASqzB,gBACZyd,EAAuBW,EAAoBzxC,EAAQqzB,gBAsJpD,MAAMiX,EAAcj0C,MAAM+lB,OAAO,CAChCoY,QAAS,IACT+V,QAAS3+B,2BAA2BuG,SACjCvG,2BAA2BwG,UAC3B,MAGJk4B,EAAYE,aAAaC,QAAQ5vB,IAAIzc,IACpC,GAAqB,QAAjBA,EAAO3H,SAAqB2H,EAAOzE,KACtC,OAAOyE,EAER,GAAIA,EAAOzE,gBAAgB+wC,SAC1B,OAAOtsC,EAER,IAAKhB,OAAO0Y,OAAO1X,EAAOzE,MAAMgxC,MAAM3yB,KACjCA,aAAgB4yB,aAEhB1vC,MAAM0D,QAAQoZ,IACVA,EAAK2yB,MAAMzoC,KAAOA,aAAa2oC,SAEpC,CACH,MAAMC,EAAU1tC,OAAO8f,QAAQ9e,EAAOzE,MAAMiC,OAAO,CAACmvC,GAAK1kB,EAAKrO,MAC7D,GAAIA,aAAgB4yB,SACnB,IAAK,MAAM7qC,KAAQiY,EAClB+yB,EAAGL,SAAS9oB,OAAOyE,GAAOrO,EAAKtb,OAAS,EAAI,KAAO,IAAKqD,QAC/C7E,MAAM0D,QAAQoZ,GACpBA,EAAK2yB,MAAMzoC,KAAOA,aAAa2oC,OAClCE,EAAGC,SAAS3kB,GAAOrO,EAEnBA,EAAKhW,QAAQjC,GAAQgrC,EAAGL,SAAS9oB,OAAOyE,GAAOrO,EAAKtb,OAAS,EAAI,KAAO,IAAKqD,IAG9EgrC,EAAGC,SAAS3kB,GAAOrO,EAEpB,OAAO+yB,GACL,CACFL,SAAU,IAAIA,SACdM,SAAU,CAAA,IAEXF,EAAQJ,SAAS9oB,OAAO,YAAajb,KAAKE,UAAUikC,EAAQE,WAC5D5sC,EAAOzE,KAAOmxC,EAAQJ,QACvB,CAEA,OAAOtsC,IAGRksC,EAAYE,aAAa/vC,SAASogB,IACjCpgB,IACuC,OAAlCA,EAAS2D,QAAQi1B,gBACkB,IAAnC54B,EAAS2D,QAAQi1B,eACiB,QAAlC54B,EAAS2D,QAAQi1B,eAIjB54B,EAASd,KAAKsxC,SACjBxwC,EAASd,KAAKsxC,OAASxwC,EAASd,KAAKsxC,OAAO1uC,OAC3C8V,IAAQ5X,EAAS2D,OAAOiU,EAAIpZ,KAAO,iBAAmB8wC,EAAI3rC,OAAO4rC,iBAAiBthC,KAAK6T,sBAAsBlK,EAAIpZ,OAAOoZ,EAAK5X,EAAS2D,UALhIozC,EAAmB/2C,IAU5BvE,IACC,GAAkB,gBAAdA,EAAMsnB,KACT,OAAOvjB,QAAQ4Y,OAAO,CAAEkQ,SAAS,KAAS7sB,IAE3C,MAAMg8C,EAAcR,EAAkBx7C,EAAMkI,QAE5C,IAAK8zC,EAAYlB,KAChB,OAAO/2C,QAAQ4Y,OAAO3c,GAEvB,MAAM8mB,EAAY40B,EAAe17C,GAE3B+0C,EAAS4G,EAAoBK,EAAal1B,GAEhD,IAAK,IAAI/jB,KAAQgyC,EAChBiH,EAAY3oC,QAAQtQ,GAAMgyC,EAAOhyC,IAGlC,OAAI+jB,EAAUtgB,OACNzC,QAAQ4Y,OAAO3c,GAEhB+D,QAAQ4Y,OAAO,CAAEkQ,SAAS,KAAS7sB,MAI5C6zC,EAAI3rC,OAAO4rC,iBAAiBthC,KAAO,CAClCqvB,OAAOjiC,GACCw0C,EAAYvS,OAAO,CAACjiC,QAE5BkL,IAAGA,CAAC83B,EAAMqR,EAAKzzC,EAAQ0H,MACrB+rC,EAAKzzC,EAAQ0H,GAAUmzC,EAAWzY,EAAMqR,EAAKzzC,EAAQ0H,GAClD1H,IACC0H,EACHA,EAAO1H,OAASA,EAEhB0H,EAAS,CAAC1H,WAEL4zC,EAAYtpC,IAAImpC,EAAK/rC,IAE7BnI,KAAIA,CAAC6iC,EAAMqR,EAAKxwC,EAAMyE,MACpB+rC,EAAKxwC,EAAMyE,GAAUmzC,EAAWzY,EAAMqR,EAAKxwC,EAAMyE,GAC3CksC,EAAYr0C,KAAKk0C,EAAKxwC,EAAMyE,IAEpCM,IAAAA,CAAKwd,EAASi2B,EAAiBrZ,GAC9B,GAAI59B,MAAM0D,QAAQsd,GAAU,CAC3B,MAAMxT,EAAOqhC,EAAI3rC,OAAO4rC,iBAAiBthC,KAEzC,OAAOzO,QACLq5B,WAAWpX,EAAQ9c,IAAI,CAAChB,EAAQrB,KAC3B7B,MAAM0D,QAAQR,KAClBA,EAAS,CAAC,IAAMrB,EAAOqB,IACjBsK,EAAKhK,KAAKN,EAAO,GAAI,CAC3Bq1B,YAAar1B,EAAO,GACpBi1B,eAAe,OAGhBn5B,KAAKsX,IACL,MAAM,CAAA,CAAMpT,GAAWmzC,EAAWzY,OAAMn+B,OAAWA,EAAWw3C,GAAmB,IAC3ED,EAAcR,EAAkBtzC,GAEtC,IAAK8zC,EAAYnB,UAAYmB,EAAYlB,KACxC,OAAOx/B,EAGR,MAAM4gC,EAAc,CAAA,EACpB,IAAK,IAAI5qC,KAAOgK,EAAQ,CACvB,MAAQ6gC,EAASr6B,GAAwB,cAAfxQ,EAAIoQ,OAC3B,CAAEs6B,EAAYnB,QAASvpC,EAAInL,OAC3B,CAAE61C,EAAYlB,KAAMxpC,EAAI8qC,QAC3B,IAAKD,EACJ,OAED,MAAMpH,EAAS4G,EAAoBK,EAAaN,EAAe55B,IAE/D,IAAK,IAAI/e,KAAQgyC,EACXmH,EAAYn5C,GAKhBm5C,EAAYn5C,GAAM+e,EAAK5Z,OAAOq1B,aAAewX,EAAOhyC,GAJpDm5C,EAAYn5C,GAAQ,CACnB,CAAC+e,EAAK5Z,OAAOq1B,aAAcwX,EAAOhyC,GAKtC,CAEA,IAAK,IAAIs5C,KAAWH,EACnBF,EAAY3oC,QAAQgpC,GAASH,EAAYG,IAG1C,OAAO/gC,GAEV,CACA,IAAI/a,OAAEA,EAAMX,IAAEA,EAAGY,OAAEA,EAAM0H,OAAEA,GAAW8d,EAStC,YARwBvhB,IAApBw3C,IACH/zC,EAAS+zC,GAEL17C,IACJA,EAAS,OAENA,EAAOsF,cACVtF,EAASA,EAAOsF,eACH,OAAVtF,EACIV,KAAKiL,IAAI83B,EAAMhjC,EAAKY,EAAQ0H,GACf,QAAV3H,EACHV,KAAKE,KAAK6iC,EAAMhjC,EAAKY,EAAQ0H,QAEpC0T,QAAQ5b,MAAM,8BAA+BO,EAE/C,EACA+7C,gBAAgBp0C,GACRszC,EAAkBtzC,IAI3B2rC,EAAIxuB,QAAQ,OAAQwuB,EAAI3rC,OAAO4rC,iBAAiBthC,QC3hBlD+pC,GAAe,CACdxqC,aAAa+I,IACL,CACNva,OAAQ,MACRX,IAAK,uCAAyCkb,IAGhDuhB,YAAWA,CAAC3hB,EAAW4hB,KAEf,CACN/7B,OAAQ,OACRX,IAAK,uCACLY,OAJc,CAACka,aAAY4hB,cAO7BC,YAAWA,KACH,CACNh8B,OAAQ,MACRX,IAAK,yCAGP48B,qBAAoBA,KACZ,CACNj8B,OAAQ,MACRX,IAAK,8CCrCR,MAAM8a,GAAaH,IAAI0F,SAAS,IAC1BtF,GAAiB,CAAA,EACvB,IAAI6hC,GAAgBjiC,IAAIC,IAAI9E,2BAA2B8mC,eAC5CC,GAAcliC,IAAI/U,SAAS,IACjCg3C,GAAcr2C,MACXuP,2BAA2BgnC,iBAAiB76B,KAAKya,GAAYA,EAAS0S,SAAWwN,GAAcr2C,OAAOw2C,QAD7E,MAoBjC,MAAMjhC,GAAU,CACf8gC,iBACAC,eACApgB,WAAAA,CAAYC,GACX,MAAMsgB,EAAW11C,OAAOiQ,KAAKuD,IAC7B,OAAO7a,KAAKqI,OAAO4rC,iBAAiBthC,KAClChK,KAAK+zC,GAAWlgB,YAAYugB,EAAUtgB,IACtCt4B,KAAKsN,IACLA,EAAI7N,KAAKqI,QAAQ+wC,IAChBniC,GAAWmiC,EAAI/hC,UAAU+hC,EAAI7hC,QAAU6hC,EAAI5hC,OAI5CuhC,GAAcr2C,MAAQm2B,EAEfhrB,GAEV,EACAS,YAAAA,CAAa+I,GACZ,OAAI9V,MAAM0D,QAAQoS,GACV/W,QAAQ4zB,IAAI7c,EAAS5R,IAAIrJ,KAAKqI,OAAO4rC,iBAC1ChiC,GAAGC,gBAED4I,GAAeG,KACnBH,GAAeG,GAAYjb,KAAKqI,OAAO4rC,iBAAiBthC,KACtDhK,KAAK+zC,GAAWxqC,aAAa+I,IAC7B9W,KAAKsN,GAAOA,GAAK7N,KA1CtB,SAAyBoX,EAAKC,GAC7B,OAAOD,EAAIxU,OAAOiT,GAAKA,EAAEwB,UAAYA,GAAUpV,OAAO,CAAC4L,EAAKyJ,KACtDzJ,EAAIyJ,EAAKC,UACb1J,EAAIyJ,EAAKC,QAAUD,EAAKE,MAClB3J,GACL,CAAA,EACJ,CAoC6BsJ,CAAgBtJ,EAAI7N,KAAMqX,GAAY,CAAA,GAC9D9W,KAAKsN,IACLoJ,GAAWI,GAAYxJ,KAEnBqJ,GAAeG,GACvB,EACAa,KAAAA,CAAMb,EAAUE,EAAQxa,GAEvB,OADAob,QAAQqK,KAAK,cACN1L,IAAI/U,SAAS,IAAM3F,KAAKmS,EAAE8I,EAAUE,EAAQxa,GACpD,EACAwR,CAAAA,CAAE8I,EAAUE,EAAQxa,GAQnB,QAPeiE,IAAXjE,IACFwE,MAAM0D,QAAQoS,IAAgC,GAAnBA,EAAStU,QACpCsU,EAASrS,OAAuC,GAA9BqS,EAASrS,MAAM,KAAKjC,UAEvChG,EAASwa,GACRF,EAAUE,GAAUF,EAASrS,MAAQqS,EAASrS,MAAM,KAAOqS,QAE9CrW,IAAXuW,EAEH,OADAY,QAAQ5b,MAAM,gBAAiB8a,EAAUE,EAAQxa,GAC1C,GAER,IAAIwb,EAAMzB,IAAI/U,SAAS,IACjBkV,GAAWI,GA1DnB,SAAiCA,EAAUE,EAAQxa,GAClD,IAAI8a,EAASZ,GAAWI,GAAUE,GAClC,OAAKM,GAED9a,IACH8a,EAASA,EAAOC,QAAQ,eAAgB,CAACC,EAAOC,SAAsBhX,IAAfjE,EAAOib,GAAoBD,EAAQhb,EAAOib,KAC3FH,GAHC,aAAeN,EAAS,IAIjC,CAqDUI,CAAwBN,EAAUE,EAAQxa,GADzC,IAKT,OAFKka,GAAWI,IACfjb,KAAKkS,aAAa+I,GACZkB,EAAI7V,KACZ,GAGD,IAAA4e,GAAe,CACd6uB,OAAAA,CAAQC,EAAK/pC,GACP+pC,EAAI3rC,OAAO4rC,iBAAiBh0C,SAChC+zC,EAAIlvB,IAAIgvB,IACJE,EAAI3rC,OAAO4rC,iBAAiBthC,MAChCqhC,EAAIlvB,IAAI61B,IACT3G,EAAI3rC,OAAO4rC,iBAAiBhiC,GAAK,CAChCE,EAAG0J,GAAQ1J,EACXD,aAAc+qC,GAAOphC,GAAQ3J,aAAavJ,KAAKqrC,EAAKiJ,GACpDzgB,YAAa0gB,GAAQrhC,GAAQ2gB,YAAY7zB,KAAKqrC,EAAKkJ,GACnDP,cAAeA,GACfC,eACA9gC,MAAOD,GAAQC,OAEhBk4B,EAAIxuB,QAAQ,KAAMwuB,EAAI3rC,OAAO4rC,iBAAiBhiC,GAC/C,gECjED,MAAMk9B,GAAUz0B,IAAIC,IAAI,IAClBwiC,GAAUziC,IAAIC,IAAI,IAClByiC,GAAY1iC,IAAIC,IAAI,IACpB0iC,GAAO3iC,IAAIC,IAAI,IACf2iC,GAAa5iC,IAAIC,IAAI,IACrB+E,GAAahF,IAAIC,IAAI,IACrB4iC,GAAc7iC,IAAIC,IAAI,IACtB6iC,GAAkB9iC,IAAIC,IAAI,IAC1Bgc,GAAcjc,IAAIC,IAAI,IACtBic,GAAgBlc,IAAIC,IAAI,IACxB+b,GAAgBhc,IAAIC,IAAI,IACxB8iC,GAA2B/iC,IAAIC,IAAI,IACnC+iC,GAAgBhjC,IAAIC,IAAI,IACxBgjC,GAAejjC,IAAIC,IAAI,IACvBijC,GAAkBljC,IAAIC,IAAI,IAC1BkU,GAAcnU,IAAIC,IAAI,IACtBkjC,GAAqBnjC,IAAIC,IAAI,IAE7BmjC,GAAqBpjC,IAAI2J,UAAU,CACxCne,KAAM,kBACNtC,KAAM,WACL,MAAO,CACWm6C,SAAU,KACVC,UAAW,QAC1BC,wBAAyB/7B,EAE7B,EACAlU,WAAY,CACX8I,qBACA/I,iBACMiK,wBACA+G,eACAuG,iBACA8J,cACAyJ,iBACAgC,wBAEJvgB,KAAAA,GAIII,IAAI8K,QAAQ,UAAU2pB,IAC5Bz0B,IAAI8K,QAAQ,UAAU23B,IACtBziC,IAAI8K,QAAQ,YAAY43B,IACxB1iC,IAAI8K,QAAQ,OAAO63B,IACnB3iC,IAAI8K,QAAQ,aAAa83B,IACzB5iC,IAAI8K,QAAQ,aAAa9F,IACzBhF,IAAI8K,QAAQ,cAAc+3B,IAC1B7iC,IAAI8K,QAAQ,iBAAiBg4B,IAC7B9iC,IAAI8K,QAAQ,cAAcmR,IAC1Bjc,IAAI8K,QAAQ,gBAAgBoR,IAC5Blc,IAAI8K,QAAQ,gBAAgBkR,IAC5Bhc,IAAI8K,QAAQ,2BAA2Bi4B,IACvC/iC,IAAI8K,QAAQ,eAAem4B,IAC3BjjC,IAAI8K,QAAQ,gBAAgBk4B,IAC5BhjC,IAAI8K,QAAQ,kBAAkBo4B,IAC9BljC,IAAI8K,QAAQ,cAAcqJ,IAC1BnU,IAAI8K,QAAQ,qBAAqBq4B,GAClC,EACA75C,QAAS,CAEEk6C,eAAgB,SAASzkC,EAAGujC,GACxBjhC,QAAQ8D,IAAI,iBAAkBm9B,GAC9Bh9C,KAAK+9C,SAAWf,EAAIrxB,UAAUwyB,SAC9Bn+C,KAAKg+C,UAAYhB,EAAIrxB,UAAUyyB,KAEY,IAAvCp+C,KAAKqT,MAAc,OAAEkG,eACrBvZ,KAAKqT,MAAc,OAAEiG,UAE7B,GAEJ3T,SAAU,CACN04C,yBAA0B,WAqBtB,MApBmB,CAChC,CACC9qC,MAAO,WACPC,QAASxT,KAAKk+C,gBAEM,CACQ3qC,MAAO,eACPC,QAAS,SAAStO,EAASo5C,GACdtzC,SAASuzC,eAAe,gBAC9B9yB,UAAY6yB,EAAK33C,MACxB,GAER,CACQ4M,MAAO,aACPC,QAAS,SAAS5P,GACLoH,SAASuzC,eAAe,eAC9B9yB,UAAY7nB,EAAK+C,MACxB,GAIpB,EACA63C,0BAA2B,WAwCvB,MAxBoB,CACjCxrC,OAAQ,OACRJ,OAAQ,aACaqZ,cAAe,8BACfwyB,cAAe,oFACpCp5C,QAAS,CACR,CAAC8I,MAAO,MAAOzG,MAAO,MAAO4I,cAAc,GAC3C,CAACnC,MAAO,YAAazG,MAAO,WAAY4I,cAAc,GACtD,CAACnC,MAAO,UAAWzG,MAAO,UAAW4I,cAAc,GACnD,CAACnC,MAAO,WAAYzG,MAAO,WAAY4I,cAAc,GACrD,CAACnC,MAAO,QAASzG,MAAO,QAAS4I,cAAc,GAC/C,CAACnC,MAAO,cAAezG,MAAO,cAAe4I,aAAc,OAAQoiB,iBAAiB,IAAKH,mBAAoB,CAACC,cAAa,EAAM1I,cAAc,EAAMzZ,KAAM,QAC3J,CAAClC,MAAO,cAAezG,MAAO,cAAe4I,cAAc,GAC3D,CAACnC,MAAO,SAAUzG,MAAO,SAAU4I,cAAc,GACjD,CAACnC,MAAO,SAAUzG,MAAO,SAAU4I,cAAc,GACjD,CAACnC,MAAO,gBAAiBzG,MAAO,gBAAiB4I,cAAc,GAC/D,CAACnC,MAAO,SAAUzG,MAAO,SAAU4I,cAAc,GACjD,CAACnC,MAAO,SAAUzG,MAAO,SAAU4I,cAAc,GACjD,CAACnC,MAAO,uBAAwBzG,MAAO,uBAAwB4I,aAAc,OAAQoiB,iBAAiB,IAAKH,mBAAoB,CAACC,cAAa,EAAM1I,cAAc,EAAMzZ,KAAM,QAC7K,CAAClC,MAAO,yBAA0BzG,MAAO,yBAA0B4I,aAAc,OAAQoiB,iBAAiB,IAAKH,mBAAoB,CAACC,cAAa,EAAM1I,cAAc,EAAMzZ,KAAM,QACjL,CAAClC,MAAO,uBAAwBzG,MAAO,sBAAuB4I,cAAc,GAChE,CAACnC,MAAO,YAAazG,MAAO,YAAa4I,aAAc,OAAQoiB,iBAAiB,IAAKH,mBAAoB,CAACC,cAAa,EAAM1I,cAAc,EAAMzZ,KAAM,SAI3J,GAEJtL,SAAU,+yGA6DlB+4C,GAAmBh5B,IAAIX,SAAS9b,OAAOjD,SAEvC04C,GAAmBh5B,IAAII,IACvB44B,GAAmB34B,MAAM,SACzB24B,GAAmBt4B,QAAQ,UAAWk5B,UAGtCZ,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUqB,cAAcuC,KAAM4d,IAC/EotB,GAAQ7oC,MAAQyb,EAAEne,OAEtBk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUiB,cAAc2C,KAAM4d,IAC/Eo7B,GAAQ72C,MAAQyb,EAAEne,OAGtBk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUsB,iBAAiBsC,KAAM4d,IAClFu7B,GAAWh3C,MAAQyb,EAAEne,OAEzBk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUwB,WAAWoC,KAAM4d,IAC5Es7B,GAAK/2C,MAAQyb,EAAEne,OAEnBk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUuB,sBAAsBqC,KAAM4d,IACvFq7B,GAAU92C,MAAQyb,EAAEne,OAExBk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUmB,iBAAiByC,KAAM4d,IAClFrC,GAAWpZ,MAAQyb,EAAEne,OAEzBk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUoB,kBAAkBwC,KAAM4d,IACnFw7B,GAAYj3C,MAAQyb,EAAEne,OAE1Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUkB,qBAAqB0C,KAAM4d,IACtFy7B,GAAel3C,MAAQyb,EAAEne,OAE7Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAUyB,kBAAkBmC,KAAM4d,IACnF4U,GAAYrwB,MAAQyb,EAAEne,OAE1Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAU6B,oBAAoB+B,KAAM4d,IACrF6U,GAActwB,MAAQyb,EAAEne,OAE5Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAU2B,oBAAoBiC,KAAM4d,IACrF2U,GAAcpwB,MAAQyb,EAAEne,OAE5Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAU0B,mBAAmBkC,KAAM4d,IACpF47B,GAAar3C,MAAQyb,EAAEne,OAE3Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAU4B,+BAA+BgC,KAAM4d,IAChG07B,GAAyBn3C,MAAQyb,EAAEne,OAEvCk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAU8B,oBAAoB8B,KAAM4d,IACrF27B,GAAcp3C,MAAQyb,EAAEne,OAE5Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpI,EAAU+B,uBAAuB6B,KAAM4d,IACxF67B,GAAgBt3C,MAAQyb,EAAEne,OAE9Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpG,EAAMC,kBAAkB2B,KAAM4d,IAC/E8M,GAAYvoB,MAAQyb,EAAEne,OAE1Bk6C,GAAmBz1C,OAAO4rC,iBAAiBthC,KAAKhK,KAAKpG,EAAMM,oBAAoBsB,KAAM4d,IACjF87B,GAAmBv3C,MAAQyb,EAAEne,OCrSjC,IAAA+6C,GAAe,CACd57C,MAAO,CACN,qBAEDC,MAAO,CACNgmB,WAAY1gB,QAEb3C,SAAU,CACTi5C,uBAAAA,GACC,OAAK5+C,KAAKgpB,YAAkD,cAApChpB,KAAKgpB,WAAW9S,UAAU,EAAG,IAE9C,wCAA0ClW,KAAKgpB,WAD9ChpB,KAAKgpB,UAEd,GAEDhlB,QAAS,CACR66C,gBAAAA,GACC7+C,KAAKqT,MAAM4lB,UAAU6lB,OACtB,EACA/kB,QAAAA,GACC,IAAI/vB,EAAOhK,KAAKqT,MAAM4lB,UAAUe,MAChC,GAAIhwB,GAAQA,EAAK,GAAI,CACpB,IAAIiwB,EAAS,IAAIC,WACjBD,EAAOE,OAAS1gB,IACfzZ,KAAK2E,MAAM,oBAAqB8U,EAAE/O,OAAO+Q,SAE1Cwe,EAAOG,cAAcpwB,EAAK,GAC3B,CACD,EACA+0C,WAAAA,GACC/+C,KAAK2E,MAAM,oBAAqB,GACjC,GAEDI,SAAU,inDC9BXi6C,GAAe,CACdhxC,WAAY,CACXixC,QCJa,CACdl8C,MAAO,CACN,UAEDC,MAAO,CACNgmB,WAAY,CACX9lB,KAAM,CAAC4xC,KAAMztC,QACbhE,UAAU,IAGZO,KAAIA,KACI,CACNs7C,QAAS,KAGX17C,MAAO,CACNwlB,UAAAA,CAAW7iB,GACI,8BAAVA,EAAEjD,MACLiD,EAAEiV,OAAOjX,KAAKsX,IACb,MAAMT,EAAMpK,KAAKC,MAAM4K,GACvBzb,KAAKk/C,QAAUlkC,EAAIkkC,SAAW,IAGjC,GAEDn6C,SAAU,wdDnBVhC,MAAO,CACN,qBAEDC,MAAO,CACNgmB,WAAY,CACX9lB,KAAM,CAAE2xC,SAAU1vC,OAClB9B,UAAU,GAEX87C,SAAUh8C,QACV6R,GAAI1M,OACJpC,KAAMoC,OACN82C,WAAY,CAAC92C,OAAQnD,MAAOkC,QAC5Bg4C,OAAQl8C,QACRo2C,OAAQ,CACPr2C,KAAMoF,OACNlD,QAAS,IAEVk6C,SAAU,CACTp8C,KAAMC,QACNiC,SAAS,IAGXpB,QAAS,CACRu7C,cAAcv1C,GACN4G,KAAKE,UAAU,CACrB0uC,aAAcx1C,EAAKw1C,aACnBC,iBAAkBz1C,EAAKy1C,iBACvBv5C,KAAM8D,EAAK9D,KACXorC,KAAMtnC,EAAKsnC,KACXpuC,KAAM8G,EAAK9G,OAGbw8C,QAAAA,CAASnsC,GACR,IAAKvT,KAAKm/C,SACT,OAAOn/C,KAAK2E,MAAM,oBAAqB4O,EAAM7I,OAAOsvB,OAErD,MAAM2lB,EAAK,IAAIC,aACTC,EAAU,GAChB,IAAK,IAAI71C,KAAQhK,KAAKgpB,WACrB22B,EAAGG,MAAMhH,IAAI9uC,GACb61C,EAAQ/4C,KAAK9G,KAAKu/C,cAAcv1C,IAEjC,IAAK,IAAIA,KAAQuJ,EAAM7I,OAAOsvB,MAEzB6lB,EAAQ55C,QAAQjG,KAAKu/C,cAAcv1C,IAAS,GAC/C21C,EAAGG,MAAMhH,IAAI9uC,GAEfhK,KAAK2E,MAAM,oBAAqBg7C,EAAG3lB,MACpC,EACA+lB,UAAAA,CAAW/qC,GACV,MAAMgrC,EAAe76C,MAAM2iB,KAAK9nB,KAAKgpB,YAAYhU,GAE3C2qC,EAAK,IAAIC,aACf,IAAK,IAAI51C,KAAQhK,KAAKgpB,WACjBhf,IAASg2C,GACZL,EAAGG,MAAMhH,IAAI9uC,GAEfhK,KAAK2E,MAAM,oBAAqBg7C,EAAG3lB,MACpC,GAEDx2B,MAAO,CACNwlB,UAAAA,CAAW7iB,GACV,IAAKA,EACJ,OACD,GAAIA,aAAa0uC,SAAU,CAC1B,IAAK70C,KAAKqT,MAAM4sC,OACf,OAED,OAAOjgD,KAAKqT,MAAM4sC,OAAOjmB,MAAQ7zB,CAClC,CAEA,MAAMw5C,EAAK,IAAIC,aAEf,IAAK,IAAI51C,KAAQ7D,EAChB,GAAI6D,aAAgB8qC,KACnB6K,EAAGG,MAAMhH,IAAI9uC,OACP,CACN,MAAMk2C,EAAU,IAAIpL,KAAK,CAAClkC,KAAKE,UAAU9G,IAAQA,EAAK9D,KAAM,CAC3DhD,KAAM,+BAEPy8C,EAAGG,MAAMhH,IAAIoH,EACd,CAEDlgD,KAAK2E,MAAM,oBAAqBg7C,EAAG3lB,MACpC,GAEDj1B,SAAU"}