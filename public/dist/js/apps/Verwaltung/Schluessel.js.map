{"version":3,"file":"Schluessel.js","sources":["../../../../../../js/components/Fetch.js","../../../../../../js/api/factory/navigation.js","../../../../../../js/components/navigation/Navigation.js","../../../../../../js/components/layout/BaseLayout.js","../../../../../../js/components/verticalsplit/verticalsplit.js","../../../../../../js/components/filter/Filter/Config.js","../../../../../../js/components/filter/Filter/Columns.js","../../../../../../js/components/filter/Table/Download.js","../../../../../../js/directives/collapseAutoClose.js","../../../../../../js/tabulator/layouts/fitDataStretchFrozen.js","../../../../../../js/api/factory/filter.js","../../../../../../js/components/filter/Filter.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/Modal.js","../../../../../../js/mixins/Phrasen.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/ModalDialog.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/vertragsbestandteil.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/employee.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/EmployeeStatus.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/issue.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/EmployeeHeader.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/contract/EmployeeContractInfo.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/orgviewer.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/organisation/OrgChooser.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/funktion.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/person.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/employee/JobFunction.js","../../../../../../js/components/Bootstrap/Modal.js","../../../../../../js/components/Fragment.js","../../../../../../js/components/Form/Input.js","../../../../../../js/components/Betriebsmittel/Betriebsmittel.js","../../../../../../js/components/Form/Form.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/common.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/dv.js","../../../../../../js/api/factory/betriebsmittel/person.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/components/verwaltung/Schluesselverwaltung.js","../../../../../../js/api/search.js","../../../../../../js/api/phrasen.js","../../../../../../js/api/navigation.js","../../../../../../js/api/filter.js","../../../../../../js/api/studstatus.js","../../../../../../js/api/profil.js","../../../../../../js/api/profilUpdate.js","../../../../../../js/api/lvPlan.js","../../../../../../js/api/stv.js","../../../../../../js/api/stv/verband.js","../../../../../../js/api/stv/students.js","../../../../../../js/api/stv/filter.js","../../../../../../js/api/stv/konto.js","../../../../../../js/api/stv/group.js","../../../../../../js/api/stv/kontakt.js","../../../../../../js/api/stv/prestudent.js","../../../../../../js/api/stv/status.js","../../../../../../js/api/stv/details.js","../../../../../../js/api/stv/exam.js","../../../../../../js/api/stv/abschlusspruefung.js","../../../../../../js/api/stv/grades.js","../../../../../../js/api/stv/mobility.js","../../../../../../js/api/stv/archiv.js","../../../../../../js/api/stv/documents.js","../../../../../../js/api/stv/exemptions.js","../../../../../../js/api/stv/jointstudies.js","../../../../../../js/api/stv/courselist.js","../../../../../../js/api/notiz.js","../../../../../../js/api/notiz/person.js","../../../../../../js/api/betriebsmittel.js","../../../../../../js/api/betriebsmittel/person.js","../../../../../../js/api/checkperson.js","../../../../../../js/api/ort.js","../../../../../../js/api/cms.js","../../../../../../js/api/lehre.js","../../../../../../js/api/addons.js","../../../../../../js/api/messages.js","../../../../../../js/api/messages/person.js","../../../../../../js/api/vorlagen.js","../../../../../../js/api/studium.js","../../../../../../js/api/fhcapifactory.js","../../../../../../js/api/dashboard.js","../../../../../../js/api/bookmark.js","../../../../../../js/api/ampeln.js","../../../../../../js/api/studiengang.js","../../../../../../js/api/menu.js","../../../../../../js/api/authinfo.js","../../../../../../js/api/language.js","../../../../../../js/plugin/OldFhcApi.js","../../../../../../js/plugins/Api.js","../../../../../../js/api/factory/phrasen.js","../../../../../../js/plugins/Phrasen.js","../../../../../../js/RESTClient.js","../../../../../../js/plugins/FhcAlert.js","../../../../../../extensions/FHC-Core-Personalverwaltung/js/apps/Verwaltung/Schluessel.js","../../../../../../js/components/Form/Upload/Image.js","../../../../../../js/components/Form/Upload/Dms.js","../../../../../../js/components/Form/Upload/Dms/Item.js"],"sourcesContent":["/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport const CoreFetchCmpt = {\n\temits: ['dataFetched'], // this component can emit the event dataFetched that it is catched by this component itself\n\tprops: {\n\t\trefresh: { // to refresh this component\n\t\t\ttype: Boolean\n\t\t},\n\t\tapiFunction: { // the function to call, must return a Promise\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\t\tapiFunctionParameters: {} // parameters for the apiFunction, type mixed, optional\n\t},\n\twatch: {\n\t\t/**\n\t\t * If the refresh property is changed then call fetchData\n\t\t */\n\t\trefresh: function (newValue, oldValue) {\n\t\t\tthis.fetchData();\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloading: false, // if in loading or not\n\t\t\terror: false, // if an error occurred while loading data\n\t\t\terrorMessage: null // the error message\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.fetchData();\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchData: function() {\n\t\t\tthis.loading = true; // loader started\n\t\t\tthis.error = false;\n\t\t\tthis.errorMessage = null;\n\n\t\t\t// Checks if the apifunction is a callable function\n\t\t\tif (typeof this.apiFunction == \"function\")\n\t\t\t{\n\t\t\t\t// Call the function stored in apiFunction\n\t        \t\tlet apiFunctionResult = this.apiFunction(this.apiFunctionParameters);\n\n\t\t\t\t// It is expected that the function returns a Promise\n\t\t\t\tif (apiFunctionResult instanceof Promise)\n\t\t\t\t{\n\t\t\t\t\tapiFunctionResult\n\t\t\t\t\t\t.then(this.successHandler) // on success\n\t\t\t\t\t\t.catch(this.errorHandler) // on error\n\t\t\t\t\t\t.finally(this.finallyHandler); // finally in any case\n\t\t\t\t}\n\t\t\t\telse // otherwise display an error\n\t\t\t\t{\n\t\t\t\t\tthis.setError(\"The called apiFunction does not return a Promise\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // otherwise display an error\n\t\t\t{\n\t\t\t\tthis.setError(\"Property apiFunction is not a function\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsetError: function(errorMessage) {\n\t\t\tthis.loading = false; // loading ended\n\t\t\tthis.error = true; // error occurred\n\t\t\tthis.errorMessage = errorMessage; // save the error message\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsuccessHandler: function(response) {\n\t\t\tthis.$emit('dataFetched', response ? response.data : undefined); // trigger the event dataFetched\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\terrorHandler: function(error) {\n\t\t\tif (error.response?.data?.retval)\n\t\t\t\tthis.setError(error.response.data.retval);\n\t\t\telse if (error.data?.message)\n\t\t\t\tthis.setError(error.data.message);\n\t\t\telse\n\t\t\t\tthis.setError(error.message);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfinallyHandler: function() {\n\t\t\tthis.loading = false; // loading ended\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot v-if=\"loading\" name=\"loading\">\n\t\t\t<div class=\"fetch-loader\">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if=\"error\" name=\"error\" :error-message=\"errorMessage\">\n\t\t\t<div class=\"fetch-error\">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t`\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/header',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t},\n\tgetMenu(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/menu',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport ApiNavigation from '../../api/factory/navigation.js';\n\n/**\n *\n */\nexport const CoreNavigationCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt\n\t},\n\tprops: {\n\t\taddHeaderMenuEntries: Object, // property used to add new header menu entries from another app/component\n\t\taddSideMenuEntries: Object, // property used to add new side menu entries from another app/component\n\t\thideTopMenu: Boolean,\n\t\tleftNavCssClasses: {\n\t\t\ttype: String,\n\t\t\tdefault: 'navbar navbar-left-side'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\theaderMenu: {}, // header menu entries\n\t\t\tsideMenu: {} // side menu entries\n\t\t};\n\t},\n\tcomputed: {\n\t\t/**\n\t\t *\n\t\t */\n\t\theaderMenuEntries() {\n\t\t\t//\n\t\t\tlet hm = this.headerMenu ? {...this.headerMenu} : {};\n\t\t\tif (this.headerMenu != null && this.addHeaderMenuEntries != null && Object.keys(this.addHeaderMenuEntries).length > 0)\n\t\t\t{\n\t\t\t\thm[this.addHeaderMenuEntries.description] = this.addHeaderMenuEntries;\n\t\t\t}\n\t\t\treturn hm;\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsideMenuEntries() {\n\t\t\t//\n\t\t\tlet sm = this.sideMenu ? {...this.sideMenu} : {};\n\t\t\tif (this.sideMenu != null && this.addSideMenuEntries != null && Object.keys(this.addSideMenuEntries).length > 0)\n\t\t\t{\n\t\t\t\tsm[this.addSideMenuEntries.description] = this.addSideMenuEntries;\n\t\t\t}\n\t\t\treturn sm;\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetNavigationPage() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptApiFunctionHeader() {\n\t\t\treturn this.$api.call(ApiNavigation.getHeader(this.getNavigationPage()))\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptApiFunctionSideMenu() {\n\t\t\treturn this.$api.call(ApiNavigation.getMenu(this.getNavigationPage()))\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptDataFetchedHeader(data) {\n\t\t\tthis.headerMenu = data || {};\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptDataFetchedMenu(data) {\n\t\t\tthis.sideMenu = data || {};\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetDataBsToggle(header) {\n\t\t\treturn !header.children ? null : 'dropdown';\n\t\t}\n\t},\n\ttemplate: `\n\t\t<!-- Load head menu -->\n\t\t<core-fetch-cmpt v-bind:api-function=\"fetchCmptApiFunctionHeader\" @data-fetched=\"fetchCmptDataFetchedHeader\"></core-fetch-cmpt>\n\t\t<!-- Load side menu -->\n\t\t<core-fetch-cmpt v-bind:api-function=\"fetchCmptApiFunctionSideMenu\" @data-fetched=\"fetchCmptDataFetchedMenu\"></core-fetch-cmpt>\n\n\t\t<!-- Top menu -->\n\t\t<nav class=\"navbar navbar-expand-lg navbar-header\" v-if=\"!hideTopMenu\">\n\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t<!-- 1st level -->\n\t\t\t\t<template v-for=\"header in headerMenuEntries\">\n\t\t\t\t\t<li class=\"nav-item dropdown\">\n\t\t\t\t\t\t<a class=\"nav-link header-menu-link-entry\"\n\t\t\t\t\t\t\tv-bind:data-bs-toggle=\"this.getDataBsToggle(header)\"\n\t\t\t\t\t\t\tv-bind:class=\"{ 'dropdown-toggle': header.children }\"\n\t\t\t\t\t\t\tv-bind:href=\"header.link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i class=\"fa-solid fa-fw header-menu-icon\" v-bind:class=\"'fa-' + header.icon\" v-if=\"header.icon\"></i> {{ header.description }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class=\"dropdown-menu\" v-if=\"header.children\">\n\t\t\t\t\t\t\t<!-- 2nd level -->\n\t\t\t\t\t\t\t<template v-for=\"child in header.children\">\n\t\t\t\t\t\t\t\t<li><a class=\"dropdown-item\" v-bind:href=\"child.link\">{{ child.description }}</a></li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</template>\n\t\t\t</ul>\n\t\t\t<slot></slot>\n\t\t</nav>\n\n\t\t<!-- Left side menu -->\n\t\t<nav :class=\"leftNavCssClasses\">\n\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t<!-- 1st level -->\n\t\t\t\t<template v-for=\"menu in sideMenuEntries\">\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a class=\"nav-link left-side-menu-link-entry\" v-bind:href=\"menu.link\" @click=menu.onClickCall>\n\t\t\t\t\t\t\t<i class=\"fa fa-fw\" v-bind:class=\"'fa-'+ menu.icon\"></i> {{ menu.description }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class=\"nav-link left-side-menu-second-level\" v-if=\"menu.children\">\n\t\t\t\t\t\t\t<!-- 2nd level -->\n\t\t\t\t\t\t\t<template v-for=\"child in menu.children\">\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<a class=\"nav-link left-side-menu-link-entry\" v-bind:href=\"child.link\" @click=child.onClickCall>\n\t\t\t\t\t\t\t\t\t\t&emsp;&emsp;{{ child.description }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\"nav-link left-side-menu-link-entry\"\n\t\t\t\t\t\t\t\t\t\tv-bind:class=\"child.subscriptLinkClass\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"child.subscriptDescription\"\n\t\t\t\t\t\t\t\t\t\tv-bind:href=\"child.link\"\n\t\t\t\t\t\t\t\t\t\t@click=child.onClickSubscriptCall\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ child.subscriptDescription }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</template>\n\t\t\t</ul>\n\t\t</nav>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tprops: {\n\t\ttitle: '',\n\t\tsubtitle: '',\n\t\tmainCols: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tasideCols: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t},\n\tcomputed: {\n\t\tmainGridCols() {\n\t\t\treturn this.mainCols.length > 0 ? `col-md-${this.mainCols[0]}` : \"col-md-12\";\n\t\t},\n\t\tasideGridCols() {\n\t\t\treturn this.asideCols.length > 0 ? `col-md-${this.asideCols[0]}` : \"\";\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"overflow-hidden\">\n\t\t<header v-if=\"title\">\n\t\t\t<h1 class=\"h2 mb-5\">{{ title }}<span class=\"fhc-subtitle\">{{ subtitle }}</span></h1>\n\t\t</header>\n\t\t<div class=\"row gx-5\">\n\t\t\t<main :class=\"mainGridCols\">\n\t\t\t\t<slot name=\"main\">{{ mainGridCols }}</slot>\n\t\t\t</main>\n\t\t\t<aside v-if=\"asideCols.length > 0\" :class=\"asideGridCols\">\n\t\t\t\t<slot name=\"aside\">{{ asideGridCols }}</slot>\n\t\t\t</aside>\n\t\t</div>\n\t</div>\n\t`\n};","export default {\n    name: 'VerticalSplit',\n    data: function() {\n      return {          \n          availHeight: 0,\n          topheight: 0,\n          bottomheight: 0,\n          mousePosY: 0, \n          resize: false,\n          vsplitter: null,\n          vsplitterOffset: 0,\n          selfOffsetTop: 0\n      };  \n    },\n    template: `\n    <div ref=\"verticalsplit\">\n        <div ref=\"toppanel\" class=\"verticalsplitted\" \n             :style=\"{height: this.topheightcss}\">\n            <slot name=\"top\">\n                <p>Top Panel</p>\n            </slot>\n        </div>\n        <div ref=\"vsplitter\" class=\"verticalsplitter\" \n             :class=\"this.topOrBottomClass\" @mousedown=\"this.dragStart\">\n            <div class=\"splitactions\" :class=\"this.topOrBottomClass\">\n                <span @click=\"this.collapseTop\" class=\"splitaction\">\n                    <i class=\"fas fa-angle-up text-muted\"></i>\n                </span>\n                <span @dblclick=\"this.showBoth\" class=\"splitaction resize\">\n                    <i class=\"fas fa-grip-lines text-muted\"></i>\n                </span>\n                <span @click=\"this.collapseBottom\" class=\"splitaction\">\n                    <i class=\"fas fa-angle-down text-muted\"></i>\n                </span>\n            </div>\n        </div>\n        <div ref=\"bottompanel\" class=\"verticalsplitted\"\n             :style=\"{height: this.bottomheightcss}\">\n            <slot name=\"bottom\">\n                <p/>\n            </slot>\n        </div>\n    </div>\n    `,\n    mounted: function() {\n        this.calcHeights();\n        this.trackVerticalSplitterOffsetTop();\n        window.addEventListener('resize', this.calcHeights);\n    },\n    updated: function() {\n        this.trackVerticalSplitterOffsetTop();\n    },\n    methods: {\n        calcHeights: function() {\n            var windowheight = window.innerHeight;\n            var oldavailHeight = this.availHeight;\n            this.selfOffsetTop = this.$refs.verticalsplit.offsetTop;\n            this.availHeight = windowheight - this.selfOffsetTop - this.$refs.vsplitter.offsetHeight;\n            if( (this.topheight === 0 && this.bottomheight === 0) || oldavailHeight === 0 ) {\n                this.topheight = Math.floor(this.availHeight/2);\n            } else {\n                this.topheight = Math.floor( ((((this.topheight * 100) / oldavailHeight) / 100) * this.availHeight) );\n            }\n            this.bottomheight = this.availHeight - this.topheight;\n        },\n        collapseTop: function() {\n            this.calcHeights();\n            this.topheight = 0;\n            this.bottomheight = this.availHeight;\n        },\n        collapseBottom: function() {\n            this.calcHeights();\n            this.topheight = this.availHeight;\n            this.bottomheight = 0;\n        },\n        showBoth: function() {\n            this.topheight = Math.floor(this.availHeight/2);\n            this.bottomheight = Math.floor(this.availHeight/2);\n        },\n        isCollapsed: function() {\n            if( this.topheight === 0 ) {\n                return 'top';\n            } else if ( this.bottomheight === 0 ) {\n                return 'bottom';\n            } else {\n                return false;\n            }\n        },\n        dragStart: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            window.addEventListener('mouseup', this.dragEnd);\n            window.addEventListener('mousemove', this.drag);\n            this.resize = true;\n            this.mousePosY = e.clientY;\n        },\n        drag: function(e) {\n            if( !this.resize ) {\n                return;\n            }\n            e.preventDefault();\n            e.stopPropagation();\n            var offsetY = e.clientY - this.mousePosY;\n            this.topheight = this.topheight + offsetY;\n            if( this.topheight < 0 ) {\n                this.topheight = 0;\n            }\n            if( this.topheight > this.availHeight ) {\n                this.topheight = this.availHeight;\n            }\n            this.bottomheight = this.availHeight - this.topheight;\n            this.mousePosY = e.clientY;\n        },\n        dragEnd: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            window.removeEventListener('mousemove', this.drag);\n            window.removeEventListener('mouseup', this.dragEnd);\n            this.resize = false;\n            this.mousePosY = e.clientY;\n        },\n        trackVerticalSplitterOffsetTop: function() {\n            this.vsplitterOffset = this.$refs.vsplitter.offsetTop;\n        }\n    },\n    computed: {\n        topOrBottomClass: function() {\n            return ((this.vsplitterOffset - this.selfOffsetTop) <= Math.floor(this.availHeight/2))\n                        ? 'top'\n                        : 'bottom';\n        },\n        topheightcss: function() {\n            return this.topheight + 'px';\n        },\n        bottomheightcss: function() {\n            return this.bottomheight + 'px';\n        }\n    }\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\temits: {\n\t\tswitchFilter: ['filterId'],\n\t\tapplyFilterConfig: ['filterFields'],\n\t\tsaveCustomFilter: ['customFilterName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentFields: []\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypes() {\n\t\t\treturn this.columns.reduce((a,c) => {\n\t\t\t\tlet type = c.type.toLowerCase();\n\t\t\t\tif (type.indexOf('int') >= 0)\n\t\t\t\t\ta[c.name] = 'Numeric';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('varchar') >= 0 || \n\t\t\t\t\ttype.indexOf('text') >= 0 || \n\t\t\t\t\ttype.indexOf('bpchar') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Text';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('timestamp') >= 0 || \n\t\t\t\t\ttype.indexOf('date') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Date';\n\t\t\t\telse\n\t\t\t\t\ta[c.name] = '';\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t}\n\t},\n\twatch: {\n\t\tfields(n) {\n\t\t\tthis.currentFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\tswitchFilter(evt) {\n\t\t\tthis.$emit('switchFilter', evt.currentTarget.value);\n\t\t},\n\t\tapplyFilterConfig() {\n\t\t\tconst filteredFields = this.currentFields.filter(el => el.name != FILTER_COMPONENT_NEW_FILTER);\n\t\t\tif (filteredFields.filter(el => el.condition == \"\").length)\n\t\t\t\talert(\"Please fill all the filter options\");\n\t\t\telse\n\t\t\t\tthis.$emit('applyFilterConfig', filteredFields);\n\t\t},\n\t\taddField(evt) {\n\t\t\tthis.currentFields.push({\n\t\t\t\tname: FILTER_COMPONENT_NEW_FILTER\n\t\t\t});\n\t\t},\n\t\tremoveField(index) {\n\t\t\tthis.currentFields.splice(index, 1);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-config\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div v-if=\"filters.length\" class=\"mb-4\">\n\t\t\t\t\t<select class=\"form-select\" @change=\"switchFilter\">\n\t\t\t\t\t\t<option value=\"\">Bitte auswählen...</option>\n\t\t\t\t\t\t<option v-for=\"filter in filters\" :value=\"filter.id\">\n\t\t\t\t\t\t\t{{ filter.description }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=addField>\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span> Neuer Filter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter-config-fields my-3\">\n\t\t\t\t\t<div v-for=\"(filterField, index) in currentFields\" class=\"filter-config-field row\">\n\n\t\t\t\t\t\t<div class=\"col-5\">\n\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">Filter {{ index + 1 }}</span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\t\t\t\tv-model=\"filterField.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Feld zum Filter hinzufügen...</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"col in columns\" :value=\"col.name\">\n\t\t\t\t\t\t\t\t\t\t{{ col.title }}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Numeric -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Numeric'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Text'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"contains\">Enthält</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ncontains\">Enthält nicht</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Timestamp and date -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Date'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Größer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"set\">Eingestellt ist</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nset\">Eingestellt nicht ist</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-1\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.option\">\n\t\t\t\t\t\t\t\t\t<option value=\"minutes\">Minuten</option>\n\t\t\t\t\t\t\t\t\t<option value=\"hours\">Stunden</option>\n\t\t\t\t\t\t\t\t\t<option value=\"days\">Tage</option>\n\t\t\t\t\t\t\t\t\t<option value=\"months\">Monate</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"col text-end\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-dark\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"removeField(index)\"\n\t\t\t\t\t\t\t\ttitle=\"Filter entfernen\"\n\t\t\t\t\t\t\t\taria-title=\"Filter entfernen\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fa-solid fa-minus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Filter save options -->\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-7\">\n\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t<input ref=\"filterName\" type=\"text\" class=\"form-control\" placeholder=\"Filternamen eingeben...\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"$emit('saveCustomFilter', $refs.filterName.value)\">Filter speichern</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" @click=\"applyFilterConfig\">Filter anwenden</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfields: Array,\n\t\tselected: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tnames: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t}\n\t},\n\temits: {\n\t\thide: ['fieldName'],\n\t\tshow: ['fieldName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tselectedFields: []\n\t\t};\n\t},\n\twatch: {\n\t\tselected(n) {\n\t\t\tthis.selectedFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle(field) {\n\t\t\tif (this.selectedFields.indexOf(field) != -1)\n\t\t\t{\n\t\t\t\tthis.selectedFields.splice(this.selectedFields.indexOf(field), 1);\n\t\t\t\tthis.$emit('hide', field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedFields.push(field);\n\t\t\t\tthis.$emit('show', field);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-columns\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"d-flex flex-wrap gap-2 p-3 justify-content-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"fieldToDisplay in fields\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:class=\"selectedFields.indexOf(fieldToDisplay) != -1 ? 'btn-dark' : 'btn-outline-dark' \"\n\t\t\t\t\t@click=\"toggle(fieldToDisplay)\"\n\t\t\t\t>\n\t\t\t\t\t{{ names[fieldToDisplay] || fieldToDisplay }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst DEFAULT_ICONS = {\n\tjsonLines: 'fa-file-lines',\n\txlsx: 'fa-file-excel',\n\tpdf: 'fa-file-pdf',\n\thtml: 'fa-file-code',\n\tjson: 'fa-file',\n\tcsv: 'fa-file-csv'\n};\nconst DEFAULT_LABELS = {\n\tjsonLines: 'Download as JSONLINES',\n\txlsx: 'Download as XLSX',\n\tpdf: 'Download as PDF',\n\thtml: 'Download as HTML',\n\tjson: 'Download as JSON',\n\tcsv: 'Download as CSV '\n};\n\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\ttabulator: Object,\n\t\tconfig: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\ticonClass: [String, Array, Object]\n\t},\n\tcomputed: {\n\t\tcurrentConfig() {\n\t\t\tif (!this.config)\n\t\t\t\treturn false;\n\n\t\t\tlet config = this.config;\n\n\t\t\tif (config instanceof Function)\n\t\t\t\treturn [config];\n\n\t\t\tif (config === null)\n\t\t\t\treturn [];\n\n\t\t\tif (this.config === true)\n\t\t\t\tconfig = ['csv'];\n\n\t\t\tif (Object.prototype.toString.call(config) === \"[object String]\")\n\t\t\t\tconfig = config.split(',');\n\n\t\t\tif (typeof config === 'object' && !Array.isArray(config)) {\n\t\t\t\tlet newConfig = [];\n\t\t\t\tfor (var k in config) {\n\t\t\t\t\tvar v = config[k], type;\n\t\t\t\t\t\n\t\t\t\t\tif (!v)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\n\t\t\t\t\tif (Object.prototype.toString.call(v) === \"[object String]\") {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(v);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: v === k ? DEFAULT_LABELS[type] : k,\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\t\tif(type !== null) {\n\t\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\t\tlabel: v,\n\t\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('neither ' + k + ' nor ' + v + ' are supported download file types');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof v === 'object' && !Array.isArray(v)) {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tif (v.formatter === undefined)\n\t\t\t\t\t\t\t\tv.formatter = type;\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = DEFAULT_LABELS[type];\n\t\t\t\t\t\t\tif (v.icon === undefined)\n\t\t\t\t\t\t\t\tv.icon = DEFAULT_ICONS[type];\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = k;\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[type],\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(k + ' is not a supported download file type');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconfig = newConfig;\n\t\t\t}\n\n\t\t\tif (Array.isArray(config))\n\t\t\t{\n\t\t\t\tconfig = config.map(el => {\n\t\t\t\t\tif (Object.prototype.toString.call(el) === \"[object String]\") {\n\t\t\t\t\t\tlet formatter = this.stringToFileFormatter(el);\n\t\t\t\t\t\tif (formatter === null)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[formatter],\n\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[formatter],\n\t\t\t\t\t\t\tformatter\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (el instanceof Function)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tformatter: el\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (typeof el === 'object' && !Array.isArray(el) && el !== null) {\n\t\t\t\t\t\tif (el.formatter instanceof Function)\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\tif (this.validateFileFormatter(el.formatter))\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(el => el !== null);\n\n\t\t\t\tif (config.length < 2)\n\t\t\t\t\treturn config;\n\n\t\t\t\tif (config.filter(el => el.label || el.icon).length == config.length)\n\t\t\t\t\treturn config;\n\n\t\t\t\talert('Config not valid');\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n\tmethods: {\n\t\tstringToFileFormatter(input) {\n\t\t\tlet lcInput = input.toLowerCase();\n\t\t\t\n\t\t\tif (lcInput == 'jsonlines')\n\t\t\t\treturn 'jsonLines';\n\t\t\t\n\t\t\tif (['xlsx', 'pdf', 'html', 'json', 'csv'].includes(lcInput))\n\t\t\t\treturn lcInput;\n\n\t\t\treturn null;\n\t\t},\n\t\tvalidateFileFormatter(input) {\n\t\t\tlet formatter = this.stringToFileFormatter(input);\n\t\t\tif (!formatter) {\n\t\t\t\talert(input + ' is not a supported file formatter');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (formatter == 'xlsx') {\n\t\t\t\tif (!window.XLSX) {\n\t\t\t\t\talert('XLSX Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (formatter == 'pdf') {\n\t\t\t\tif (!window.jspdf) {\n\t\t\t\t\talert('jsPDF Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar doc = new jspdf.jsPDF({});\n\t\t\t\tif (!doc.autoTable) {\n\t\t\t\t\talert('jsPDF-AutoTable Plugin not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdownload(config) {\n\t\t\tthis.tabulator.download(config.formatter, config.file, config.options)\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"currentConfig\">\n\t\t<template v-if=\"currentConfig.length == 1\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\t@click.prevent=\"download(currentConfig[0])\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t</template>\n\t\t<div v-else class=\"dropdown d-inline\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\trole=\"button\"\n\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t\t<li v-for=\"(conf, i) in currentConfig\" :key=\"i\">\n\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" @click.prevent=\"download(conf)\">\n\t\t\t\t\t\t<span v-if=\"conf.icon\" :class=\"conf.icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{conf.label}}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</template>\n\t`\n};\n\n","const elementDataMap = new WeakMap();\n\nexport default {\n\tmounted(el, binding) {\n\t\tlet open = false;\n\t\telementDataMap.set(el, evt => {\n\t\t\tif (!open)\n\t\t\t\treturn;\n\n\t\t\tif (el.contains(evt.target))\n\t\t\t\treturn;\n\n\t\t\tconst collapse = bootstrap.Collapse.getInstance(el)\n\t\t\tif (collapse)\n\t\t\t\tcollapse.hide();\n\t\t});\n\t\tel.addEventListener('shown.bs.collapse', () => {\n\t\t\topen = true;\n\t\t});\n\t\tel.addEventListener('hide.bs.collapse', () => {\n\t\t\topen = false;\n\t\t});\n\t\tdocument.addEventListener('click', elementDataMap.get(el), true);\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tdocument.removeEventListener('click', elementDataMap.get(el));\n\t\tdelete el.collapsibleAutoHideFunc;\n\t}\n}","/**\n * This may need changes if Tabulator gets updated!\n *\n * Current working Version: 5.5.2\n * \n * This is a copy of the fitDataStretch function. The only difference\n * is the check for frozen columns on line 22.\n */\n\nexport default window.Tabulator?.extendModule(\"layout\", \"modes\", {\n\tfitDataStretchFrozen(columns, forced) {\n\t\tvar colsWidth = 0,\n\t\ttableWidth = this.table.rowManager.element.clientWidth,\n\t\tgap = 0,\n\t\tlastCol = false;\n\n\t\tcolumns.forEach((column, i) => {\n\t\t\tif (!column.widthFixed) {\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible && !column.definition.frozen) {\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol){\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tlastCol.setWidth(0);\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/saveCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t};\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/applyFilterFields',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t};\n\t},\n\taddFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/addFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tgetFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport FilterConfig from './Filter/Config.js';\nimport FilterColumns from './Filter/Columns.js';\nimport TableDownload from './Table/Download.js';\nimport collapseAutoClose from '../../directives/collapseAutoClose.js';\n\nimport moduleLayoutFitDataStretchFrozen from '../../tabulator/layouts/fitDataStretchFrozen.js';\n\nimport ApiFilter from '../../api/factory/filter.js';\n\n//\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\nconst FILTER_COMPONENT_NEW_FILTER_TYPE = 'Filter Component New Filter Type';\n\nvar _uuid = 0;\n\n/**\n *\n */\nexport const CoreFilterCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt,\n\t\tFilterConfig,\n\t\tFilterColumns,\n\t\tTableDownload\n\t},\n\tdirectives: {\n\t\tcollapseAutoClose\n\t},\n\temits: [\n\t\t'nwNewEntry',\n\t\t'click:new',\n\t\t'tableBuilt',\n\t\t'uuidDefined'\n\t],\n\tprops: {\n\t\tonNwNewEntry: Function, // NOTE(chris): Hack to get the nwNewEntry listener into $props\n\t\ttitle: String,\n\t\tdescription: String,\n\t\tsideMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tfilterType: {\n\t\t\ttype: String\n\t\t},\n\t\ttabulatorOptions: Object,\n\t\ttabulatorEvents: Array,\n\t\ttableOnly: Boolean,\n\t\tnoColumnFilter:Boolean,\n\t\treload: Boolean,\n\t\treloadBtnInfotext: String,\n\t\tdownload: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\tnewBtnShow: Boolean,\n\t\tnewBtnClass: [String, Array, Object],\n\t\tnewBtnDisabled: Boolean,\n\t\tnewBtnLabel: String,\n\t\tuniqueId: String,\n\n\t\tidField: String,\n\t\tparentIdField: String,\n\t\tcountOnly: Boolean,\n\t\tuseSelectionSpan: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tuuid: 0,\n\t\t\t// FilterCmpt properties\n\t\t\tfilterName: null,\n\t\t\tfilterActive: false,\n\t\t\tfields: null,\n\t\t\tdataset: null,\n\t\t\tdatasetMetadata: null,\n\t\t\tselectedFields: null,\n\t\t\tfilterFields: null,\n\n\t\t\tavailableFilters: null,\n\t\t\tselectedFilter: null,\n\n\t\t\t// FetchCmpt binded properties\n\t\t\tfetchCmptRefresh: false,\n\t\t\tfetchCmptApiFunction: null,\n\t\t\tfetchCmptApiFunctionParams: null,\n\t\t\tfetchCmptDataFetched: null,\n\n\t\t\tfetchResult: null,\n\n\t\t\ttabulator: null,\n\t\t\ttableBuilt: false,\n\t\t\ttabulatorHasSelector: false,\n\t\t\tselectedData: [],\n\t\t\tpersistence: {\n\t\t\t\tsort: true,\n\t\t\t\tcolumns: true,\n\t\t\t\tfilter: false,\n\t\t\t\theaderFilter: false,\n\t\t\t\tgroup: false,\n\t\t\t\tpage: false,\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotSelectedFields() {\n\t\t\tif (!this.fields || !this.selectedFields)\n\t\t\t\treturn null;\n\t\t\treturn this.fields.filter(x => this.selectedFields.indexOf(x) === -1)\n\t\t},\n\t\tfilteredData() {\n\t\t\tif (!this.dataset)\n\t\t\t\treturn [];\n\t\t\treturn JSON.parse(JSON.stringify(this.dataset));\n\t\t},\n\t\tfilteredColumns() {\n\t\t\tlet fields = JSON.parse(JSON.stringify(this.fields)) || [];\n\t\t\tlet selectedFields = JSON.parse(JSON.stringify(this.selectedFields)) || [];\n\n\t\t\tlet columns = null;\n\n\t\t\t// If the tabulator options has been provided and it contains the property columns\n\t\t\tif (this.tabulatorOptions && this.tabulatorOptions.hasOwnProperty('columns'))\n\t\t\t\tcolumns = this.tabulatorOptions.columns;\n\n\t\t\t// If columns is not an array or it is an array with less elements then the array fields\n\t\t\tif (!Array.isArray(columns) || (Array.isArray(columns) && columns.length < fields.length))\n\t\t\t{\n\t\t\t\tcolumns = []; // set it as an empty array\n\n\t\t\t\t// Loop throught all the retrieved columns from database\n\t\t\t\tfor (let field of fields)\n\t\t\t\t{\n\t\t\t\t\t// Create a new column having the title equal to the field name\n\t\t\t\t\tlet column = {\n\t\t\t\t\t\ttitle: field,\n\t\t\t\t\t\tfield: field\n\t\t\t\t\t};\n\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\tcolumn.visible = selectedFields.indexOf(field) >= 0;\n\n\t\t\t\t\t// Add the new column to the list of columns\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // the property columns has been provided in the tabulator options\n\t\t\t{\n\t\t\t\t// Loop throught the property columns of the tabulator options\n\t\t\t\tfor (let col of columns)\n\t\t\t\t{\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\t/* fields.indexOf(col.field) == -1; ensures displaying formatter colums\n\t\t\t\t\te.g. column with rowSelection checkboxes or with custom formatted action buttons */\n\t\t\t\t\tcol.visible = selectedFields.indexOf(col.field) >= 0 || fields.indexOf(col.field) == -1;\n\n\t\t\t\t\tif (col.hasOwnProperty('resizable'))\n\t\t\t\t\t\tcol.resizable = col.visible;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn columns;\n\t\t},\n\t\tfieldIdsForVisibilty() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn [];\n\t\t\treturn this.tabulator.getColumns().filter(col => {\n\t\t\t\tlet def = col.getDefinition();\n\t\t\t\treturn !def.frozen && def.title && def.formatter != \"responsiveCollapse\";\n\t\t\t}).map(col => col.getField());\n\t\t},\n\t\tfieldNames() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn {};\n\t\t\treturn this.tabulator.getColumns().reduce((res, col) => {\n\t\t\t\tres[col.getField()] = col.getDefinition().title;\n\t\t\t\treturn res;\n\t\t\t}, {});\n\t\t},\n\t\tidExtra() {\n\t\t\tif (!this.uuid)\n\t\t\t\treturn '';\n\t\t\treturn '-' + this.uuid;\n\t\t},\n\t\tcolumnsForFilter() {\n\t\t\tif (!this.filteredColumns || !this.datasetMetadata)\n\t\t\t\treturn [];\n\t\t\tconst filterTitles = this.filteredColumns.reduce((a,c) => {\n\t\t\t\ta[c.field] = c.title;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\treturn this.datasetMetadata.map(el => ({...el, ...{title: filterTitles[el.name]}}));\n\t\t}\n\t},\n\tmethods: {\n\t\treloadTable() {\n\t\t\tif (this.tableOnly)\n\t\t\t\tthis.tabulator.setData();\n\t\t\telse\n\t\t\t\tthis.getFilter();\n\t\t},\n\t\tasync initTabulator() {\n\t\t\tlet placeholder = '< Phrasen Plugin not loaded! >';\n\t\t\tif (this.$p) {\n\t\t\t\tawait this.$p.loadCategory('ui');\n\t\t\t\tplaceholder = this.$p.t('ui/keineDatenVorhanden');\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\t// prefetch data to get fields & selectedFields for filteredColumns & filteredData\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tconst filterId = window.location.hash ? window.location.hash.slice(1) : null;\n\n\t\t\t\t\tconst resolvePromiseFunc = data => {\n\t\t\t\t\t\tthis.setRenderData(data);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\t\t\t\t\t// get the filter data\n\t\t\t\t\tif (filterId === null)\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t\t\t{ filterId },\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Define a default tabulator options in case it was not provided\n\t\t\tlet tabulatorOptions = {...{\n\t\t\t\t\tlayout: \"fitDataStretchFrozen\",\n\t\t\t\t\tmovableColumns: true,\n\t\t\t\t\tcolumnDefaults:{\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tpersistence: this.persistence,\n\t\t\t\t}, ...(this.tabulatorOptions || {})};\n\n\t\t\t// set default height if no height property is set\n\t\t\tif (tabulatorOptions.height === undefined &&\n\t\t\t\ttabulatorOptions.minHeight === undefined &&\n\t\t\t\ttabulatorOptions.maxHeight === undefined) {\n\t\t\t\ttabulatorOptions.height = 500;\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\ttabulatorOptions.data = this.filteredData;\n\t\t\t\ttabulatorOptions.columns = this.filteredColumns;\n\t\t\t} else {\n\t\t\t\ttabulatorOptions.columns.forEach(col => {\n\t\t\t\t\tif (col.visible === undefined)\n\t\t\t\t\t\tcol.visible = true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tabulatorOptions.selectable || (tabulatorOptions.columns && tabulatorOptions.columns.filter(el => el.formatter == 'rowSelection').length))\n\t\t\t\tthis.tabulatorHasSelector = true;\n\n\t\t\tif (this.idField) {\n\t\t\t\t// enable nested tabulator if parent Id given\n\t\t\t\tif (this.parentIdField) tabulatorOptions.dataTree = true;\n\t\t\t\t// set tabulator index\n\t\t\t\ttabulatorOptions.index = this.idField;\n\t\t\t}\n\n\t\t\t// Start the tabulator with the build options\n\t\t\tthis.tabulator = new Tabulator(\n\t\t\t\tthis.$refs.table,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n\t\t\t// If event handlers have been provided\n\t\t\tif (Array.isArray(this.tabulatorEvents) && this.tabulatorEvents.length > 0)\n\t\t\t{\n\t\t\t\t// Attach all the provided event handlers to the started tabulator\n\t\t\t\tfor (let evt of this.tabulatorEvents)\n\t\t\t\t\tthis.tabulator.on(evt.event, evt.handler);\n\t\t\t}\n\t\t\tthis.tabulator.on('tableBuilt', () => {this.tableBuilt = true; this.$emit('tableBuilt');});\n\t\t\tthis.tabulator.on(\"rowSelectionChanged\", data => {\n\t\t\t\tthis.selectedData = data;\n\t\t\t});\n\n\t\t\t// if nested tabulator, restructure data\n\t\t\tif (this.parentIdField && this.idField) {\n\t\t\t\tthis.tabulator.on(\"dataLoading\", data => {\n\t\t\t\t\tlet toDelete = [];\n\n\t\t\t\t\t// loop through all data\n\t\t\t\t\tfor (let childIdx = 0; childIdx < data.length; childIdx++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet child = data[childIdx];\n\n\t\t\t\t\t\t// if it has parent id, it is a child\n\t\t\t\t\t\tif (child[this.parentIdField])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// append the child on the right place. If parent found, mark original sw child on 0 level for deleting\n\t\t\t\t\t\t\tif (this.appendChild(data, child)) toDelete.push(childIdx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete the marked children from 0 level\n\t\t\t\t\tfor (let counter = 0; counter < toDelete.length; counter++)\n\t\t\t\t\t{\n\t\t\t\t\t\t// decrease index by counter as index of data array changes after every deletion\n\t\t\t\t\t\tdata.splice(toDelete[counter] - counter, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.tableOnly) {\n\t\t\t\tthis.tabulator.on('tableBuilt', () => {\n\t\t\t\t\tconst cols = this.tabulator.getColumns();\n\t\t\t\t\tthis.fields = cols.map(col => col.getField());\n\t\t\t\t\tthis.selectedFields = cols.filter(col => col.isVisible()).map(col => col.getField());\n\t\t\t\t\tif (this.tabulator.options.persistence.headerFilter)\n\t\t\t\t\t\tthis._setHeaderFilter();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.tabulator.on(\"dataFiltered\", filters => {\n\t\t\t\tthis.filterActive = filters.length > 0;\n\t\t\t});\n\t\t},\n\t\tupdateTabulator() {\n\t\t\tif (this.tabulator) {\n\t\t\t\tif (this.tableBuilt)\n\t\t\t\t\tthis._updateTabulator();\n\t\t\t\telse\n\t\t\t\t\tthis.tabulator.on('tableBuilt', this._updateTabulator);\n\t\t\t}\n\t\t},\n\t\t_updateTabulator() {\n\t\t\tthis.tabulatorHasSelector = this.tabulatorOptions.selectable || this.filteredColumns.filter(el => el.formatter == 'rowSelection').length;\n\t\t\tthis.tabulator.setColumns(this.filteredColumns);\n\t\t\tthis.tabulator.setData(this.filteredData);\n\t\t\tthis._setHeaderFilter()\n\t\t},\n\t\tclearFilters()\n\t\t{\n\t\t\tlet existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, \"\");\n\t\t\t});\n\t\t\tthis.tabulator.clearFilter();\n\t\t\tthis.filterActive = false;\n\t\t},\n\t\t_setHeaderFilter()\n\t\t{\n\t\t\tconst existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, filter.value);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetFilter() {\n\t\t\tif (this.selectedFilter === null)\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t{\n\t\t\t\t\t\tfilterId: this.selectedFilter\n\t\t\t\t\t},\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t},\n\t\tsetRenderData(data) {\n\t\t\tthis.fetchResult = data;\n\t\t\tthis.filterName = data.filterName;\n\t\t\tthis.dataset = data.dataset;\n\t\t\tthis.datasetMetadata = data.datasetMetadata;\n\n\t\t\tthis.fields = data.fields;\n\t\t\tthis.selectedFields = data.selectedFields;\n\t\t\tthis.filterFields = [];\n\n\t\t\tfor (let i = 0; i < data.datasetMetadata.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < data.filters.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (data.datasetMetadata[i].name == data.filters[j].name)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet filter = data.filters[j];\n\t\t\t\t\t\tfilter.type = data.datasetMetadata[i].type;\n\n\t\t\t\t\t\tthis.filterFields.push(filter);\n\t\t\t\t\t\t//break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\trender(response) {\n\t\t\tlet data = response;\n\n\t\t\tthis.setRenderData(data);\n\n\t\t\t// If the side menu is active\n\t\t\tif (this.sideMenu === true)\n\t\t\t{\n\t\t\t\tthis.setSideMenu(data);\n\t\t\t}\n\t\t\telse // otherwise use the dropdown in the filter options\n\t\t\t{\n\t\t\t\tthis.setDropDownMenu(data);\n\t\t\t}\n\t\t\tthis.updateTabulator();\n\t\t},\n\t\t/**\n\t\t * Set the menu\n\t\t */\n\t\tsetSideMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc,\n\t\t\t\t\tsubscriptDescription: personalFilters[filtersCount].subscriptDescription,\n\t\t\t\t\tsubscriptLinkClass: personalFilters[filtersCount].subscriptLinkClass,\n\t\t\t\t\tsubscriptLinkValue: personalFilters[filtersCount].subscriptLinkValue,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById,\n\t\t\t\t\tonClickSubscriptCall: this.handlerRemoveCustomFilter\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\n\t\t\tthis.$emit(\n\t\t\t\t'nwNewEntry',\n\t\t\t\t{\n\t\t\t\t\tlink: \"#\",\n\t\t\t\t\tdescription: \"Filters\",\n\t\t\t\t\ticon: \"filter\",\n\t\t\t\t\tchildren: filtersArray\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Set the drop down menu\n\t\t */\n\t\tsetDropDownMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\toption: filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\toption: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\t\t},\n\t\t/**\n\t\t * Used to start/refresh the FetchCmpt\n\t\t */\n\t\tstartFetchCmpt(apiFunction, apiFunctionParameters, dataFetchedCallback) {\n\t\t\t// Assign the function api of the FetchCmpt binded property\n\t\t\tthis.fetchCmptApiFunction = apiFunction;\n\n\t\t\t// In case a null value is provided set the parameters as an empty object\n\t\t\tif (apiFunctionParameters == null) apiFunctionParameters = {};\n\n\t\t\t// Always needed parameters\n\t\t\tapiFunctionParameters.filterUniqueId = FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t\tapiFunctionParameters.filterType = this.filterType;\n\n\t\t\tif (this.uniqueId)\n\t\t\t\tapiFunctionParameters.filterUniqueId += '_' + this.uniqueId;\n\n\t\t\t// Assign parameters to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptApiFunctionParams = apiFunctionParameters;\n\t\t\t// Assign data fetch callback to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptDataFetched = dataFetchedCallback;\n\t\t\t// Set the FetchCmpt binded property refresh to have the component to refresh\n\t\t\t// NOTE: this should be the last one to be called because it triggers the FetchCmpt to start to refresh\n\t\t\tthis.fetchCmptRefresh === true ? this.fetchCmptRefresh = false : this.fetchCmptRefresh = true;\n\t\t},\n\n\t\t// ------------------------------------------------------------------------------------------------------------------\n\t\t// Event handlers\n\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerSaveCustomFilter(customFilterName) {\n\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.saveCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tcustomFilterName\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerRemoveCustomFilter(event) {\n\t\t\tlet filterId = event.currentTarget.getAttribute(\"href\").substring(1);\n\t\t\tif (filterId === this.selectedFilter)\n\t\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.removeCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterId: filterId\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t/*\n\t\t *\n\t\t */\n\t\thandlerGetFilterById: function(event) {\n\n\t\t\tlet filterId = null;\n\n\t\t\t// Get the attribute href if side menu is rendered\n\t\t\tlet attr = event.currentTarget.getAttribute(\"href\");\n\n\t\t\t// Otherwise get the value of the drop down menu\n\t\t\tif (attr == null)\n\t\t\t{\n\t\t\t\tfilterId = event.currentTarget.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfilterId = attr.substring(1);\n\t\t\t}\n\n\t\t\tthis.switchFilter(filterId);\n\t\t},\n\t\tswitchFilter(filterId) {\n\t\t\tthis.selectedFilter = filterId;\n\t\t\tthis.getFilter();\n\t\t},\n\t\tapplyFilterConfig(filterFields) {\n\t\t\tthis.selectedFilter = null;\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.applyFilterFields(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterFields\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t// append child to it's parent\n\t\tappendChild(data, child) {\n\t\t\t// get parent id\n\t\t\tlet parentId = child[this.parentIdField];\n\n\t\t\t// loop thorugh all data\n\t\t\tfor (let parentIdx = 0; parentIdx < data.length; parentIdx++)\n\t\t\t{\n\t\t\t\tlet parent = data[parentIdx];\n\n\t\t\t\t// if it's the parent\n\t\t\t\tif (parent[this.idField] == parentId)\n\t\t\t\t{\n\t\t\t\t\t// create children array if not done yet\n\t\t\t\t\tif (!parent._children) parent._children = [];\n\n\t\t\t\t\t// if child is not included in children array, append the child\n\t\t\t\t\tif (!parent._children.includes(child)) parent._children.push(child);\n\n\t\t\t\t\t// parent found\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// search children for parents\n\t\t\t\telse if (parent._children) this.appendChild(parent._children, child);\n\t\t\t}\n\n\t\t\t// parent not found\n\t\t\treturn false;\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tif (!this.tableOnly == !this.filterType)\n\t\t\talert('You can not have a filter-type in table-only mode!');\n\t},\n\tcreated() {\n\t\tif (this.sideMenu && (!this.$props.onNwNewEntry || !(this.$props.onNwNewEntry instanceof Function)))\n\t\t\talert('\"nwNewEntry\" listener is mandatory when sideMenu is true');\n\t\tthis.uuid = _uuid++;\n\t\tthis.$emit('uuidDefined', this.uuid)\n\t},\n\tmounted() {\n\t\tthis.initTabulator().then(() => {\n\t\t\tif (!this.tableOnly) {\n\t\t\t\tthis.selectedFilter = window.location.hash ? window.location.hash.slice(1) : null;\n\t\t\t\tthis.render(this.fetchResult);\n\t\t\t}\n\t\t});\n\n\t},\n\ttemplate: `\n\t\t<!-- Load filter data -->\n\t\t<core-fetch-cmpt\n\t\t\tv-if=\"!tableOnly && fetchCmptApiFunction\"\n\t\t\tv-bind:api-function=\"fetchCmptApiFunction\"\n\t\t\tv-bind:api-function-parameters=\"fetchCmptApiFunctionParams\"\n\t\t\tv-bind:refresh=\"fetchCmptRefresh\"\n\t\t\t@data-fetched=\"fetchCmptDataFetched\">\n\t\t</core-fetch-cmpt>\n\n\t\t<div class=\"row\" v-if=\"title != null && title != ''\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<h3 class=\"page-header mt-1 mb-4\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"'filterCollapsables' + idExtra\">\n\n\t\t\t<div class=\"d-flex flex-row justify-content-between flex-wrap\">\n\t\t\t\t<div v-if=\"newBtnShow || reload || $slots.search || $slots.actions\" class=\"d-flex gap-2 align-items-baseline flex-wrap\">\n\t\t\t\t\t<button v-if=\"newBtnShow\" class=\"btn btn-primary\" :class=\"newBtnClass\" :title=\"newBtnLabel ? undefined : 'New'\" :aria-label=\"newBtnLabel ? undefined : 'New'\" @click=\"$emit('click:new', $event)\" :disabled=\"newBtnDisabled\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{ newBtnLabel }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"reload\" class=\"btn btn-outline-secondary\" aria-label=\"Reload\" @click=\"reloadTable\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-rotate-right\" aria-hidden=\"true\"  :title=\"reloadBtnInfotext ? reloadBtnInfotext : 'Reload'\" ></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span v-if=\"$slots.actions && tabulatorHasSelector && useSelectionSpan\">\n\t\t\t\t\t\t<span v-if=\"countOnly\">{{ selectedData.length }} ausgewählt</span>\n\t\t\t\t\t\t<span v-else id=\"selected-info-text\"> Mit {{ selectedData.length }} ausgewählten:</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<slot name=\"actions\" v-bind=\"{selected: tabulatorHasSelector ? selectedData : []}\"></slot>\n\t\t\t\t\t<slot name=\"search\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-1 align-items-baseline flex-grow-1 justify-content-end\">\n\t\t\t\t\t<span v-if=\"!tableOnly\">[ {{ filterName }} ]</span>\n\t\t\t\t\t<span v-else-if=\"description\" v-html=\"description\"></span>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"!tableOnly || $slots.filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseFilters' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"filterActive\"  class=\"btn btn-link px-0 fhc-text\" :title=\"$p.t('ui','filterdelete')\" @click=\"clearFilters\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter-circle-xmark\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseColumns' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-table-columns\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<table-download class=\"btn btn-link px-0 fhc-text\" :tabulator=\"tabulator\" :config=\"download\"></table-download>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<filter-columns\n\t\t\t\t:id=\"'collapseColumns' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:fields=\"fieldIdsForVisibilty\"\n\t\t\t\t:selected=\"selectedFields\"\n\t\t\t\t:names=\"fieldNames\"\n\t\t\t\t@hide=\"tabulator.hideColumn($event)\"\n\t\t\t\t@show=\"tabulator.showColumn($event)\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-columns>\n\n\t\t\t<filter-config\n\t\t\t\tv-if=\"!tableOnly\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:filters=\"!sideMenu ? (availableFilters || []) : []\"\n\t\t\t\t:columns=\"columnsForFilter\"\n\t\t\t\t:fields=\"filterFields || []\"\n\t\t\t\t@switch-filter=\"switchFilter\"\n\t\t\t\t@apply-filter-config=\"applyFilterConfig\"\n\t\t\t\t@save-custom-filter=\"handlerSaveCustomFilter\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-config>\n\t\t\t<div\n\t\t\t\tv-else-if=\"$slots.filter\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t\t>\n\t\t\t\t<slot name=\"filter\"></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tabulator -->\n\t\t<div ref=\"table\" :id=\"'filterTableDataset' + idExtra\" class=\"filter-table-dataset\"></div>\n\t`\n};\n","export const Modal = {\n\tname: 'Modal',\n    props: {\n        type: String,\n        title: String,\n        noscroll: Boolean\n    },\n    expose: ['show', 'hide'],\n    setup(props, { emit }) {\n       \n        let modalEle = Vue.ref(null);\n        let thisModalObj;\n\n        Vue.onMounted(() => {\n            thisModalObj = new bootstrap.Modal(modalEle.value);\n        });\n        const show = () => {\n            thisModalObj.show();\n        }\n        function hide() {\n            thisModalObj.hide();\n        }\n\n        return { modalEle, show, hide };\n    },\n\n    template:`\n    <div class=\"modal fade \" id=\"customModal\" tabindex=\"-1\" aria-labelledby=\"\"\n        aria-hidden=\"true\" ref=\"modalEle\">\n        <div class=\"modal-dialog modal-lg\" :class=\"(!noscroll) ? 'modal-dialog-scrollable' : ''\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"customModalLabel\">{{ title }}</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <slot name=\"body\" />\n                </div>\n                <div class=\"modal-footer\">\n                    <slot name=\"footer\"></slot>\n                    <!-- button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n                        OK\n                    </button-->\n                </div>\n            </div>\n        </div>\n    </div>`\n};\n","const categories = {};\nconst loadingModules = {};\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction reloadRefs(category) {\n\twhile (loadingModules[category].length) {\n\t\tvar v = loadingModules[category].pop();\n\t\tv[0].value = getValueForLoadedPhrase(category, v[1], v[2]);\n\t\tVue.triggerRef(v[0]);\n\t\t/*Vue.unref(v);*/\n\t}\n}\nfunction loadLazy(category, val, phrase, params) {\n\t// NOTE(chris): load module if it's not loaded yet\n\tif (loadingModules[category]) {\n\t\tloadingModules[category].push([val, phrase, params]);\n\t\tif (categories[category]) // NOTE(chris): this is for safety in case the loading finished the moment before the val was pushed into the array\n\t\t\treloadRefs(category);\n\t\treturn;\n\t}\n\tloadingModules[category] = [[val, phrase, params]];\n\n\taxios.get(FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + '/components/Phrasen/loadModule/' + category).then(res => {\n\t\tif (res.data.retval)\n\t\t\tcategories[category] = extractCategory(res.data.retval, category);\n\t\telse\n\t\t\tcategories[category] = {};\n\n\t\treloadRefs(category);\n\t}).catch(err => console.error(err));\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\n\nconst phrasen = {\n\tt_ref(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input');\n\t\t\treturn '';\n\t\t}\n\t\tif (!categories[category]) {\n\t\t\t\n\t\t\tvar initialval = '';\n  \t\t\tif (window.FHC_JS_PHRASES_STORAGE_OBJECT !== undefined) {\n  \t\t\t\tvar tmp_category = extractCategory(FHC_JS_PHRASES_STORAGE_OBJECT, category);\n\t\t\t\tif(tmp_category[phrase] !== undefined ) {\n\t\t\t\t\tinitialval = tmp_category[phrase];\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\tif (!categories[category] || Object.keys(categories[category]).length === 0) {\n\t\t\t\tcategories[category] = undefined;\n\t\t\t\tlet val = Vue.ref(initialval);\n\t\t\t\tloadLazy(category, val, phrase, params);\n\t\t\t\treturn val;\n\t\t\t}\n\t\t}\n\t\tvar result = getValueForLoadedPhrase(category, phrase, params);\n\t\treturn Vue.ref(result);\n\t},\n\tt(category, phrase, params) {\n\t\treturn Vue.unref(this.t_ref(category, phrase, params));\n\t}\n};\n\nexport default {\n\tdata: () => {\n\t\treturn {\n\t\t\tp: phrasen\n\t\t}\n\t}\n}\n\n// Composable (wrapper for mixin)\nexport function usePhrasen() {\n\n\tfunction t(category, phrase, params) {\n\t\treturn phrasen.t(category, phrase, params);\n\t}\n\n\treturn {\t\t\n\t\tt,\n\t}\n\n}\n","import { usePhrasen } from '../../../../../public/js/mixins/Phrasen.js';\n\nexport const ModalDialog = {\n\tname: 'ModalDialog',\n    props: {\n        type: String,\n        title: String,\n    },\n    expose: ['show', 'hide'],\n    setup(props, { emit }) {\n       \n        let modalConfirmEle = Vue.ref(null);\n        let thisModalObj;\n        let _resolve;\n        let _reject;\n        const { t } = usePhrasen();\n\n        Vue.onMounted(() => {\n            thisModalObj = new bootstrap.Modal(modalConfirmEle.value);\n        });\n        \n        const show = async () => {\n            thisModalObj.show();\n            return new Promise(function (resolve, reject) {\n              _resolve = resolve;\n              _reject = reject;\n            });\n        }\n\n        function hide() {\n            thisModalObj.hide();\n        }\n\n        const ok = () => {\n            _resolve(true);\n          }\n          \n        const cancel = () =>  {\n            _resolve(false);\n        }        \n\n        return { modalConfirmEle, show, hide, ok, cancel, t };\n    },\n\n    template:`\n    <div class=\"modal fade \" id=\"customModalDialog\" tabindex=\"-1\" aria-labelledby=\"\"\n        aria-hidden=\"true\" ref=\"modalConfirmEle\">\n        <div class=\"modal-dialog modal-lg\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"customModalDialogLabel\">{{ title }}</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <slot name=\"body\" />\n                </div>\n                <div class=\"modal-footer\">\n                    <slot name=\"footer\"></slot>\n                    <button type=\"button\" class=\"btn btn-secondary\" @click=\"cancel\" data-bs-dismiss=\"modal\">\n                      {{ t('ui','abbrechen') }}\n                    </button>\n                    <button type=\"button\" class=\"btn btn-primary\" @click=\"ok\" data-bs-dismiss=\"modal\">\n                        {{ t('ui','ok') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>`\n};\n","export default {\n  getCurrentVBs(dvid) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getCurrentVBs/' \n            + dvid;\n    return {\n      method: 'get',\n      url,\n    }\n  },\n  getCurrentAndFutureVBs(dvid, options) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getCurrentAndFutureVBs/' \n            + dvid;\n      if( typeof options !== 'undefined' ) {\n        const params = new URLSearchParams(options);\n        url = url + '?' + params.toString();\n      }\n      return {\n        method: 'get',\n        url,\n      }\n  },\n  getAllVBs(dvid) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getAllVBs/' \n            + dvid;\n    return {\n      method: 'get',\n      url,\n    }\n  },\n  getVB(vbid) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getVB/' \n            + vbid;\n    return {\n      method: 'get',\n      url,\n    }\n  }\n};\n","export default {\n  filterPerson(searchVal) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/filterPerson',\n      params: searchVal\n    }\n  },\n  createEmployee(employeeData) {   \n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/createEmployee',\n      params: employeeData\n    }\n  },\n  personAbteilung(uid) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personAbteilung',\n      params: { uid }\n    }\n  },\n  personHeaderData(personID, uid) { \n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/headerData',\n      params: { person_id: personID, uid: uid }\n    }\n  },\n  dvByPerson(uid) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/dvByPerson',\n      params: {  uid: uid }\n    }\n  },\n  getCurrentDV(uid, ts) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getCurrentDV',\n      params: { uid: uid, d: ts }\n    }\n  },\n  deleteDV(dv_id) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/deleteDV',\n      params: { dv_id: dv_id  }\n    }\n  },\n  uploadPersonEmployeeFoto(person_id, imagedata) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/uploadPersonEmployeeFoto',\n      params: {person_id: person_id,imagedata: imagedata}\n    }\n  },\n  deletePersonEmployeeFoto(person_id) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonEmployeeFoto',\n      params: {person_id}\n    }\n  },\n  getEmployeesWithoutContract() {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getEmployeesWithoutContract',\n    }\n  },\n  dvInfoByPerson(uid) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/dvInfoByPerson',\n      params: {uid}\n    }\n  },\n};\n","import ApiVertragsbestandteil from '../../api/factory/vertragsbestandteil.js';\nimport ApiEmployee from '../../api/factory/employee.js';\n\nexport const EmployeeStatus = {\n\tname: 'EmployeeStatus',\n    props: {\n      tags: {\n          default: [],\n          type: Array\n      }\n    },\n    expose: ['refresh'],\n    setup( props ) {\n\n        const { watch, ref, reactive, computed, onMounted, inject } = Vue;\n        const route = VueRouter.useRoute();\n        const router = VueRouter.useRouter()\n        const currentPersonID = ref();\n        const currentPersonUID  = ref();\n        const dvList = ref([]);\n        const vertragList = ref([]);\n        const currentDate = ref(new Date());\n        const isFetching = ref(false);   \n        const vertragsarten = inject('vertragsarten');\n        const karenztypen = inject('karenztypen');\n        const teilzeittypen = inject('teilzeittypen');\n        const $api = inject('$api')   \n        \n        const formatVertragsart = (item) => {\n          let va = vertragsarten.value.find(kt => kt.value == item);\n          return va != undefined ? va.label : item;\n        }\n\n        const formatKarenztyp = (item) => {\n          let karenztyp = karenztypen.value.find(kt => kt.value == item);\n          return karenztyp != undefined ? karenztyp.label : item;\n        }\n\n        const formatTeilzeittyp = (item) => {\n          let teilzeittyp = teilzeittypen.value.find(kt => kt.value == item);\n          return teilzeittyp != undefined ? teilzeittyp.label : item;\n        }\n\n        let statusList = Vue.ref([]);    \n\n        const statusTags = Vue.ref(props.tags)\n\n        const generateStatusList = () => {\n          let anzDV = 0;\n          let dvIDs = [];\n          statusList.value = [];\n          dvList.value.forEach((dv) => {\n             let von = new Date(dv.von);\n             let bis = dv.bis != null ? new Date(dv.bis) : null;\n             if (currentDate.value >= von && (bis == null || bis >= currentDate.value)) {\n                 anzDV++;\n                 let vaExists = statusList.value.find((item) => item.text == formatVertragsart(dv.vertragsart_kurzbz))\n                 if (!vaExists) {\n                     statusList.value.push({text: formatVertragsart(dv.vertragsart_kurzbz), description: '', css: 'bg-dv rounded-0'})\n                 }\n                 dvIDs.push(dv.dienstverhaeltnis_id)\n             }\n          })\n          if (anzDV > 1) {\n            statusList.value.unshift({text: 'parallele DVs', description:'', css: 'bg-dv rounded-0'});\n          } else if (anzDV == 0) {\n            statusList.value.unshift({text: 'derzeit kein aktives DV', description:'', css: 'bg-dv rounded-0'});\n          }\n          console.log(\"dvIDs\", dvIDs)\n          Promise.all(dvIDs.map((dvID) => $api.call(ApiVertragsbestandteil.getCurrentVBs(dvID)))).then(\n            (allData) => {\n              allData.map((item) => {\n                item.data.map((vbs => {\n                  switch (vbs.vertragsbestandteiltyp_kurzbz) {\n                    case 'freitext':\n                      if (vbs.freitexttyp_kurzbz == 'befristung') {\n                        statusList.value.push({text: 'Befristung', description: '', css: 'bg-dv rounded-0'})\n                      } else if (vbs.freitexttyp_kurzbz == 'allin') {\n                        statusList.value.push({text: 'All-In', description: '', css: 'bg-allin rounded-0'})\n                      } else if (vbs.freitexttyp_kurzbz == 'ersatzarbeitskraft') {\n                        statusList.value.push({text: 'Ersatzarbeitskraft', description: '', css: 'bg-dv rounded-0'})\n                      }\n                      break;\n                    case 'karenz':\n                        statusList.value.push({text: formatKarenztyp(vbs.karenztyp_kurzbz), description: '', css: 'bg-karenz rounded-0'})\n                      break;\n                    case 'stunden':\n                      if (vbs.teilzeittyp_kurzbz != undefined) {\n                        statusList.value.push({text: formatTeilzeittyp(vbs.teilzeittyp_kurzbz), description: '', css: 'bg-teilzeit rounded-0'})\n                      }\n                      break;\n                    default:\n                      break;\n                  }                  \n                }))\n              })\n            }\n          );\n          \n        }  \n\n        const fetchData = async (uid) => {\n          if (uid == null) {\n              dvList.value = [];\n              vertragList.value = [];\n              return;\n          }\n          isFetching.value = true\n          try {\n              const res = await $api.call(ApiEmployee.dvByPerson(uid));\n              dvList.value = res.data || [];          \n              isFetching.value = false;\n              generateStatusList();           \n          } catch (error) {\n              console.log(error)\n              isFetching.value = false\n          }\n        }\n\n        onMounted(async () => {\n          await router.isReady()\n          console.log('route.path', route.path)\n          currentPersonID.value = route.params.id\n          currentPersonUID.value = route.params.uid         \n          currentDate.value = new Date()    \n          fetchData(currentPersonUID.value)\n        })\n      \n        watch(\n          () => route.params.uid,\n          (newVal) => {   \n              currentPersonID.value = route.params.id;\n              currentPersonUID.value = newVal;           \n              currentDate.value = new Date();     \n              fetchData(currentPersonUID.value);\n          }\n        )\n\n        watch(\n            () => props.tags,\n            (newVal) => {\n                statusTags.value = newVal\n            },\n            { deep: true }\n        )\n\n        const refresh = () => {\n          fetchData(currentPersonUID.value);\n        }\n\n        return {statusList, statusTags, refresh};\n    },\n    template: `\n    <div class=\"d-flex align-items-start ms-sm-auto col-lg-12  gap-2 mt-auto\" >\n        <template v-for=\"item in statusTags\">\n            <span class=\"badge\" :class=\"(item?.css != undefined) ? item.css : 'bg-secondary rounded-0'\" >{{ item.text }}</span>\n        </template>\n        <template v-for=\"item in statusList\">\n            <span class=\"badge\" :class=\"(item?.css != undefined) ? item.css : 'bg-secondary rounded-0'\" >{{ item.text }}</span>\n        </template>\n    </div>   \n   `\n}","export default {\n\n  byPerson(person_id) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/issue/byPerson',  \n      params: { person_id }\n    }\n  },\n\n  countPersonOpenIssues(person_id) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/IssueChecker/countPersonOpenIssues/'\n            + person_id,  \n    }\n  },\n\n  checkPerson(person_id) {\n    return {\n\t\t\tmethod: 'post',\n\t\t\turl: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/IssueChecker/checkPerson/'\n            + person_id,  \n\t\t}\n  },\n\n  openIssuesPersons() {\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/issue/PersonenMitOffenenIssues',  \n\t\t}\n  },\n  \n};\n","import { Modal } from '../Modal.js';\nimport { ModalDialog } from '../ModalDialog.js';\nimport { EmployeeStatus } from './EmployeeStatus.js';\nimport ApiEmployee from '../../api/factory/employee.js';\nimport ApiIssue from '../../api/factory/issue.js';\nimport { usePhrasen } from '../../../../../../public/js/mixins/Phrasen.js';\n\nexport const EmployeeHeader = {\n\tname: 'EmployeeHeader',\n    components: {\n\t\tModal,\n        ModalDialog,\n        \"p-skeleton\": primevue.skeleton,\n        EmployeeStatus,\n\t},\n    props: {\n        personID: Number,\n        personUID: String,\n        restricted: Boolean,\n    },\n    expose: ['refresh'],\n    emits: ['personSelected'],\n    setup(props, { emit }) {\n\n        /* const route = VueRouter.useRoute();\n        const router = VueRouter.useRouter(); */\n        const { watch, ref, onMounted, inject } = Vue;\n        const currentPersonID = Vue.computed(() => { return props.personID });\n        const currentPersonUID = Vue.computed(() => { return props.personUID });\n\n        const employee = ref();\n        const fileInput = ref();\n        const previewImage = ref();\n        const statusRef = ref();\n        const { t } = usePhrasen();\n\n        const isFetching = ref(false);\n        const isFetchingName = ref(false);\n        const isFetchingIssues = ref(false);\n        const $api = inject('$api')     \n        const $fhcAlert = Vue.inject('$fhcAlert')   \n\n       //const currentDate = ref(null);\n\n        const openissuescount = ref();\n\n        const formatDate = (ds) => {\n            if (ds == null) return '';\n            var d = new Date(ds);\n            return d?.toISOString().substring(0,10);\n        }\n\n        const fetchHeaderData = async (personID, uid) => {\n            isFetching.value = true;\n            isFetchingName.value = true;\n            try {\n                // fetch header data\n                const res = await $api.call(ApiEmployee.personHeaderData(personID, uid));\n                employee.value = res.data[0];\n                isFetchingName.value = false;\n                // fetch abteilung (needs uid from previous fetch!)\n                const resAbteilung = await $api.call(ApiEmployee.personAbteilung(employee.value.uid));\n               // response = await resAbteilung.json();\n                employee.value = { ...employee.value, ...{ abteilung: resAbteilung.data } };\n            } catch (error) {\n                console.log(error);\n            } finally {\n                isFetching.value = false;\n                isFetchingName.value = false;\n            }\n        };\n\n        const fetchOpenIssuesCount = async(personID) => {\n            isFetchingIssues.value = true;\n            try {\n                const res = await $api.call(ApiIssue.countPersonOpenIssues(personID));\n                openissuescount.value = res.data.openissues;\n            } catch (error) {\n                console.log(error);\n            } finally {\n                isFetchingIssues.value = false;\n            }\n        };\n\n        const checkPerson = async() => {\n            isFetchingIssues.value = true;\n            try {\n                const res = await $api.call(ApiIssue.checkPerson(props.personID));\n                openissuescount.value = res.data.openissues;\n            } catch (error) {\n                console.log(error);\n            } finally {\n                isFetchingIssues.value = false;\n            }\n        };\n\n        Vue.watch([currentPersonID, currentPersonUID], ([id,uid]) => {\n            if (currentPersonID.value!=null) {\n                fetchHeaderData(id, uid);\n                fetchOpenIssuesCount(id);\n            } else {\n                previewImage.value = null;\n                fileInput.value.value = null;\n            }\n        });\n\n        onMounted(() => {\n            //currentDate.value = route.query.d || new Date();\n            if (props.personID, props.personUID) {\n                fetchHeaderData(props.personID, props.personUID);\n                fetchOpenIssuesCount(props.personID);\n            }\n\n            if (modalRef.value)\n            {\n                modalRef.value.$el.addEventListener(\"hidden.bs.modal\", () => {\n                    resetPreview();\n                });\n            }\n        })\n\n        const pickFile = () => {\n            let input = fileInput.value\n            let file = input.files\n            if (file && file[0]) {\n                let reader = new FileReader();\n                reader.onload = (e) => {\n                    previewImage.value = e.target.result\n                }\n                reader.readAsDataURL(file[0])\n            }\n        }\n\n        const postFile = async () => {\n            try  {\n                isFetching.value = true\n                const res = await $api.call(ApiEmployee.uploadPersonEmployeeFoto(props.personID,previewImage.value));\n                if (res?.meta?.status != 'success') \n                {\n                    $fhcAlert.alertError(t('person', res.data))\n                }\n                else\n                {                    \n                    $fhcAlert.alertSuccess(t('person', 'Foto gespeichert.'))\n                }\n                fetchHeaderData(props.personID, props.personUID);\n            } catch (error) {\n                $fhcAlert.handleSystemError(error)  \n            } finally {\n                isFetching.value = false;\n            }\n        }\n\n\n        const postDeleteFile = async () => {\n            try  {\n                isFetching.value = true\n                const res = await $api.call(ApiEmployee.deletePersonEmployeeFoto(props.personID));\n                fetchHeaderData(props.personID, props.personUID);\n                $fhcAlert.alertSuccess(t('person','Foto gelöscht'))\n            } catch (error) {\n                $fhcAlert.handleSystemError(error)  \n            } finally {\n                isFetching.value = false;\n            }\n        }\n\n        // Modal\n        let modalRef = ref();\n\n        const showModal = () => {\n            modalRef.value.show();\n        }\n\n        const hideModal = () => {\n            modalRef.value.hide();\n        }\n\n        const showDeleteModal = async () => {\n\n            if (await $fhcAlert.confirm({\n                    message:`Foto wirklich löschen?`,\n                    acceptLabel: 'Löschen',\n\t\t\t\t    acceptClass: 'p-button-danger'\n                }) === false) {\n                return;\n            }     \n\n            postDeleteFile();\n          }\n\n        const okHandler = () => {\n            // console.log(\"previewImage: \", previewImage.value);\n            postFile();\n            hideModal();\n        }\n\n        const resetPreview = () => {\n            previewImage.value = null;\n            fileInput.value.value = null;\n        }\n\n        const redirect = (person_id, uid) => {\n            emit('personSelected', { person_id, uid });\n            // window.location.href = `${protocol_host}/index.ci.php/extensions/FHC-Core-Personalverwaltung/Employees/summary?person_id=${person_id}`;\n          }\n\n        const refresh = () => {\n            fetchHeaderData(props.personID, props.personUID);\n            checkPerson(props.personID);\n            statusRef.value.refresh();\n        }\n\n        const getStatusTags = ()=> {\n            const statusArr = []\n\n            if(employee?.value?.unruly) {\n                statusArr.push({text: 'Unruly', css: 'bg-unruly rounded-0'})\n            }\n\n            return statusArr\n        }\n\n        return {\n            showModal,\n            hideModal,\n            resetPreview,\n            modalRef,\n            showDeleteModal,\n            pickFile,\n            okHandler,\n            statusRef,\n            redirect,\n            FHC_JS_CONFIG,\n            getStatusTags,\n            employee,\n            fileInput,\n            previewImage,\n            isFetching,\n            isFetchingName,\n            isFetchingIssues,\n            currentPersonID,\n            currentPersonUID,\n            // currentDate,\n            formatDate,\n            //setDateHandler,\n            checkPerson,\n            refresh,\n            openissuescount,\n        }\n    },\n    template: `\n\n        <div class=\"d-flex justify-content-between ms-sm-auto col-lg-12 p-md-2\" >\n            <div class=\"d-flex align-items-top flex-fill\" >\n\n                <div class=\"fotocontainer\" v-if=\"!isFetchingName\">\n                    <img v-if=\"employee?.foto\" class=\"rounded\" style=\"max-width:101px\" :src=\"'data:image/jpeg;charset=utf-8;base64,' + employee?.foto\" />\n                    <div v-if=\"employee?.foto && !restricted\" class=\"fotobutton\" >\n                        <div class=\"d-grid gap-2 d-md-flex \">\n                                <button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"showDeleteModal\">\n                                    <i class=\"fa fa-xmark\"></i>\n                                </button>\n                                <button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"showModal\">\n                                    <i class=\"fa fa-pen\"></i>\n                                </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div v-if=\"employee?.foto==undefined  || isFetchingName\" style=\"position:relative\">\n                    <svg  class=\"bd-placeholder-img rounded\" width=\"100\" height=\"131\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width=\"100%\" height=\"100%\" fill=\"#868e96\"></rect><text x=\"50%\" y=\"50%\" fill=\"#dee2e6\" dy=\".3em\"></text></svg>\n                    <div class=\"fotobutton-visible\" v-if=\"!restricted && !isFetchingName\">\n                        <div class=\"d-grid gap-2 d-md-flex \">\n                            <button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"showModal\" >\n                                <i class=\"fa fa-pen\"></i>\n                            </button>\n                        </div>\n                    </div>\n                </div>\n\n                <div class=\"ms-3 flex-fill d-flex flex-column\" >\n                    <div class=\"align-items-top\">\n                        <h2 class=\"h4\" v-if=\"!isFetchingName\">{{ employee?.titelpre }} {{ employee?.vorname }} {{ employee?.nachname }}<span v-if=\"employee?.titelpost != null && employee?.titelpost != ''\">, {{ employee?.titelpost }}</span></h2>\n                        <h2 class=\"h4\" v-else><p-skeleton style=\"width:30%\"></p-skeleton></h2>\n\n                        <div v-if=\"employee?.abteilung && !isFetching\" class=\"mb-1\">\n                            <template v-for=\"(item, index) in employee?.abteilung\">\n                                <strong class=\"text-muted\">{{ item?.organisationseinheittyp_kurzbz }}</strong> {{ item?.bezeichnung }} |\n                                <strong class=\"text-muted\">Vorgesetzte*r </strong>\n                                <a href=\"#\" @click.prevent=\"redirect(item?.supervisor?.person_id, item?.supervisor?.uid)\" v-if=\"!restricted\">{{ item?.supervisor?.titelpre }} {{ item?.supervisor?.vorname }} {{ item?.supervisor?.nachname }}</a>\n                                <span v-else>{{ item?.supervisor?.titelpre }} {{ item?.supervisor?.vorname }} {{ item?.supervisor?.nachname }}</span>\n                                <br v-if=\"index < employee?.abteilung?.length - 1\" />\n                            </template>\n                            </div>\n                        <div v-else class=\"mb-1\"><p-skeleton v-if=\"isFetching\" style=\"width:45%\"></p-skeleton></div>\n                        <div v-if=\"!isFetchingName\" class=\"mb-1\">\n                            <strong class=\"text-muted\">Email</strong>&nbsp;\n                            <span v-if=\"!employee?.alias\">\n                                <a :href=\"'mailto:'+employee?.uid+'@'+FHC_JS_CONFIG.domain\">{{  employee?.uid }}@{{ FHC_JS_CONFIG.domain }}</a>\n                            </span>\n                            <span v-if=\"employee?.alias\">\n                                <a :href=\"'mailto:'+employee?.alias+'@'+FHC_JS_CONFIG.domain\">{{  employee?.alias }}@{{ FHC_JS_CONFIG.domain }}</a>\n                            </span>\n                            <span v-if=\"employee?.telefonklappe\" class=\"mb-2\"> | <strong class=\"text-muted\">DW</strong> {{  employee?.telefonklappe }}</span>\n                        </div>\n                        <div v-else class=\"mb-1\"><p-skeleton  style=\"width:35%\"></p-skeleton></div>\n                    </div>\n                    <EmployeeStatus v-if=\"!restricted\" ref=\"statusRef\" :tags=\"getStatusTags()\"></EmployeeStatus>\n                </div>\n\n            </div>\n\n            <div class=\"d-flex flex-column\">\n                <div class=\"d-flex py-1\">\n                    <div class=\"px-2\" v-if=\"!restricted\">\n                        <h4 class=\"mb-1\">Issues<a class=\"refresh-issues\" title=\"erneut prüfen\" href=\"javascript:void(0);\" @click=\"checkPerson\"><i class=\"fas fa-sync\"></i></a></h4>\n                        <h6 v-if=\"!isFetchingIssues\" class=\"text-muted\">{{ openissuescount }}</h6>\n                        <h6 v-else class=\"mb-2\"><p-skeleton v-if=\"isFetchingIssues\" style=\"width:45%\"></p-skeleton></h6>\n                    </div>\n                    <div class=\"px-2\">\n                        <h4 class=\"mb-1\">PNr</h4>\n                        <h6 v-if=\"!isFetchingName\" class=\"text-muted\">{{ employee?.personalnummer }}</h6>\n                        <h6 v-else class=\"mb-2\"><p-skeleton v-if=\"isFetching\" style=\"width:45%\"></p-skeleton></h6>\n                    </div>\n                    <div class=\"px-2\" style=\"border-left: 1px solid #EEE\">\n                        <h4 class=\"mb-1\">UID</h4>\n                        <h6 v-if=\"!isFetchingName\" class=\"text-muted\">{{ employee?.uid }}</h6>\n                        <h6 v-else class=\"mb-2\"><p-skeleton v-if=\"isFetching\" style=\"width:45%\"></p-skeleton></h6>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n\n\n        <!-- FotoModal -->\n        <Modal title=\"Foto\" ref=\"modalRef\">\n            <template #body>\n                <div class=\"mb-3\">\n                    <label for=\"formFile\" class=\"form-label\">Foto upload</label>\n                    <input class=\"form-control\" type=\"file\" id=\"formFile\" ref=\"fileInput\" @input=\"pickFile\" accept=\"image/*\">\n                </div>\n                <div class=\"mb-3\">\n                    <div class=\"imagePreviewWrapper\" >\n                        <img class=\"preview\" :src=\"previewImage\" />\n                    </div>\n                </div>\n\n            </template>\n            <template #footer>\n                <button class=\"btn btn-secondary\"  @click=\"hideModal()\">Abbrechen</button>\n                <button class=\"btn btn-primary\"  @click=\"okHandler()\">OK</button>\n            </template>\n        </Modal>\n\n        `\n}\n","import { usePhrasen } from '../../../../../../../public/js/mixins/Phrasen.js';\nimport ApiEmployee from '../../../api/factory/employee.js';\n\nexport const EmployeeContractInfo = {\n\tname: 'EmployeeContractInfo',\n    components: {\n\n    \n    },\n    props: {\n        personID: Number,\n        personUID: String,\n    },\n    setup(props, { emit }) {\n        const { watch, ref, reactive, computed, inject } = Vue;\n        const dvList = ref([]);\n        const currentDVID = ref(null);\n        const currentDV = ref(null);\n        const currentVBS = reactive({\n            funktion: {\n                zuordnung: [],\n                taetigkeit: []\n            },\n            zeitaufzeichnung: [],\n            kuendigungsfrist: [],\n            stunden: [],\n            allIn: [],\n            befristung: [],\n            urlaubsanspruch: [],\n            zusatzvereinbarung: [],\n            karenz: [],\n        });\n        const isFetching = ref(false);\n        const numberFormat = new Intl.NumberFormat();\n\n        const karenztypen = Vue.inject('karenztypen');\n        const vertragsarten = inject('vertragsarten');\n        const $api = Vue.inject('$api');\n\n        const fetchData = async (uid) => {\n            if (uid == null) {\n                dvList.value = [];\n                vertragList.value = [];\n                return;\n            }\n            isFetching.value = true\n            try {\n                const res = await $api.call(ApiEmployee.dvInfoByPerson(uid));\n                dvList.value = res.data.dvList;\n                isFetching.value = false;                   \n            } catch (error) {\n                console.log(error)\n                isFetching.value = false\n            }\n            \n        }\n\n        fetchData(props.personUID);\n        watch(\n            () => props.personUID,\n            (newVal) => {\n                fetchData(newVal);\n            }\n        )\n\n        const formatDate = (d) => {\n            if (d != null && d != '') {\n                return d.substring(8, 10) + \".\" + d.substring(5, 7) + \".\" + d.substring(0, 4);\n            } else {\n                return ''\n            }\n        }\n\n        const formatVertragsart = (item) => {\n            let va = vertragsarten.value.find(kt => kt.value == item);\n            return va != undefined ? va.label : item;\n        }\n\n        const formatKarenztyp = (item) => {\n            let karenztyp = karenztypen.value.find(kt => kt.value == item);\n            return karenztyp != undefined ? karenztyp.label : item;\n        }\n\n        const formatNumber = (num) => {\n            return numberFormat.format(parseFloat(num));\n        }\n\n        const getVBStunden = (vbList) => {\n            let va = vbList.find(item => item.vertragsbestandteiltyp_kurzbz == 'stunden');\n            return va != undefined ? va : null;\n        }\n\n        const getVBKarenz = (vbList) => {\n            let va = vbList.find(item => item.vertragsbestandteiltyp_kurzbz == 'karenz');\n            return va != undefined ? va : null;\n        }\n\n        return { dvList, isFetching, formatDate, formatVertragsart, formatKarenztyp, getVBStunden, formatNumber, getVBKarenz }\n        \n       \n    },\n    template: `\n        <div class=\"row pt-md-4\" >      \n            <div class=\"col\">\n                <div class=\"card\">\n                   <div class=\"card-header\">\n                       <div class=\"h5 mb-0\"><h5>Dienstverhältnis</h5></div>\n                   </div>\n                   <div class=\"card-body\">\n                       <template v-if=\"!isFetching\">\n                            <div v-if=\"dvList.length > 0\">\n                                 <table class=\"table\">\n                                     <thead><tr><th>Typ</th><th>DV-Zeitraum</th><th>Wochenstunden</th><th>Karenz</th></tr></thead>\n                                     <tbody>\n                                        <tr v-for=\"item in dvList\">\n                                            <td>{{ formatVertragsart(item.dv.vertragsart_kurzbz) }}</td>\n                                            <td>{{ formatDate(item.dv.von) }} -  {{ formatDate(item.dv.bis) }}</td>\n                                            <td><span v-if=\"getVBStunden(item.vb) != null\">{{ formatNumber(getVBStunden(item.vb).wochenstunden) }} ( {{ formatDate(getVBStunden(item.vb).von) }} - {{ formatDate(getVBStunden(item.vb).bis) }})</span><span v-else>-</span></td>\n                                            <td><span v-if=\"getVBKarenz(item.vb) != null\">{{ formatKarenztyp(getVBKarenz(item.vb).karenztyp_kurzbz) }} ( {{ formatDate(getVBKarenz(item.vb).von) }} - {{ formatDate(getVBKarenz(item.vb).bis) }})</span><span v-else>-</span></td></tr>\n                                     </tbody>\n                                 </table>\n                            </div>\n                            <div v-else>kein Dienstverhältnis zum aktuellen Datum vorhanden</div>\n                        </template>\n                   </div>\n                </div>\n            </div>\n        </div>        \n    `\n}","export default {\n\tgetOrgStructure(oe) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: `/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgStructure?oe=${oe}`,      \n\t\t}\n\t},\n\tgetOrgPersonen(oe) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: `/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgPersonen?oe=${oe}`,      \n\t\t}\n\t},\n\tgetOrgHeads() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgHeads'\n\t\t}\n\t}\n};\n","// import {CoreRESTClient} from '../../../../../js/RESTClient.js';\nimport ApiOrgViewer from '../../api/factory/orgviewer.js';\n\nexport const OrgChooser = {\n\tname: 'OrgChooser',\n    props: {\n      placeholder: String,\n      customClass: String,\n      oe: String,\n    },\n    emits: [\"orgSelected\"],\n    setup(props, { emit }) {   \n\n      const orgList = Vue.ref([]);\n      const isFetching = Vue.ref(false);\n      const oeRef = Vue.toRefs(props).oe\n      const selected = Vue.ref();\n      const $api = Vue.inject('$api');\n\n      const fetchHead = async () => {\n        isFetching.value = true\n        try {\n          /* const res = await CoreRESTClient.get(\n            'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgHeads');\n          orgList.value = CoreRESTClient.getData(res.data); */\n          const res = await $api.call(ApiOrgViewer.getOrgHeads());\n          orgList.value = res.data;\n          if (orgList.value.length > 0)  {\n            //orgList.value.reverse();\n            if (props.oe == undefined || (props.oe != null && props.oe == '')) {\n              selected.value = orgList.value[0].oe_kurzbz;\n            }\n            emit(\"orgSelected\", selected.value);\n          }\n          isFetching.value = false          \n        } catch (error) {\n          console.log(error)\n          isFetching.value = false\n        }\n      }\n\n      Vue.onMounted(() => {\n        fetchHead();\n      })\n\n      const orgSelected = (e) => {\n        emit(\"orgSelected\", e.target.value);\n      }\n\n      Vue.watch(\n        oeRef,\n        (val, old) => {\n          console.log('prop value changed', val);\n          selected.value = val;\n        }\n      )\n\n      return   {\n        orgList, selected,\n\n        orgSelected\n      }\n\n\n    },\n    template: `\n    <select  id=\"orgHeadChooser\" v-model=\"selected\" @change=\"orgSelected\" class=\"form-control-sm\" aria-label=\".form-select-sm \" >\n        <option v-for=\"(item, index) in orgList\" :value=\"item.oe_kurzbz\"  :key=\"item.oe_kurzbz\">\n            {{ item.bezeichnung }}\n        </option>         \n    </select>\n    `\n}    \n","export default {\n  getContractFunctions(filter) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/FunctionsAPI/getContractFunctions';\n    if( typeof filter !== 'undefined' && filter !== null ) {\n        url = url + '/' + filter;\n    }\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl,\n\t\t};\n    \n  },\n  getOrgetsForCompany(unternehmen) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getOrgetsForCompany'\n            + '/' + unternehmen;\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl,\n\t\t};\n  },\n  getCompanyByOrget(orget) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getCompanyByOrget'\n            + '/' + orget;\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl,\n\t\t};\n  },\n  getCurrentFunctions(mitarbeiter_uid, unternehmen) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/FunctionsAPI/getCurrentFunctions'\n            + '/' + mitarbeiter_uid + '/' + unternehmen;\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl, \n\t\t};\n  }  ,\n  getAllUserFunctions(mitarbeiter_uid) {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/FunctionsAPI/getAllUserFunctions'\n            + '/' + mitarbeiter_uid;\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl, \n\t\t};\n  },\n  getAllFunctions() {\n    var url = '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/FunctionsAPI/getAllFunctions';\n    return {\n\t\t\tmethod: 'get',\n\t\t\turl, \n\t\t};\n  }\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n    filterPerson(searchVal) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/filterPerson',\n        params: { searchVal }\n      }\n    },    \n    personBaseData(person_id) {\n      return { \n        method: 'get',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personBaseData',\n        params: { person_id }\n      } \n    },\n    updatePersonBaseData(payload) {        \n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/updatePersonBaseData',\n          params: payload\n        }\n    },\n    personEmployeeData(person_id) {\n        return { \n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personEmployeeData',\n          params: { person_id }\n        }\n    },\n    updatePersonEmployeeData(payload) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/updatePersonEmployeeData',\n          params: payload\n        }\n    },\n    personEmployeeKurzbzExists(uid, kurzbz) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personEmployeeKurzbzExists',\n          params: { uid, kurzbz }\n        }\n    },\n\n    deletePersonBankData(bankverbindung_id) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonBankData',\n          params: { bankverbindung_id }\n        }\n    },\n    upsertPersonBankData(payload) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonBankData',\n          params: payload\n        }\n    },\n    personBankData(person_id) {\n      return {\n        method: 'get',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personBankData',\n        params: { person_id }\n      }\n    },\n    personAddressData(person_id) {\n      return {\n        method: 'get',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personAddressData',\n        params: { person_id }\n      }\n    },\n    deletePersonAddressData(adresse_id) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonAddressData',\n        params: { adresse_id }\n      }\n    },\n    upsertPersonAddressData(payload) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonAddressData',\n          params: payload\n        }\n    },\n    personContactData(person_id) {\n      return {\n        method: 'get',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personContactData',\n        params: { person_id }\n      }\n    },\n    deletePersonContactData(kontakt_id) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonContactData',\n        params: { kontakt_id }\n      }\n    },\n    upsertPersonContactData(payload) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonContactData',\n        params: payload\n      }\n    },\n    uidByPerson(person_id, uid) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/uidByPerson',\n          params: { person_id: person_id, person_uid: uid}\n        }\n    },\n    personMaterialExpenses(person_id, uid) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/personMaterialExpenses',\n          params: { person_id: person_id, person_uid: uid}\n        }\n    },\n    deletePersonMaterialExpenses(sachaufwand_id) {        \n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonMaterialExpenses',\n          params: { sachaufwand_id }\n        }\n      },\n    upsertPersonMaterialExpenses(payload) {\n        return {\n          method: 'post',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonMaterialExpenses',\n          params: payload\n        }\n    },\n    deletePersonJobFunction(benutzerfunktion_id) {\n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/deletePersonJobFunction',\n        params: { benutzerfunktion_id }\n      }\n    },\n    upsertPersonJobFunction(payload) {   \n      return {\n        method: 'post',\n        url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/PersonAPI/upsertPersonJobFunction',\n        params: payload\n      }\n    },\n    updatePersonUnruly(payload) {\n      return {\n        method: 'post',\n        url: '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus',\n        params: payload\n      }\n    }\n}","import { Modal } from '../Modal.js';\nimport { ModalDialog } from '../ModalDialog.js';\nimport {OrgChooser} from \"../../components/organisation/OrgChooser.js\";\nimport { usePhrasen } from '../../../../../../public/js/mixins/Phrasen.js';\nimport ApiFunktion from '../../api/factory/funktion.js';\nimport ApiPerson from '../../api/factory/person.js';\n\nexport const JobFunction = {\n\tname: 'JobFunction',\n    components: {\n        Modal,\n        ModalDialog,\n        OrgChooser,\n        \"datepicker\": VueDatePicker\n    },\n    props: {\n        modelValue: { type: Object, default: () => ({}), required: false},\n        config: { type: Object, default: () => ({}), required: false},\n        readonlyMode: { type: Boolean, required: false, default: false },\n        personID: { type: Number, required: false },\n        personUID: { type: String, required: false },\n        writePermission: { type: Boolean, required: false },\n    },\n    emits: ['updateHeader'],\n    setup( props, { emit } ) {\n\n        const $api = Vue.inject('$api');\n        const $fhcAlert = Vue.inject('$fhcAlert');\n\n        const readonly = Vue.ref(false);\n\n        const { t } = usePhrasen();\n\n        //const { personID: currentPersonID , personUID: currentPersonUID  } = Vue.toRefs(props);\n        const currentPersonID = Vue.computed(() => { return props.personID });\n        const currentPersonUID = Vue.computed(() => { return props.personUID });\n\n        const dialogRef = Vue.ref();\n\n        const isFetching = Vue.ref(false);\n\n        const theModel = Vue.computed({\n            get: () => props.modelValue,\n            set: (value) => emit('update:modelValue', value),\n        });\n\n        const unternehmen = Vue.ref();\n        const jobfunctionList = Vue.ref([]);\n        const jobfunctionDefList = Vue.ref([]);\n        const orgUnitList = Vue.ref([{value: '', label: '-'}]);\n\n        const aktivChecked = Vue.ref(true);\n\n        const table = Vue.ref(null); // reference to your table element\n        const tabulator = Vue.ref(null); // variable to hold your table\n        const tableData = Vue.reactive([]); // data for table to display\n\n\n        const full = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n        const route = ( props.readonlyMode !== true ) ? VueRouter.useRoute() : null;\n\n        const convertArrayToObject = (array, key) => {\n            const initialValue = {};\n            return array.reduce((obj, item) => {\n              return {\n                ...obj,\n                [item[key]]: item,\n              };\n            }, initialValue);\n          };\n\n        const fetchData = async () => {\n            if (currentPersonID.value==null && theModel.value.personID==null) {    \n                jobfunctionList.value = [];            \n                return;\n            }\n            isFetching.value = true\n \n            // fetch data and map them for easier access\n            try {\n                const response = await $api.call(ApiFunktion.getAllUserFunctions(theModel.value.personUID || currentPersonUID.value));\n                if(response.meta.status != \"success\") {\n                    let rawList = [];\n                    tableData.value = [];\n                    jobfunctionList.value = convertArrayToObject(rawList, 'benutzerfunktion_id');\n                } else {\n                    let rawList = response.data;\n                    tableData.value = response.data;\n                    jobfunctionList.value = convertArrayToObject(rawList, 'benutzerfunktion_id');\n                }\n            } catch (error) {\n                console.log(error)              \n            } finally {\n                isFetching.value = false\n            }\n            \n        }\n\n        const createShape = () => {\n            return {\n                benutzerfunktion_id: 0,\n                uid: theModel.value.personUID || currentPersonUID.value,\n                oe_kurzbz: \"\",\n                funktion_kurzbz: \"\",\n                datum_von: \"\",\n                datum_bis: \"\",  \n                bezeichnung: \"\",\n                wochenstunden: 0,     \n            } \n        }\n\n        const currentValue = Vue.ref(createShape());\n        const preservedValue = Vue.ref(createShape());\n\n        Vue.watch([currentPersonID, currentPersonUID], ([id,uid]) => {\n            fetchData();                     \n        });\n\n        Vue.watch(unternehmen, (unternehmen_kurzbz) => {\n            fetchOrgUnits(unternehmen_kurzbz);   \n            fetchFunctions();             \n        });\n\n        const toggleMode = async () => {\n            if (!readonly.value) {\n                // cancel changes?\n                if (hasChanged.value) {\n                  const ok = await dialogRef.value.show();\n                  if (ok) {\n                    console.log(\"ok=\", ok);\n                    currentValue.value = preservedValue.value;\n                  } else {\n                    return\n                  }\n                }\n              } else {\n                // switch to edit mode and preserve data\n                preservedValue.value = {...currentValue.value};\n              }\n              readonly.value = !readonly.value;\n        }\n\n        Vue.onMounted(async () => {\n            currentValue.value = createShape();\n            await fetchData();\n\n            const dateFormatter = (cell) => {\n                return cell.getValue()?.replace(/(.*)-(.*)-(.*)/, '$3.$2.$1');\n            }\n\n            const dvFormatter = (cell) => {\n                if( props.readonlyMode === true ) {\n                    return (cell.getValue() != null) ? cell.getValue() : '';\n                }\n                const url = fullPath + route.params.id + '/' + route.params.uid + '/contract/' + cell.getRow().getData().dienstverhaeltnis_id;\n                return cell.getValue() != null ? `<a href=\"${url}\">` + cell.getValue() + '</a>' : '';\n            }\n\n            // helper\n            const createDomButton = (classValue, clickHandler) => {\n                const nodeBtn = document.createElement(\"button\");\n                const classAttrBtn = document.createAttribute(\"class\");\n                classAttrBtn.value = \"btn btn-outline-secondary btn-sm\";\n                nodeBtn.setAttributeNode(classAttrBtn);\n                nodeBtn.addEventListener(\"click\", clickHandler);\n                const nodeI = document.createElement(\"i\");\n                const classAttrI = document.createAttribute(\"class\");\n                classAttrI.value = classValue;\n                nodeI.setAttributeNode(classAttrI);\n                nodeBtn.appendChild(nodeI);\n                return nodeBtn;\n            }\n\n            const btnFormatter = (cell) => {\n\n                const nodeDiv = document.createElement(\"div\");  \n                const classAttrDiv = document.createAttribute(\"class\");\n                classAttrDiv.value = \"d-grid gap-2 d-md-flex justify-content-end align-middle\";\n                nodeDiv.setAttributeNode(classAttrDiv);\n                // delete button\n                const nodeBtnDel = createDomButton(\"fa fa-xmark\",() => { showDeleteModal(cell.getValue()) })\n                // edit button\n                const nodeBtnEdit = createDomButton(\"fa fa-pen\",() => { showEditModal(cell.getValue()) })\n\n                if( cell.getRow().getData().dienstverhaeltnis_unternehmen === null ) {\n                    nodeDiv.appendChild(nodeBtnEdit);\n                    nodeDiv.appendChild(nodeBtnDel);\n                }\n                \n                return nodeDiv;\n            }\n            \n\n            const columnsDef = [\n                { title: t('person','dv_unternehmen'), field: \"dienstverhaeltnis_unternehmen\", formatter: dvFormatter, sorter:\"string\", headerFilter:\"list\", headerFilterParams: {valuesLookup:true, autocomplete:true, sort:\"asc\"} },\n                { title: t('person','zuordnung_taetigkeit'), field: \"funktion_beschreibung\", hozAlign: \"left\", headerFilter:\"list\", headerFilterParams: {valuesLookup:true, autocomplete:true, sort:\"asc\"} },\n                { title: t('lehre','organisationseinheit'), field: \"funktion_oebezeichnung\", headerFilter:\"list\", headerFilterParams: {valuesLookup:true, autocomplete:true, sort:\"asc\"} },\n                { title: t('person','wochenstunden'), field: \"wochenstunden\", hozAlign: \"right\", width: 140, headerFilter:true },\n                { title: t('ui','from'), field: \"datum_von\", hozAlign: \"center\", formatter: dateFormatter, width: 140, sorter:\"string\", headerFilter:true, headerFilterFunc:customHeaderFilter },                \n                { title: t('global','bis'), field: \"datum_bis\", hozAlign: \"center\", formatter: dateFormatter, width: 140, sorter:\"string\", headerFilter:true, headerFilterFunc:customHeaderFilter },\n                { title: t('ui','bezeichnung'), field: \"bezeichnung\", hozAlign: \"left\", headerFilter:\"list\", headerFilterParams: {valuesLookup:true, autocomplete:true, sort:\"asc\"} }\n              ];\n\n            if( props.readonlyMode === false) {\n                columnsDef.push({ title: \"\", field: \"benutzerfunktion_id\", formatter: btnFormatter, hozAlign: \"right\", width: 100, headerSort: false, frozen: true });\n            }\n\n            let tabulatorOptions = {\n\t\t\t\theight: \"100%\",\n\t\t\t\tlayout: \"fitColumns\",\n\t\t\t\tmovableColumns: true,\n\t\t\t\treactiveData: true,\n                columns: columnsDef,\n                //data: tableData.value,\n                data: jobfunctionListArray.value,\n\t\t\t};\n\n            tabulator.value = new Tabulator(\n\t\t\t\ttable.value,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n            \n            function customHeaderFilter(headerValue, rowValue, rowData, filterParams){\n                //headerValue - the value of the header filter element\n                //rowValue - the value of the column in this row\n                //rowData - the data for the row being filtered\n                //filterParams - params object passed to the headerFilterFuncParams property\n            \n                const validDate = function(d){\n                    return d instanceof Date && isFinite(d);\n                }\n\n                const date1 = new Date(rowValue);\n                date1.setHours(0,0,0,0);\n                let [day, month, year] = headerValue.split('.')\n                if (year < 1000) return true;  // prevents dates like 17.5.2\n                const date2 = new Date(+year, +month - 1, +day);\n                \n                return  !(validDate(date2)) || ((date2 - date1) == 0); //must return a boolean, true if it passes the filter.\n            }\n\n            tabulator.value.on('tableBuilt', () => {\n                //tabulator.value.setData(tableData.value);\n                \n            })\n            \n        })\n\n        const jobfunctionListArray = Vue.computed(() => {\n            let temp = (jobfunctionList.value ? Object.values(jobfunctionList.value) : []);\n            let filtered = temp.filter((e) => ( !aktivChecked.value || (aktivChecked.value && e.aktiv) ));\n            return filtered;\n        });\n\n        const getJobFunction = (kurzbz) => {\n            let t = jobfunctionListArray.value.filter((item) => item.funktion_kurzbz == kurzbz);\n            return t.length > 0 ? t[0].bezeichnung : ''\n        }\n\n        // Workaround to update tabulator\n        Vue.watch(jobfunctionListArray, (newVal, oldVal) => {\n            tabulator.value?.setData(jobfunctionListArray.value);\n        }, {deep: true})\n\n        // Modal \n        const modalRef = Vue.ref();\n\n        const showAddModal = () => {\n            currentValue.value = createShape();\n            // reset form state\n            frmState.orgetBlurred=false;\n            frmState.funktionBlurred=false;            \n            frmState.beginnBlurred=false;\n            // call bootstrap show function\n            modalRef.value.show();\n        }\n\n        const hideModal = () => {\n            modalRef.value.hide();\n        }\n        \n        const showEditModal = async (id) => {\n            currentValue.value = { ...jobfunctionList.value[id] };\n            // fetch company\n            isFetching.value = true;\n            try {\n                const res = await $api.call(ApiFunktion.getCompanyByOrget(currentValue.value.oe_kurzbz));\n                if (res.meta.status == \"success\") {\n                    unternehmen.value = res.data[0].oe_kurzbz;\n                } else {\n                    console.log('company not found for orget!');\n                }\n\n            } catch (error) {\n                $fhcAlert.handleSystemError(error)           \n            } finally {\n                  isFetching.value = false\n            }   \n            //delete currentValue.value.bezeichnung;\n            modalRef.value.show();\n        }\n\n        const showDeleteModal = async (id) => {\n            currentValue.value = { ...jobfunctionList.value[id] };\n            \n            if (await $fhcAlert.confirm({\n                    message: t('person','funktion') + ' ' + getJobFunction(currentValue.value?.funktion_kurzbz) + '  (' + formatDate(currentValue.value?.datum_von) + '-' + (currentValue.value.datum_bis != null ? formatDate(currentValue.value.datum_bis) : '?') + ') ' + t('person', 'wirklichLoeschen'),\n                    acceptLabel: 'Löschen',\n\t\t\t\t    acceptClass: 'p-button-danger'\n                }) === false) {\n                return;\n            }    \n\n            try {\n                const res = await $api.call(ApiPerson.deletePersonJobFunction(id));                \n                if (res.meta.status == \"success\") {\n                    delete jobfunctionList.value[id];\n                    showDeletedToast();\n                    theModel.value.updateHeader();\n                }\n            } catch (error) {\n                $fhcAlert.handleSystemError(error)             \n            } finally {\n                    isFetching.value = false\n            }   \n                \n        }\n\n\n        const okHandler = async () => {\n            if (!validate()) {\n\n                console.log(\"form invalid\");\n\n            } else {\n\n                // submit\n                try {\n                    let payload = {...currentValue.value};\n                    delete payload.dienstverhaeltnis_id;\n                    delete payload.dienstverhaeltnis_unternehmen;\n                    delete payload.fachbereich_bezeichnung;\n                    delete payload.funktion_oebezeichnung;\n                    delete payload.aktiv;\n                    delete payload.funktion_beschreibung;\n                    const r = await $api.call(ApiPerson.upsertPersonJobFunction(payload));\n                    if (r.meta.status == \"success\") {\n                        // fetch all data because of all the references in the changed record\n                        await fetchData();\n                        console.log('job function successfully saved');\n                        theModel.value.updateHeader();\n                        showToast();\n                    }  \n                } catch (error) {\n                    $fhcAlert.handleSystemError(error)            \n                } finally {\n                    isFetching.value = false\n                }\n                \n                hideModal();\n            }\n        }\n\n        // -------------\n        // form handling\n        // -------------\n\n        const jobFunctionFrm = Vue.ref();\n\n        const frmState = Vue.reactive({ beginnBlurred: false, orgetBlurred: false, funktionBlurred: false, wasValidated: false });       \n\n        const notEmpty = (n) => {\n            return !!n && n.trim() != \"\";\n        }\n\n        const validate = () => {\n            frmState.orgetBlurred = true;\n            frmState.funktionBlurred = true;\n            frmState.beginnBlurred = true;\n            return notEmpty(currentValue.value.datum_von) && \n                notEmpty(currentValue.value.oe_kurzbz) && \n                notEmpty(currentValue.value.funktion_kurzbz);\n        }\n        \n\n        const hasChanged = Vue.computed(() => {\n            return Object.keys(currentValue.value).some(field => currentValue.value[field] !== preservedValue.value[field])\n        });\n\n        const formatDate = (d) => {\n            if (d != null && d != '') {\n\t\t        return d.substring(8, 10) + \".\" + d.substring(5, 7) + \".\" + d.substring(0, 4);\n            } else {\n                return ''\n            }\n        }\n        \n        const showToast = () => {\n            $fhcAlert.alertSuccess(t('person','funktionGespeichert'));\n        }\n\n        const showDeletedToast = () => {\n            $fhcAlert.alertSuccess(t('person','funktionGeloescht'));\n        }\n\n        const fetchOrgUnits = async (unternehmen_kurzbz) => {\n            if( unternehmen_kurzbz === '' ) {\n                return;\n            }\n            const response = await $api.call(ApiFunktion.getOrgetsForCompany(unternehmen_kurzbz));\n            const orgets = response.data;\n            orgets.unshift({\n              value: '',\n              label: t('ui','bitteWaehlen'),\n            });\n            orgUnitList.value = await  orgets;\n        }\n\n        const fetchFunctions = async (uid, unternehmen_kurzbz) => {\n            if(unternehmen_kurzbz === '' || uid === '' ) { \n              return;  \n            }\n            const response = await $api.call(ApiFunktion.getAllFunctions());\n            const benutzerfunktionen = response.data;\n            benutzerfunktionen.unshift({\n              value: '',\n              label: t('ui','bitteWaehlen'),\n            });\n            jobfunctionDefList.value = benutzerfunktionen;\n          }\n\n        const unternehmenSelectedHandler = (e) => {\n            unternehmen.value = e;\n        }\n \n        const ciPath = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/(https:|)(^|\\/\\/)(.*?\\/)/g, '') + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n        const fullPath = `/${ciPath}/extensions/FHC-Core-Personalverwaltung/Employees/`;\n\n        return { \n            jobfunctionList, orgUnitList, jobfunctionListArray,\n            jobfunctionDefList,\n            currentValue,\n            readonly,\n            frmState,\n            dialogRef,\n            jobFunctionFrm,\n            modalRef,\n            fullPath,\n            route,\n            aktivChecked,\n            unternehmen,\n            tabulator,\n            table,\n            \n            toggleMode, formatDate, notEmpty,            \n            showAddModal, hideModal, okHandler,\n            showEditModal, t, unternehmenSelectedHandler,\n         }\n    },\n    template: `\n    <div class=\"row\" v-if=\"readonlyMode === false\">\n        \n    </div>\n    <div class=\"row pt-md-4\">      \n         <div class=\"col\">\n             <div class=\"card\">\n                <div class=\"card-header\">\n                    <div class=\"h5\"><h5>{{ t('person','funktionen') }}</h5></div>        \n                </div>\n\n                <div class=\"card-body\">\n                    <div class=\"d-grid d-md-flex justify-content-between pt-2 pb-3\" v-if=\"readonlyMode === false\">\n                        <button type=\"button\" class=\"btn btn-sm btn-primary me-3\" @click=\"showAddModal()\">\n                            <i class=\"fa fa-plus\"></i> {{ t('person','funktion') }}\n                        </button>\n                        <div class=\"form-check\">\n                            <input class=\"form-check-input\" type=\"checkbox\" role=\"switch\" id=\"aktivChecked\" v-model=\"aktivChecked\">\n                            <label class=\"form-check-label\" for=\"aktivChecked\">Nur aktive anzeigen</label>\n                        </div>\n                    </div>\n\n                    <!-- TABULATOR -->\n                    <div ref=\"table\" class=\"fhc-tabulator\"></div>\n                \n                </div>\n             </div>\n         </div>\n    </div>\n            \n\n    <!-- detail modal -->\n    <Modal :title=\"t('person','funktion')\" ref=\"modalRef\" v-if=\"readonlyMode === false\">\n        <template #body>\n            <form class=\"row g-3\" ref=\"jobFunctionFrm\">\n                            \n                <div class=\"col-md-8\">\n                    <label class=\"form-label\">{{ t('core','unternehmen') }}</label><br>\n                    <org-chooser  @org-selected=\"unternehmenSelectedHandler\" :oe=\"unternehmen\" class=\"form-select form-select-sm\"></org-chooser>\n                </div>\n                <div class=\"col-md-4\">\n                </div>\n                <!--  -->\n                <div class=\"col-md-8\">\n                    <label class=\"required form-label\">{{ t('lehre','organisationseinheit') }}</label><br>\n                    <select id=\"oe_kurzbz\" v-model=\"currentValue.oe_kurzbz\" \n                        @blur=\"frmState.orgetBlurred = true\"\n                        class=\"form-select form-select-sm\" aria-label=\".form-select-sm \" \n                        :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly, 'is-invalid': !notEmpty(currentValue.oe_kurzbz) && frmState.orgetBlurred}\"\n                        >\n                        <option v-for=\"(item, index) in orgUnitList\" :value=\"item.value\">\n                            {{ item.label }}\n                        </option>                       \n                    </select>\n                </div>\n                <div class=\"col-md-4\">\n                </div>\n                <!--  -->\n                <div class=\"col-md-8\">\n                    <label for=\"funktion_kurzbz\" class=\"required form-label\">{{ t('person','funktion') }}</label><br>\n                    <select id=\"_kurzbz\" v-model=\"currentValue.funktion_kurzbz\" \n                        @blur=\"frmState.funktionBlurred = true\"\n                        class=\"form-select form-select-sm\" aria-label=\".form-select-sm \" \n                        :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly, 'is-invalid': !notEmpty(currentValue.funktion_kurzbz) && frmState.funktionBlurred}\"\n                        >\n                        <option v-for=\"(item, index) in jobfunctionDefList\" :value=\"item.value\">\n                            {{ item.label }}\n                        </option>                       \n                    </select>\n                </div>\n                <div class=\"col-md-4\"></div>\n                <!-- -->\n                <div class=\"col-md-2\">\n                    <label for=\"uid\" class=\"form-label\">{{ t('person','wochenstunden') }}</label>\n                    <input type=\"number\"  :readonly=\"readonly\" class=\"form-control-sm\" :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly}\" id=\"bank\" v-model=\"currentValue.wochenstunden\">\n                </div>\n                <!--  -->\n                <div class=\"col-md-3\">\n                    <label for=\"beginn\" class=\"required form-label\">{{ t('ui','from') }}</label>\n                    <datepicker id=\"beginn\"\n                        :teleport=\"true\" \n                        @blur=\"frmState.beginnBlurred = true\" \n                        :input-class-name=\"(!notEmpty(currentValue.datum_von) && frmState.beginnBlurred) ? 'dp-invalid-input' : ''\" \n                        v-model=\"currentValue.datum_von\"\n                        v-bind:enable-time-picker=\"false\"\n                        text-input \n                        locale=\"de\"\n                        format=\"dd.MM.yyyy\"\n                        auto-apply \n                        model-type=\"yyyy-MM-dd\"></datepicker>\n                </div>\n                <div class=\"col-md-3\">\n                    <label for=\"ende\" class=\"form-label\">{{ t('global','bis') }}</label>\n                    <datepicker id=\"ende\"\n                        :teleport=\"true\" \n                        v-model=\"currentValue.datum_bis\"\n                        v-bind:enable-time-picker=\"false\"\n                        text-input \n                        locale=\"de\"\n                        format=\"dd.MM.yyyy\"\n                        auto-apply \n                        model-type=\"yyyy-MM-dd\"></datepicker>                   \n                </div>\n                <div class=\"col-md-3\">\n                </div>\n                <!-- -->\n                <div class=\"col-md-8\">\n                    <label for=\"bezeichnung\" class=\"form-label\">{{ t('ui','bezeichnung') }}</label>\n                    <input type=\"text\"  :readonly=\"readonly\" class=\"form-control-sm\" :class=\"{ 'form-control-plaintext': readonly, 'form-control': !readonly}\" id=\"bezeichnung\" v-model=\"currentValue.bezeichnung\">\n                </div>\n                <div class=\"col-md-4\">\n                </div>\n                \n                \n                <!-- changes -->\n                <div class=\"col-8\">\n                    <div class=\"modificationdate\">{{ currentValue.insertamum }}/{{ currentValue.insertvon }}, {{ currentValue.updateamum }}/{{ currentValue.updatevon }} [id={{ currentValue.benutzerfunktion_id }}]</div>\n                </div>\n                \n            </form>\n        </template>\n        <template #footer>\n            <button type=\"button\" class=\"btn btn-primary\" @click=\"okHandler()\" >\n                {{ t('ui','speichern') }}\n            </button>\n        </template>\n\n    </Modal>\n\n    <ModalDialog :title=\"t('global','warnung')\" ref=\"dialogRef\" v-if=\"readonlyMode === false\">\n      <template #body>\n        {{ t('person','funktionNochNichtGespeichert') }}\n      </template>\n    </ModalDialog>\n\n    `\n}\n\nexport default JobFunction;","//import Phrasen from '../../plugin/Phrasen.js';\n\nexport default {\n\tname: 'BootstrapModal',\n\tdata: () => ({\n\t\tmodal: null,\n\t\tfullscreen: false\n\t}),\n\tprops: {\n\t\tbackdrop: {\n\t\t\ttype: [Boolean,String],\n\t\t\tdefault: true,\n\t\t\tvalidator(value) {\n\t\t\t\treturn ['static', true, false].includes(value);\n\t\t\t}\n\t\t},\n\t\tfocus: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tkeyboard: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tnoCloseBtn: Boolean,\n\t\tdialogClass: [String,Array,Object],\n\t\theaderClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tbodyClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: 'px-4 py-5'\n\t\t},\n\t\tfooterClass: {\n\t\t\ttype: [String,Array,Object],\n\t\t\tdefault: ''\n\t\t},\n\t\tallowFullscreenExpand: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\temits: [\n\t\t\"hideBsModal\",\n\t\t\"hiddenBsModal\",\n\t\t\"hidePreventedBsModal\",\n\t\t\"showBsModal\",\n\t\t\"shownBsModal\"\n\t],\n\tmethods: {\n\t\tdispose() {\n\t\t\treturn this.modal.dispose();\n\t\t},\n\t\thandleUpdate() {\n\t\t\treturn this.modal.handleUpdate();\n\t\t},\n\t\thide() {\n\t\t\treturn this.modal.hide();\n\t\t},\n\t\tshow(relatedTarget) {\n\t\t\treturn this.modal.show(relatedTarget);\n\t\t},\n\t\ttoggle() {\n\t\t\treturn this.modal.toggle();\n\t\t},\n\t\ttoggleFullscreen() {\n\t\t\tthis.fullscreen = !this.fullscreen\n\t\t}\n\t},\n\tmounted() {\n\t\tif (this.$refs.modal)\n\t\t\tthis.modal = new bootstrap.Modal(this.$refs.modal, {\n\t\t\t\tbackdrop: this.backdrop,\n\t\t\t\tfocus: this.focus,\n\t\t\t\tkeyboard: this.keyboard\n\t\t\t});\n\t},\n\tpopup(body, options, title, footer) {\n\t\tconst BsModal = this,\n\t\t\tslots = {};\n\t\tif (body !== undefined)\n\t\t\tslots.default = () => body;\n\t\tif (title !== undefined)\n\t\t\tslots.title = () => title;\n\t\tif (footer !== undefined)\n\t\t\tslots.footer = () => footer;\n\n\t\t// little hack to check whether primevue is included in the app or not\n\t\tlet includedPrimevue = false;\n\t\tif(typeof primevue !== 'undefined'){\n\t\t\tincludedPrimevue = true;\n\t\t}\n\n\t\treturn new Promise((resolve,reject) => {\n\t\t\tconst instance = Vue.createApp({\n\t\t\t\tname: 'ModalTmpApp',\n\t\t\t\tsetup() {\n\t\t\t\t\treturn () => Vue.h(BsModal, {...{\n\t\t\t\t\t\tclass: 'fade'\n\t\t\t\t\t},...options, ...{\n\t\t\t\t\t\tref: 'modal',\n\t\t\t\t\t\t'onHidden.bs.modal': instance.unmount\n\t\t\t\t\t}}, slots);\n\t\t\t\t},\n\t\t\t\tmounted() {\n\t\t\t\t\tthis.$refs.modal.show();\n\t\t\t\t\t\n\t\t\t\t},\n\t\t\t\tbeforeUnmount() {\n\t\t\t\t\tif (this.$refs.modal)\n\t\t\t\t\t\tthis.$refs.modal.result !== false ? resolve(this.$refs.modal.result) : reject();\n\t\t\t\t},\n\t\t\t\tunmounted() {\n\t\t\t\t\twrapper.parentElement.removeChild(wrapper);\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst wrapper = document.createElement(\"div\");\n\t\t\t\n\t\t\t// if(primevue) --> won't work because primevue is not defined in this scope and promise would be rejected\n\t\t\tif (includedPrimevue){\n\t\t\t\tinstance.use(primevue.config.default, {zIndex: {overlay: 9999}})\n\t\t\t}\n\t\t\t\t \n\t\t\t//instance.use(Phrasen); // TODO(chris): find a more dynamic way\n\t\t\timport('../../plugins/Phrasen.js').then((Phrasen) => {\n\t\t\t\tinstance.use(Phrasen.default);\n\t\t\t\tinstance.mount(wrapper);\n\t\t\t\tdocument.body.appendChild(wrapper);\n\t\t\t});\n\t\t});\n\t},\n\ttemplate: `<div ref=\"modal\" class=\"bootstrap-modal modal\" tabindex=\"-1\" @[\\`hide.bs.modal\\`]=\"$emit('hideBsModal')\" @[\\`hidden.bs.modal\\`]=\"$emit('hiddenBsModal')\" @[\\`hidePrevented.bs.modal\\`]=\"$emit('hidePreventedBsModal')\" @[\\`show.bs.modal\\`]=\"$emit('showBsModal')\" @[\\`shown.bs.modal\\`]=\"$emit('shownBsModal')\">\n\t\t<div class=\"modal-dialog\" :class=\"fullscreen ? 'modal-fullscreen' : dialogClass\">\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t<div v-if=\"$slots.title\" class=\"modal-header\" :class=\"headerClass\">\n\t\t\t\t\t<h5 class=\"modal-title\"><slot name=\"title\"/></h5>\n\t\t\t\t\t<div class=\"d-flex align-items-center ms-auto\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn ms-auto\" style=\"filter: invert(1)\" v-if=\"allowFullscreenExpand\" @click=\"toggleFullscreen\">\n\t\t\t\t\t\t  <i v-if=\"!fullscreen\" class=\"fa-solid fa-expand\"></i>\n\t\t\t\t\t\t  <i v-else class=\"fa-solid fa-compress\"></i>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button v-if=\"!noCloseBtn\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<slot name=\"modal-header-content\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"modal-body\" :class=\"bodyClass\">\n\t\t\t\t\t<slot></slot>\n\t\t\t\t</div>\n\t\t\t\t<div v-if=\"$slots.footer\" class=\"modal-footer\" :class=\"footerClass\">\n\t\t\t\t\t<slot name=\"footer\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n}\n","export default {\n\trender() {\n\t\treturn (this.$slots && this.$slots.default) ? this.$slots.default() : null;\n\t}\n};","import FhcFragment from \"../Fragment.js\";\n\nlet _uuid = {};\n\nexport default {\n\tname: \"FormInput\",\n\tinheritAttrs: false,\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tinject: {\n\t\tregisterToForm: {\n\t\t\tfrom: '$registerToForm',\n\t\t\tdefault: null\n\t\t},\n\t\tclearValidationForName: {\n\t\t\tfrom: '$clearValidationForName',\n\t\t\tdefault: null\n\t\t}\n\t},\n\tprops: {\n\t\tbsFeedback: Boolean,\n\t\tnoAutoClass: Boolean,\n\t\tnoFeedback: Boolean,\n\t\tinputGroup: Boolean,\n\t\ttype: String,\n\t\tname: String,\n\t\tcontainerClass: [String, Array, Object],\n\t\tlabel: String,\n\t\t// NOTE(chris): remove these from $attrs array to prevent doubled event listeners\n\t\tonInput: [Array, Function],\n\t\t'onUpdate:modelValue': [Array, Function]\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tvalid: undefined,\n\t\t\tfeedback: [],\n\t\t\tmodelValueDummy: undefined\n\t\t}\n\t},\n\tcomputed: {\n\t\thasContainer() {\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn true;\n\t\t\tif (this.containerClass)\n\t\t\t\treturn true;\n\t\t\tfor (const prop in this.autoContainerClass)\n\t\t\t\tif (Object.hasOwn(this.autoContainerClass, prop))\n\t\t\t\t\treturn true;\n\t\t\treturn false;\n\t\t},\n\t\tacc() {\n\t\t\tif (!this.containerClass)\n\t\t\t\treturn {};\n\t\t\tif (typeof this.containerClass === 'string' || this.containerClass instanceof String)\n\t\t\t\treturn this.containerClass.split(' ').reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\tif (Array.isArray(this.containerClass))\n\t\t\t\treturn this.containerClass.reduce((a,c) => {a[c] = true; return a}, {});\n\t\t\treturn this.containerClass;\n\t\t},\n\t\tautoContainerClass() {\n\t\t\tif (this.noAutoClass)\n\t\t\t\treturn this.acc;\n\t\t\t\n\t\t\tconst acc = {...this.acc};\n\t\t\t\n\t\t\tif (this.inputGroup)\n\t\t\t\tacc['input-group-item'] = true;\n\n\t\t\tif (this.lcType == 'radio' || this.lcType == 'checkbox')\n\t\t\t\tacc['form-check'] = true;\n\t\t\t\n\t\t\tif (this.inputGroup && acc['form-check']) {\n\t\t\t\tacc['input-group-item'] = false;\n\t\t\t\tacc['form-check'] = false;\n\t\t\t\tacc['input-group-text'] = true;\n\t\t\t}\n\t\t\treturn acc;\n\t\t},\n\t\tlcType() {\n\t\t\tif (!this.type)\n\t\t\t\treturn 'text';\n\t\t\treturn this.type.toLowerCase();\n\t\t},\n\t\ttag() {\n\t\t\tswitch (this.lcType) {\n\t\t\t\tcase 'textarea':\n\t\t\t\tcase 'select':\n\t\t\t\t\treturn this.lcType;\n\t\t\t\tcase 'datepicker':\n\t\t\t\t\treturn 'VueDatePicker';\n\t\t\t\tcase 'autocomplete':\n\t\t\t\t\treturn 'PvAutocomplete';\n\t\t\t\tcase 'uploadimage':\n\t\t\t\t\treturn 'UploadImage';\n\t\t\t\tcase 'uploadfile':\n\t\t\t\tcase 'uploaddms':\n\t\t\t\t\treturn 'UploadDms';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'input';\n\t\t\t}\n\t\t},\n\t\tvalidationClass() {\n\t\t\tconst classes = [];\n\t\t\tif (this.valid)\n\t\t\t\tclasses.push('is-valid');\n\t\t\telse if (this.valid === false)\n\t\t\t\tclasses.push('is-invalid');\n\t\t\t\n\t\t\tif (!this.noAutoClass) {\n\t\t\t\tlet c = this.$attrs.class ? this.$attrs.class.split(' ') : [];\n\t\t\t\tswitch (this.lcType) {\n\t\t\t\t\t// TODO(chris): complete list!\n\t\t\t\t\tcase 'select':\n\t\t\t\t\t\tif (!c.includes('form-select'))\n\t\t\t\t\t\t\tclasses.push('form-select');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'range':\n\t\t\t\t\t\tif (!c.includes('form-range'))\n\t\t\t\t\t\t\tclasses.push('form-range');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'radio':\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\t// TODO(chris): maybe different handling?\n\t\t\t\t\t\tif (!c.includes('form-check-input') && !c.includes('btn-check'))\n\t\t\t\t\t\t\tclasses.push('form-check-input');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'color':\n\t\t\t\t\t\tif (!c.includes('form-control-color'))\n\t\t\t\t\t\t\tclasses.push('form-control-color');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'autocomplete':\n\t\t\t\t\tcase 'datepicker':\n\t\t\t\t\t\tclasses.push('p-0');\n\t\t\t\t\t\tclasses.push('border-0');\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'text':\n\t\t\t\t\tcase 'number':\n\t\t\t\t\tcase 'password':\n\t\t\t\t\tcase 'textarea':\n\t\t\t\t\t\tif (!c.includes('form-control'))\n\t\t\t\t\t\t\tclasses.push('form-control');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tfeedbackClass() {\n\t\t\tif (!this.feedback || this.feedback === true)\n\t\t\t\treturn '';\n\t\t\tif (!this.bsFeedback)\n\t\t\t\treturn {\n\t\t\t\t\t'valid-tooltip': this.valid === true,\n\t\t\t\t\t'invalid-tooltip': this.valid === false\n\t\t\t\t};\n\t\t\treturn {\n\t\t\t\t'valid-feedback': this.valid === true,\n\t\t\t\t'invalid-feedback': this.valid === false\n\t\t\t};\n\t\t},\n\t\tmodelValueCmp: {\n\t\t\tget() {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\treturn this.modelValueDummy;\n\t\t\t\treturn this.$attrs.modelValue;\n\t\t\t},\n\t\t\tset(v) {\n\t\t\t\tif (!this.$attrs.hasOwnProperty('modelValue'))\n\t\t\t\t\tthis.modelValueDummy = v;\n\t\t\t\tthis.$emit('update:modelValue', v);\n\t\t\t}\n\t\t},\n\t\tidCmp() {\n\t\t\tlet uuid = this.$attrs.id;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = this.$attrs.uid;\n\t\t\tif (!uuid && this.label)\n\t\t\t\tuuid = 'fhc-form-input';\n\t\t\tif (!uuid)\n\t\t\t\treturn undefined;\n\t\t\tif (this.lcType == 'datepicker')\n\t\t\t\tuuid = 'dp-input-' + uuid;\n\t\t\tif (_uuid[uuid] === undefined)\n\t\t\t\t_uuid[uuid] = 0;\n\t\t\treturn uuid + '-' + (_uuid[uuid]++);\n\t\t}\n\t},\n\tmethods: {\n\t\tclearValidation() {\n\t\t\tthis.valid = undefined;\n\t\t\tthis.feedback = [];\n\t\t},\n\t\tclearValidationForThisName() {\n\t\t\tif (this.valid === undefined)\n\t\t\t\treturn;\n\t\t\tif (this.clearValidationForName && this.name)\n\t\t\t\tthis.clearValidationForName(this.name);\n\t\t\telse\n\t\t\t\tthis.clearValidation();\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (!feedback)\n\t\t\t\tfeedback = [];\n\t\t\tif (!Array.isArray(feedback))\n\t\t\t\tfeedback = [feedback];\n\t\t\tthis.valid = valid;\n\t\t\t// NOTE(chris): On a list of radios/checkboxes only add the feedback message to the last item\n\t\t\tif (this.name && (this.lcType == 'radio' || this.lcType == 'checkbox')) {\n\t\t\t\tconst selector = 'input[type=\"' + this.lcType + '\"][name=\"' + this.name + '\"]';\n\t\t\t\tif ([...this.$el.parentNode.querySelectorAll(selector)].pop() != this.$refs.input)\n\t\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.feedback = feedback;\n\t\t},\n\t\t_loadComponents() {\n\t\t\tif (this.tag == 'VueDatePicker' && !this._.components.VueDatePicker) {\n\t\t\t\tthis._.components.VueDatePicker = Vue.defineAsyncComponent(() => import(\"../vueDatepicker.js.php\"));\n\t\t\t} else if (this.tag == 'PvAutocomplete' && !this._.components.PvAutocomplete) {\n\t\t\t\tthis._.components.PvAutocomplete = primevue.autocomplete;\n\t\t\t} else if (this.tag == 'UploadImage' && !this._.components.UploadImage) {\n\t\t\t\tthis._.components.UploadImage = Vue.defineAsyncComponent(() => import(\"./Upload/Image.js\"));\n\t\t\t} else if (this.tag == 'UploadDms' && !this._.components.UploadDms) {\n\t\t\t\tthis._.components.UploadDms = Vue.defineAsyncComponent(() => import(\"./Upload/Dms.js\"));\n\t\t\t}\n\t\t}\n\t},\n\tbeforeMount() {\n\t\tthis._loadComponents();\n\t},\n\tbeforeUpdate() {\n\t\tthis._loadComponents();\n\t},\n\tmounted() {\n\t\tif (this.registerToForm)\n\t\t\tthis.registerToForm(this);\n\t},\n\ttemplate: `\n\t<component :is=\"!hasContainer ? 'FhcFragment' : 'div'\" class=\"position-relative\" :class=\"autoContainerClass\">\n\t\t<label v-if=\"label && lcType != 'radio' && lcType != 'checkbox'\" :class=\"!noAutoClass && 'form-label'\" :for=\"idCmp\">{{label}}</label>\n\t\t<input v-if=\"tag == 'input'\" :type=\"lcType\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t<textarea v-else-if=\"tag == 'textarea'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\"></textarea>\n\t\t<select v-else-if=\"tag == 'select'\" ref=\"input\" v-model=\"modelValueCmp\" v-bind=\"$attrs\" :id=\"idCmp\" :name=\"name\" :class=\"validationClass\" :modelValue=\"undefined\" @input=\"clearValidationForThisName(); $emit('input', $event)\">\n\t\t\t<slot></slot>\n\t\t</select>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'VueDatePicker'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:uid=\"idCmp ? idCmp.substr(9) : idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class-name=\n\t\t\t\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class-name'] ? $attrs['input-class-name'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'PvAutocomplete'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:input-props=\"{name}\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"[...Object.entries({'form-control': !noAutoClass, 'is-valid': valid === true, 'is-invalid': valid === false}).reduce((a,[k,v]) => {if(v) a.push(k);return a}, []), ...($attrs['input-class'] ? $attrs['input-class'].split(' ') : [])].join(' ')\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t\t<template #chip=\"data\"><slot name=\"chip\" v-bind=\"data\"></slot></template>\n\t\t\t<template #header=\"data\"><slot name=\"header\" v-bind=\"data\"></slot></template>\n\t\t\t<template #footer=\"data\"><slot name=\"footer\" v-bind=\"data\"></slot></template>\n\t\t\t<template #option=\"data\"><slot name=\"option\" v-bind=\"data\"></slot></template>\n\t\t\t<template #optiongroup=\"data\"><slot name=\"optiongroup\" v-bind=\"data\"></slot></template>\n\t\t\t<template #content=\"data\"><slot name=\"content\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loader=\"data\"><slot name=\"loader\" v-bind=\"data\"></slot></template>\n\t\t\t<template #empty=\"data\"><slot name=\"empty\" v-bind=\"data\"></slot></template>\n\t\t\t<template #dropdownicon=\"data\"><slot name=\"dropdownicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #removetokenicon=\"data\"><slot name=\"removetokenicon\" v-bind=\"data\"></slot></template>\n\t\t\t<template #loadingicon=\"data\"><slot name=\"loadingicon\" v-bind=\"data\"></slot></template>\n\t\t</component>\n\t\t<component\n\t\t\tv-else-if=\"tag == 'UploadDms'\"\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t:input-class=\"validationClass\"\n\t\t\t:no-list=\"inputGroup\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<component\n\t\t\tv-else\n\t\t\tref=\"input\"\n\t\t\t:is=\"tag\"\n\t\t\t:type=\"type\"\n\t\t\tv-model=\"modelValueCmp\"\n\t\t\tv-bind=\"$attrs\"\n\t\t\t:id=\"idCmp\"\n\t\t\t:name=\"name\"\n\t\t\t:class=\"validationClass\"\n\t\t\t@update:model-value=\"clearValidationForThisName\"\n\t\t\t>\n\t\t\t<slot></slot>\n\t\t</component>\n\t\t<label v-if=\"label && (lcType == 'radio' || lcType == 'checkbox')\" :for=\"idCmp\" :class=\"!noAutoClass && 'form-check-label'\" v-html=\"label\"></label>\n\t\t<div v-if=\"valid !== undefined && feedback.length && !noFeedback\" :class=\"feedbackClass\">\n\t\t\t<template v-for=\"(msg, i) in feedback\" :key=\"i\">\n\t\t\t\t<hr v-if=\"i\" class=\"m-0\">\n\t\t\t\t{{msg}}\n\t\t\t</template>\n\t\t</div>\n\t</component>\n\t`\n}\n","import {CoreFilterCmpt} from \"../filter/Filter.js\";\n\nimport BsModal from \"../Bootstrap/Modal.js\";\nimport CoreForm from '../Form/Form.js';\nimport FormInput from '../Form/Input.js';\n\nexport default {\n\tcomponents: {\n\t\tCoreFilterCmpt,\n\t\tBsModal,\n\t\tCoreForm,\n\t\tFormInput\n\t},\n\tinject: {\n\t\tcisRoot: {\n\t\t\tfrom: 'cisRoot'\n\t\t},\n\t},\n\tprops: {\n\t\tendpoint: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\ttypeId: String,\n\t\tid: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true\n\t\t},\n\t\tuid: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true\n\t\t},\n\t\t/** List of types to allow for creation */\n\t\tbetriebsmittelTypes: {\n\t\t\ttype: Array,\n\t\t\tdefault: null\n\t\t},\n\t\t/**\n\t\t * If true: only show the types specified in 'betriebsmittelTypes'.\n\t\t * If false: show all available types.\n\t\t */\n\t\tfilterByProvidedTypes: Boolean\n\t},\n\tdata() {\n\t\treturn {\n\t\t\ttabulatorOptions: {\n\t\t\t\tajaxURL: 'dummy',\n\t\t\t\tajaxRequestFunc: () => this.$api.call(\n\t\t\t\t\tthis.endpoint.getAllBetriebsmittel(this.typeId, this.id, (this.filterByProvidedTypes ? this.betriebsmittelTypes : null))\n\t\t\t\t),\n\t\t\t\tajaxResponse: (url, params, response) => response.data,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{title: \"Nummer\", field: \"nummer\", width: 150},\n\t\t\t\t\t{title: \"PersonId\", field: \"person_id\", visible: false},\n\t\t\t\t\t{title: \"Typ\", field: \"betriebsmitteltyp\", width: 125},\n\t\t\t\t\t{title: \"Anmerkung\", field: \"anmerkung\", visible: false},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"Retourdatum\",\n\t\t\t\t\t\tfield: \"retouram\",\n\t\t\t\t\t\twidth: 128,\n\t\t\t\t\t\tformatter: function (cell) {\n\t\t\t\t\t\t\tconst dateStr = cell.getValue();\n\t\t\t\t\t\t\tif (!dateStr) return \"\";\n\n\t\t\t\t\t\t\tconst date = new Date(dateStr);\n\t\t\t\t\t\t\treturn date.toLocaleString(\"de-DE\", {\n\t\t\t\t\t\t\t\tday: \"2-digit\",\n\t\t\t\t\t\t\t\tmonth: \"2-digit\",\n\t\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\t\thour12: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{title: \"Beschreibung\", field: \"beschreibung\"},\n\t\t\t\t\t{title: \"UID\", field: \"uid\", width: 87},\n\t\t\t\t\t{title: \"Kaution\", field: \"kaution\", visible: false},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: \"Ausgabedatum\",\n\t\t\t\t\t\tfield: \"ausgegebenam\",\n\t\t\t\t\t\twidth: 144,\n\t\t\t\t\t\tvisible: false,\n\t\t\t\t\t\tformatter: function (cell) {\n\t\t\t\t\t\t\tconst dateStr = cell.getValue();\n\t\t\t\t\t\t\tif (!dateStr) return \"\";\n\n\t\t\t\t\t\t\tconst date = new Date(dateStr);\n\t\t\t\t\t\t\treturn date.toLocaleString(\"de-DE\", {\n\t\t\t\t\t\t\t\tday: \"2-digit\",\n\t\t\t\t\t\t\t\tmonth: \"2-digit\",\n\t\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\t\thour12: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{title: \"Betriebsmittel ID\", field: \"betriebsmittel_id\", visible: false},\n\t\t\t\t\t{title: \"Betriebsmittelperson ID\", field: \"betriebsmittelperson_id\", visible: false},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: 'Aktionen', field: 'actions',\n\t\t\t\t\t\tminWidth: 150, // Ensures Action-buttons will be always fully displayed\n\t\t\t\t\t\tmaxWidth: 150,\n\t\t\t\t\t\tformatter: (cell, formatterParams, onRendered) => {\n\t\t\t\t\t\t\tlet container = document.createElement('div');\n\t\t\t\t\t\t\tcontainer.className = \"d-flex gap-2\";\n\n\t\t\t\t\t\t\tlet button = document.createElement('button');\n\t\t\t\t\t\t\tbutton.className = 'btn btn-outline-secondary btn-action';\n\t\t\t\t\t\t\tbutton.innerHTML = '<i class=\"fa fa-print\"></i>';\n\t\t\t\t\t\t\tbutton.title = this.$p.t('betriebsmittel', 'btn_printUebernahmebestaetigung');\n\t\t\t\t\t\t\tlet cellData = cell.getData();\n\t\t\t\t\t\t\tbutton.addEventListener(\n\t\t\t\t\t\t\t\t'click',\n\t\t\t\t\t\t\t\t(event) =>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlet linkToPdf = this.cisRoot +\n\t\t\t\t\t\t\t\t\t\t'/content/pdfExport.php?xml=betriebsmittelperson.rdf.php&xsl=Uebernahme&id=' + cellData.betriebsmittelperson_id + '&output=pdf';\n\n\t\t\t\t\t\t\t\t\twindow.open(linkToPdf, '_blank');\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tcontainer.append(button);\n\n\t\t\t\t\t\t\tbutton = document.createElement('button');\n\t\t\t\t\t\t\tbutton.className = 'btn btn-outline-secondary btn-action';\n\t\t\t\t\t\t\tbutton.innerHTML = '<i class=\"fa fa-edit\"></i>';\n\t\t\t\t\t\t\tbutton.title = this.$p.t('betriebsmittel', 'btn_editBetriebsmittel');\n\t\t\t\t\t\t\tbutton.addEventListener(\n\t\t\t\t\t\t\t\t'click',\n\t\t\t\t\t\t\t\t(event) =>\n\t\t\t\t\t\t\t\t\tthis.actionEditBetriebsmittel(cell.getData().betriebsmittelperson_id)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontainer.append(button);\n\n\t\t\t\t\t\t\tbutton = document.createElement('button');\n\t\t\t\t\t\t\tbutton.className = 'btn btn-outline-secondary btn-action';\n\t\t\t\t\t\t\tbutton.innerHTML = '<i class=\"fa fa-xmark\"></i>';\n\t\t\t\t\t\t\tbutton.title = this.$p.t('betriebsmittel', 'btn_deleteBetriebsmittel');\n\t\t\t\t\t\t\tbutton.addEventListener(\n\t\t\t\t\t\t\t\t'click',\n\t\t\t\t\t\t\t\t() =>\n\t\t\t\t\t\t\t\t\tthis.actionDeleteBetriebsmittel(cell.getData().betriebsmittelperson_id)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tcontainer.append(button);\n\n\t\t\t\t\t\t\treturn container;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfrozen: true\n\t\t\t\t\t}],\n\t\t\t\tlayout: 'fitColumns',\n\t\t\t\tlayoutColumnsOnNewData: false,\n\t\t\t\theight: '550',\n\t\t\t\tpersistenceID: 'core-betriebsmittel'\n\t\t\t},\n\t\t\ttabulatorEvents: [\n\t\t\t\t{\n\t\t\t\t\tevent: 'tableBuilt',\n\t\t\t\t\thandler: async() => {\n\n\t\t\t\t\t\tawait this.$p.loadCategory(['wawi', 'global', 'infocenter', 'betriebsmittel', 'person']);\n\n\t\t\t\t\t\tlet cm = this.$refs.table.tabulator.columnManager;\n\n\t\t\t\t\t\tcm.getColumnByField('nummer').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('wawi', 'nummer')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('betriebsmitteltyp').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('global', 'typ')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('anmerkung').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('global', 'anmerkung')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('retouram').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('wawi', 'retourdatum')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('beschreibung').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('global', 'beschreibung')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('kaution').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('infocenter', 'kaution')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('ausgegebenam').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('wawi', 'ausgabedatum')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('betriebsmittel_id').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('ui', 'betriebsmittel_id')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('betriebsmittelperson_id').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('ui', 'betriebsmittelperson_id')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('person_id').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('person', 'person_id')\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcm.getColumnByField('uid').component.updateDefinition({\n\t\t\t\t\t\t\ttitle: this.$p.t('person', 'uid')\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t\tlistBetriebsmitteltyp: [],\n\t\t\tformData: {\n\t\t\t\tausgegebenam : new Date(),\n\t\t\t\tbetriebsmitteltyp: 'Zutrittskarte'\n\t\t\t},\n\t\t\tstatusNew: true,\n\t\t\tfilteredInventar: []\n\t\t}\n\t},\n\twatch: {\n\t\tid() {\n\t\t\tthis.$refs.table.reloadTable();\n\t\t}\n\t},\n\tmethods: {\n\t\tactionEditBetriebsmittel(betriebsmittelperson_id) {\n\t\t\tthis.statusNew = false;\n\t\t\tthis\n\t\t\t\t.loadBetriebsmittel(betriebsmittelperson_id)\n\t\t\t\t.then(this.$refs.betriebsmittelModal.show);\n\t\t},\n\t\tactionNewBetriebsmittel() {\n\t\t\tthis.resetModal();\n\t\t\tthis.$refs.betriebsmittelModal.show();\n\t\t},\n\t\tactionDeleteBetriebsmittel(betriebsmittelperson_id) {\n\t\t\tthis.$fhcAlert\n\t\t\t\t.confirmDelete()\n\t\t\t\t.then(result => result\n\t\t\t\t\t? betriebsmittelperson_id\n\t\t\t\t\t: Promise.reject({handled: true}))\n\t\t\t\t.then(betriebsmittelperson_id => this.$api.call(\n\t\t\t\t\tthis.endpoint.deleteBetriebsmittel(betriebsmittelperson_id))\n\t\t\t\t)\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.$fhcAlert.alertSuccess(this.$p.t('ui', 'successDelete'));\n\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\tthis.reload();\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\taddNewBetriebsmittel() {\n\t\t\t//just append uid to formdata\n\t\t\tthis.formData.uid = this.uid;\n\t\t\tif (this.formData.betriebsmitteltyp == 'Inventar')\n\t\t\t\tthis.formData.betriebsmittel_id = this.formData.inventarData?.betriebsmittel_id;\n\t\t\treturn this.$refs.betriebsmittelData\n\t\t\t\t.call(this.endpoint.addNewBetriebsmittel(this.id, this.formData))\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.$fhcAlert.alertSuccess(this.$p.t('ui', 'successSave'));\n\t\t\t\t\tthis.$refs.betriebsmittelModal.hide();\n\t\t\t\t\tthis.resetModal();\n\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\tthis.reload();\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tupdateBetriebsmittel(betriebsmittelperson_id) {\n\t\t\tif (this.formData.betriebsmitteltyp == 'Inventar')\n\t\t\t\tthis.formData.betriebsmittel_id = this.formData.inventarData?.betriebsmittel_id;\n\t\t\treturn this.$refs.betriebsmittelData\n\t\t\t\t.call(this.endpoint.updateBetriebsmittel(\n\t\t\t\t\tbetriebsmittelperson_id,\n\t\t\t\t\tthis.formData\n\t\t\t\t))\n\t\t\t\t.then(response => {\n\t\t\t\t\tthis.$fhcAlert.alertSuccess(this.$p.t('ui', 'successSave'));\n\t\t\t\t\tthis.$refs.betriebsmittelModal.hide();\n\t\t\t\t\tthis.resetModal();\n\t\t\t\t\twindow.scrollTo(0, 0);\n\t\t\t\t\tthis.reload();\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tloadBetriebsmittel(betriebsmittelperson_id) {\n\t\t\tthis.resetModal();\n\t\t\tthis.statusNew = false;\n\t\t\treturn this.$api\n\t\t\t\t.call(this.endpoint.loadBetriebsmittel(betriebsmittelperson_id))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.formData = result.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t\t},\n\t\tsearchInventar(event) {\n\t\t\tconst encodedQuery = encodeURIComponent(event.query);\n\t\t\treturn this.$api\n\t\t\t\t.call(this.endpoint.loadInventarliste(encodedQuery))\n\t\t\t\t.then(result => {\n\t\t\t\t\tthis.filteredInventar = result.data;\n\t\t\t\t});\n\t\t},\n\t\treload() {\n\t\t\tthis.$refs.table.reloadTable();\n\t\t},\n\t\tresetModal() {\n\t\t\tthis.formData = {};\n\t\t\tthis.formData.ausgegebenam = new Date();\n\t\t\tthis.formData.retouram = null;\n\t\t\tthis.formData.betriebsmitteltyp = null;\n\t\t\tthis.formData.nummer = null;\n\t\t\tthis.formData.nummer2 = null;\n\t\t\tthis.formData.kaution = null;\n\t\t\tthis.formData.anmerkung = null;\n\t\t\tthis.formData.beschreibung = null;\n\t\t\tthis.statusNew = true;\n\t\t}\n\t},\n\tcreated() {\n\t\treturn this.$api\n\t\t\t.call(this.endpoint.getTypenBetriebsmittel(this.betriebsmittelTypes))\n\t\t\t.then(result => {\n\t\t\t\tthis.listBetriebsmitteltyp = result.data;\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\ttemplate: `\n\t<div class=\"core-betriebsmittel h-100 d-flex flex-column\">\n\t\t<core-filter-cmpt\n\t\t\tref=\"table\"\n\t\t\t:tabulator-options=\"tabulatorOptions\"\n\t\t\t:tabulator-events=\"tabulatorEvents\"\n\t\t\ttable-only\n\t\t\t:side-menu=\"false\"\n\t\t\treload\n\t\t\t:reload-btn-infotext=\"this.$p.t('table', 'reload')\"\n\t\t\tnew-btn-show\n\t\t\t:new-btn-label=\"this.$p.t('ui', 'betriebsmittel')\"\n\t\t\t@click:new=\"actionNewBetriebsmittel\"\n\t\t\t>\n\t\t</core-filter-cmpt>\t\t\n\t\t\n\t\t<!--Modal: betriebsmittelModal-->\n\t\t<bs-modal ref=\"betriebsmittelModal\">\n\t\t\t<template #title>\n\t\t\t\t<p v-if=\"statusNew\" class=\"fw-bold mt-3\">{{$p.t('ui', 'add_betriebsmittel')}}</p>\n\t\t\t\t<p v-else class=\"fw-bold mt-3\">{{$p.t('ui', 'edit_betriebsmittel')}}</p>\n\t\t\t</template>\n\t\t\t\n\t\t\t<core-form class=\"row g-3\" ref=\"betriebsmittelData\">\t\t\n\t\t\t\t<legend>Details</legend>\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"select\"\n\t\t\t\t\t\t:label=\"$p.t('global/typ') + ' *'\"\n\t\t\t\t\t\tname=\"betriebsmitteltyp\"\n\t\t\t\t\t\tv-model=\"formData.betriebsmitteltyp\"\n\t\t\t\t\t\t:disabled=\"!statusNew\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t<option\n\t\t\t\t\t\t\tv-for=\"entry in listBetriebsmitteltyp\"\n\t\t\t\t\t\t\t:key=\"entry.betriebsmitteltyp\"\n\t\t\t\t\t\t\t:value=\"entry.betriebsmitteltyp\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{entry.beschreibung}}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div v-if=\"formData.betriebsmitteltyp == 'Inventar'\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"autocomplete\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/inventarnummer')\"\n\t\t\t\t\t\tname=\"betriebsmittel_id\"\n\t\t\t\t\t\tv-model=\"formData.inventarData\"\n\t\t\t\t\t\toption-label=\"dropdowntext\" \n\t\t\t\t\t\t:suggestions=\"filteredInventar\" \n\t\t\t\t\t\t@complete=\"searchInventar\" \n\t\t\t\t\t\t:min-length=\"3\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t<div v-else-if=\"formData.inventarnummer\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/inventarnummer')\"\n\t\t\t\t\t\tname=\"inventarnummer\"\n\t\t\t\t\t\tv-model=\"formData.inventarnummer\"\n\t\t\t\t\t\t:disabled=\"!statusNew\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div v-if=\"formData.betriebsmitteltyp!='Inventar' && !formData.inventarnummer\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/nummer')\"\n\t\t\t\t\t\tname=\"nummer\"\n\t\t\t\t\t\tv-model=\"formData.nummer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div v-if=\"formData.betriebsmitteltyp!='Inventar' && !formData.inventarnummer\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/nummer') + ' 2'\"\n\t\t\t\t\t\tname=\"nummer2\"\n\t\t\t\t\t\tv-model=\"formData.nummer2\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\n\t\t\t\t<div v-if=\"formData.betriebsmitteltyp!='Inventar'\" class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t:label=\"$p.t('global/beschreibung')\"\n\t\t\t\t\t\tname=\"beschreibung\"\n\t\t\t\t\t\tv-model=\"formData.beschreibung\"\n\t\t\t\t\t\t:disabled=\"formData.inventarnummer\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t:label=\"$p.t('infocenter/kaution')\"\n\t\t\t\t\t\tname=\"kaution\"\n\t\t\t\t\t\tv-model=\"formData.kaution\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"textarea\"\n\t\t\t\t\t\t:label=\"$p.t('global/anmerkung')\"\n\t\t\t\t\t\tname=\"anmerkung\"\n\t\t\t\t\t\tv-model=\"formData.anmerkung\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"DatePicker\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/ausgegebenam')\"\n\t\t\t\t\t\tname=\"ausgegebenam\"\n\t\t\t\t\t\tv-model=\"formData.ausgegebenam\"\n\t\t\t\t\t\tauto-apply\n\t\t\t\t\t\t:enable-time-picker=\"false\"\n\t\t\t\t\t\ttext-input\n\t\t\t\t\t\tformat=\"dd.MM.yyyy\"\n\t\t\t\t\t\tpreview-format=\"dd.MM.yyyy\"\n\t\t\t\t\t\t:teleport=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class=\"row mb-3\">\n\t\t\t\t\t<form-input\n\t\t\t\t\t\ttype=\"DatePicker\"\n\t\t\t\t\t\t:label=\"$p.t('wawi/retouram')\"\n\t\t\t\t\t\tname=\"retouram\"\n\t\t\t\t\t\tv-model=\"formData.retouram\"\n\t\t\t\t\t\tauto-apply\n\t\t\t\t\t\t:enable-time-picker=\"false\"\n\t\t\t\t\t\ttext-input\n\t\t\t\t\t\tformat=\"dd.MM.yyyy\"\n\t\t\t\t\t\tpreview-format=\"dd.MM.yyyy\"\n\t\t\t\t\t\t:teleport=\"true\"\n\t\t\t\t\t\t>\n\t\t\t\t\t</form-input>\n\t\t\t\t</div>\n\t\t\t</core-form>\n\t\t\t\n\t\t\t<template #footer>\n\t\t\t\t<button type=\"button\" class=\"btn btn-primary\" @click=\"statusNew ? addNewBetriebsmittel() : updateBetriebsmittel(formData.betriebsmittelperson_id)\">{{$p.t('ui', 'speichern')}}</button>\n\t\t\t</template>\n\t\t</bs-modal>\n\t</div>`\n}\n\n","import FhcFragment from \"../Fragment.js\";\n\nexport default {\n\tcomponents: {\n\t\tFhcFragment\n\t},\n\tprovide() {\n\t\treturn {\n\t\t\t$registerToForm: component => {\n\t\t\t\tif (this.inputs.indexOf(component) < 0)\n\t\t\t\t\tthis.inputs.push(component);\n\t\t\t},\n\t\t\t$clearValidationForName: this.clearValidationForName\n\t\t};\n\t},\n\tprops: {\n\t\ttag: {\n\t\t\ttype: String,\n\t\t\tdefault: 'form'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tinputs: []\n\t\t}\n\t},\n\tcomputed: {\n\t\tsortedInputs() {\n\t\t\treturn this.inputs.reduce((a,c) => {\n\t\t\t\tlet name = c.name || '_default';\n\t\t\t\tif (!a[name])\n\t\t\t\t\ta[name] = [];\n\t\t\t\ta[name].push(c);\n\n\t\t\t\tif (c.lcType == 'checkbox' && name.substr(-1) == ']' && name.indexOf('[')) {\n\t\t\t\t\tname = name.substr(0, name.lastIndexOf('['));\n\t\t\t\t\tif (!a[name])\n\t\t\t\t\t\ta[name] = [];\n\t\t\t\t\ta[name].push(c);\n\t\t\t\t}\n\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t},\n\t\t/* Deprecated Code start */\n\t\tfactory() {\n\t\t\tconsole.warn('<form>.factory is deprecated! Use <form>.call() instead.');\n\t\t\tconst factory = Object.create(Object.getPrototypeOf(this.$fhcApi.factory), Object.getOwnPropertyDescriptors(this.$fhcApi.factory));\n\t\t\tfactory.$fhcApi = {\n\t\t\t\tget: this.get,\n\t\t\t\tpost: this.post,\n\t\t\t\t_defaultErrorHandlers: this.$fhcApi._defaultErrorHandlers\n\t\t\t};\n\t\t\treturn factory;\n\t\t}\n\t\t/* Deprecated Code end */\n\t},\n\tmethods: {\n\t\tget(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.get(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.get(...args);\n\t\t},\n\t\tpost(...args) {\n\t\t\tif (typeof args[0] == 'object' && args[0].clearValidation && args[0].setFeedback)\n\t\t\t\targs[0] = this;\n\t\t\telse\n\t\t\t\targs.unshift(this);\n\t\t\t\n\t\t\t/* Deprecated Code start */\n\t\t\tif (!this.$api)\n\t\t\t\treturn this.$fhcApi.post(...args);\n\t\t\t/* Deprecated Code end */\n\t\t\t\n\t\t\treturn this.$api.post(...args);\n\t\t},\n\t\tcall(factory, overwriteconfig) {\n\t\t\treturn this.$api.call(factory, overwriteconfig, this);\n\t\t},\n\t\t_sendFeedbackToInput(inputs, feedback, valid) {\n\t\t\tif (inputs.length) {\n\t\t\t\tinputs.forEach(input => input.setFeedback(valid, feedback));\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (this.$fhcAlert) {\n\t\t\t\tthis.$fhcAlert[valid ? 'alertSuccess' : 'alertError'](feedback);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tsetFeedback(valid, feedback) {\n\t\t\tif (Array.isArray(feedback)) {\n\t\t\t\tlet remaining = feedback.filter(fb => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? remaining : null;\n\t\t\t}\n\t\t\tif (typeof feedback === 'object') {\n\t\t\t\tlet remaining = Object.entries(feedback).filter(([name, fb]) => \n\t\t\t\t\tthis._sendFeedbackToInput(\n\t\t\t\t\t\tthis.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [],\n\t\t\t\t\t\tfb,\n\t\t\t\t\t\tvalid\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t\treturn remaining.length ? Object.fromEntries(remaining) : null;\n\t\t\t}\n\n\t\t\tlet remaining = this._sendFeedbackToInput(\n\t\t\t\tthis.sortedInputs['_default'] || [],\n\t\t\t\tfeedback,\n\t\t\t\tvalid\n\t\t\t);\n\t\t\treturn remaining ? feedback : null;\n\t\t},\n\t\tclearValidation() {\n\t\t\tthis.inputs.forEach(input => input.clearValidation());\n\t\t},\n\t\tsend(promise) {\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tpromise.then(result => {\n\t\t\t\t\tif (result?.status == 200 && result.data) {\n\t\t\t\t\t\tif (typeof result.data !== 'object' || !result.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tif (result.data.error)\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tconst data = result.data.retval;\n\t\t\t\t\t\t// TODO(chris): check for something better/add new standardized return value\n\t\t\t\t\t\tif (result.data.code == 1)\n\t\t\t\t\t\t\tthis.setFeedback(true, data);\n\t\t\t\t\t\treturn resolve(data);\n\t\t\t\t\t}\n\t\t\t\t\t// TODO(chris): IMPLEMENT! Wrong result object\n\t\t\t\t\treject(result);\n\t\t\t\t}).catch(result => {\n\t\t\t\t\tif (result?.response?.status == 400 && result.response.data) {\n\t\t\t\t\t\tif (typeof result.response.data !== 'object' || !result.response.data.hasOwnProperty('retval'))\n\t\t\t\t\t\t\t// TODO(chris): IMPLEMENT! Error in API\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\tthis.clearValidation();\n\t\t\t\t\t\tconst remaining = this.setFeedback(\n\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\tresult.response.data.retval\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (remaining) {\n\t\t\t\t\t\t\tresult.response.data.retval = remaining;\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (result?.response?.status == 500) {\n\t\t\t\t\t\tif (this.$fhcAlert)\n\t\t\t\t\t\t\tthis.$fhcAlert.handleSystemError(result);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn reject(result);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tclearValidationForName(name) {\n\t\t\t(this.sortedInputs[name.split('.')[0] + name.split('.').slice(1).map(p => `[${p}]`).join(\"\")] || this.sortedInputs['_default'] || [])\n\t\t\t\t.forEach(input => input.clearValidation());\n\t\t}\n\t},\n\ttemplate: `\n\t<component :is=\"tag || 'FhcFragment'\" v-bind=\"$attrs\">\n\t\t<slot></slot>\n\t</component>`\n}\n","export default {\n    getGemeinden(plz) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getGemeinden',\n          params: { plz }\n        }\n    },\n    getOrtschaften(plz) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getOrtschaften',\n          params: { plz },\n        };\n    },\n    getContractExpire(year, month) {\n        return {\n          method: 'get',\n          url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getContractExpire',\n          params: { year: year, month: month}\n        };\n    },\n    getContractNew(year, month) {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getContractNew',\n        params: { year: year, month: month}\n      };\n    },\n    getBirthdays(date) {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getBirthdays',\n        params: { date },\n      };\n    },\n    getCovidState(person_id, date) {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getCovidState',\n        params: { person_id: person_id, d: date},\n      };\n    },\n    getAllCourseHours(uid) {\n      return {\n        method: 'get',\n        url: `extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getAllCourseHours?uid=${uid}`,\n      };\n    },\n    getAllSupportHours(uid) {\n      return {\n        method: 'get',\n        url: `extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getAllSupportHours?uid=${uid}`,\n      };\n    },\n    // migrated from loader.js\n    getNations() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getNations',\n      }\n    },\n    getSachaufwandTyp() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getSachaufwandtyp',\n      }\n    },\n    getKontakttyp() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getKontakttyp',\n      }\n    },\n    getAdressentyp() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getAdressentyp',\n      }\n    },\n    getSprache() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getSprache',\n      }\n    },\n    getAusbildung() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getAusbildung',\n      }\n    },\n    getStandorteIntern() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getStandorteIntern',\n      }\n    },\n    getOrte() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getOrte',\n      }\n    },\n    getKarenztypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getKarenztypen',\n      }\n    },\n    getGehaltstypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getGehaltstypen',\n      }\n    },\n    getVertragsarten() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getVertragsarten',\n      }\n    },\n\n    getVertragsbestandteiltypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getVertragsbestandteiltypen',\n      }\n    },\n    getTeilzeittypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getTeilzeittypen',\n      }\n    },\n    getFreitexttypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getFreitexttypen',\n      }\n    },\n    getStundensatztypen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getStundensatztypen',\n      }\n    },\n/*     getUnternehmen() {\n      return {\n        method: 'get',\n        url: 'extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getUnternehmen',\n      }\n    }, */\n}    \n","export default {\n  getUnternehmen() {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/OrgAPI/getUnternehmen',\n    }\n  },\n  getVertragsarten() {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/CommonsAPI/getVertragsarten',\n    }\n  },\n  getDVByID(dvid) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/dvByID/' + dvid,\n    }\n  },\n  endDV(payload) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/endDV',\n      params: payload\n    }\n  },\n  deactivateDV(payload) {    \n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/deactivateDV',\n      params: payload\n    }\n  },\n  getDvEndeGruende() {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/DVAPI/getDvEndeGruende',\n    }\n  }\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAllBetriebsmittel(type, id, betriebsmitteltypes) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + type + '/' + id,\n\t\t\tparams: {\n\t\t\t\tbetriebsmitteltypes\n\t\t\t}\n\t\t};\n\t},\n\taddNewBetriebsmittel(person_id, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' + person_id,\n\t\t\tparams\n\t\t};\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id\n\t\t};\n\t},\n\tupdateBetriebsmittel(betriebsmittelperson_id, params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tparams\n\t\t};\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id\n\t\t};\n\t},\n\tgetTypenBetriebsmittel(betriebsmitteltypes) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/',\n\t\t\tparams: {\n\t\t\t\tbetriebsmitteltypes\n\t\t\t}\n\t\t};\n\t},\n\tloadInventarliste(query) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: 'api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery\n\t\t};\n\t}\n};\n","import {CoreNavigationCmpt} from '../../../../../js/components/navigation/Navigation.js';\nimport CoreBaseLayout from '../../../../../js/components/layout/BaseLayout.js';\nimport CoreVerticalSplit from '../../../../../js/components/verticalsplit/verticalsplit.js';\nimport {CoreFilterCmpt} from \"../../../../../js/components/filter/Filter.js\";\nimport { EmployeeHeader } from '../../components/employee/EmployeeHeader.js';\nimport { EmployeeContractInfo } from \"../../components/employee/contract/EmployeeContractInfo.js\";\nimport JobFunction from \"../../components/employee/JobFunction.js\";\nimport Betriebsmittel from \"../../../../../js/components/Betriebsmittel/Betriebsmittel.js\";\n\nimport ApiCommon from '../../api/factory/common.js';\nimport ApiDV from \"../../api/factory/dv.js\";\nimport ApiBetriebsmittelperson from '../../../../../js/api/factory/betriebsmittel/person.js';\n\n\n\nexport default {\n\tname: \"Schluesselverwaltung\",\n\tcomponents: {\n\t\tCoreNavigationCmpt,\n\t\tCoreBaseLayout,\n\t\tCoreVerticalSplit,\n\t\tCoreFilterCmpt,\n\t\tEmployeeHeader,\n\t\tEmployeeContractInfo,\n\t\tJobFunction,\n\t\tBetriebsmittel\n\t},\n\tprops: {\n\t\tbetriebsmittelTypes: Array,\n\t\tfilterByProvidedTypes: Boolean\n\t},\n\tprovide()\n\t{\n\t\treturn {\n\t\t\tsprache: Vue.computed(() => this.sprache),\n\t\t\tvertragsarten: Vue.computed(() => this.vertragsarten),\n\t\t\tnations: Vue.computed(() => this.nations),\n\t\t\tausbildung: Vue.computed(() => this.ausbildung),\n\t\t\torte: Vue.computed(() => this.orte),\n\t\t\tstandorte: Vue.computed(() => this.standorte),\n\t\t\tkontakttyp: Vue.computed(() => this.kontakttyp),\n\t\t\tadressentyp: Vue.computed(() => this.adressentyp),\n\t\t\tsachaufwandtyp: Vue.computed(() => this.sachaufwandtyp),\n\t\t\tkarenztypen: Vue.computed(() => this.karenztypen),\n\t\t\tgehaltstypen: Vue.computed(() => this.gehaltstypen),\n\t\t\tvertragsbestandteiltypen: Vue.computed(() => this.vertragsbestandteiltypen),\n\t\t\tfreitexttypen: Vue.computed(() => this.freitexttypen),\n\t\t\tteilzeittypen: Vue.computed(() => this.teilzeittypen),\n\t\t\thourlyratetypes: Vue.computed(() => this.hourlyratetypes),\n\t\t\tunternehmen: Vue.computed(() => this.unternehmen),\n\t\t\tbeendigungsgruende: Vue.computed(() => this.beendigungsgruende),\n\t\t\tcisRoot: CIS_ROOT\n\t\t}\n\t},\n\tdata () {\n\t\treturn {\n\t\t\tsprache: {},\n\t\t\tvertragsarten: {},\n\t\t\tnations: {},\n\t\t\tausbildung: {},\n\t\t\torte: {},\n\t\t\tstandorte: {},\n\t\t\tkontakttyp: {},\n\t\t\tadressentyp: {},\n\t\t\tsachaufwandtyp: {},\n\t\t\tkarenztypen: {},\n\t\t\tgehaltstypen: {},\n\t\t\tvertragsbestandteiltypen: {},\n\t\t\tfreitexttypen: {},\n\t\t\tteilzeittypen: {},\n\t\t\thourlyratetypes: {},\n\t\t\tunternehmen: {},\n\t\t\tbeendigungsgruende: {},\n\n\t\t\tpersonid: null,\n\t\t\tbetriebsmittelEndpoint: ApiBetriebsmittelperson,\n\t\t\ttabulatorOptions:\n\t\t\t{\n\t\t\t\tpersistenceID: \"schluesselverwaltung_20250722_v2\",\n\t\t\t\tlayout: 'fitColumns',\n\n\t\t\t\tfooterElement: '<div>&sum; <span id=\"search_count\"></span> / <span id=\"total_count\"></span></div>',\n\t\t\t\tcolumns: [\n\t\t\t\t\t{title: \"UID\", field: \"UID\", headerFilter: true},\n\t\t\t\t\t{title: \"Person ID\", field: \"PersonId\", headerFilter: true},\n\t\t\t\t\t{title: \"Vorname\", field: \"Vorname\", headerFilter: true},\n\t\t\t\t\t{title: \"Nachname\", field: \"Nachname\", headerFilter: true},\n\t\t\t\t\t{title: \"EMail\", field: \"EMail\", headerFilter: true},\n\t\t\t\t\t{title: \"Unternehmen\", field: \"Unternehmen\", headerFilter: \"list\", headerFilterFunc:\"=\", headerFilterParams: {valuesLookup:true, autocomplete: true, sort: \"asc\"}},\n\t\t\t\t\t{title: \"Vertragsart\", field: \"Vertragsart\", headerFilter: false},\n\t\t\t\t\t{title: \"DV_von\", field: \"DV_von\", headerFilter: true},\n\t\t\t\t\t{title: \"DV_bis\", field: \"DV_bis\", headerFilter: true},\n\t\t\t\t\t{title: \"Wochenstunden\", field: \"Wochenstunden\", headerFilter: true},\n\t\t\t\t\t{title: \"WS_von\", field: \"WS_von\", headerFilter: true},\n\t\t\t\t\t{title: \"WS_bis\", field: \"WS_bis\", headerFilter: true},\n\t\t\t\t\t{title: \"Standardkostenstelle\", field: \"Standardkostenstelle\", headerFilter: \"list\", headerFilterFunc:\"=\", headerFilterParams: {valuesLookup:true, autocomplete: true, sort: \"asc\"}},\n\t\t\t\t\t{title: \"Disziplinäre Zuordnung\", field: \"Disziplinäre Zuordnung\", headerFilter: \"list\", headerFilterFunc:\"=\", headerFilterParams: {valuesLookup:true, autocomplete: true, sort: \"asc\"}},\n\t\t\t\t\t{title: \"Dienstverhaeltnis ID\", field: \"DienstverhaeltnisId\", headerFilter: true},\n\t\t\t\t\t{title: \"DV_status\", field: \"DV_status\", headerFilter: \"list\", headerFilterFunc:\"=\", headerFilterParams: {valuesLookup:true, autocomplete: true, sort: \"asc\"}},\n\t\t\t\t]\n\t\t\t},\n\t\t\ttabulatorEvents: [\n\t\t\t\t{\n\t\t\t\t\tevent: 'rowClick',\n\t\t\t\t\thandler: this.onRowClick\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tevent: \"dataFiltered\",\n\t\t\t\t\thandler: function(filters, rows) {\n\t\t\t\t\t\tlet el = document.getElementById(\"search_count\");\n\t\t\t\t\t\tel.innerHTML = rows.length;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tevent: 'dataLoaded',\n\t\t\t\t\thandler: function(data) {\n\t\t\t\t\t\tlet el = document.getElementById(\"total_count\");\n\t\t\t\t\t\tel.innerHTML = data.length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t],\n\t\t}\n\t},\n\tcreated()\n\t{\n\t\tthis.$api.call(ApiCommon.getSprache())\n\t\t\t.then(result => {\n\t\t\t\tthis.sprache = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getVertragsarten())\n\t\t\t.then(result => {\n\t\t\t\tthis.vertragsarten = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getNations())\n\t\t\t.then(result => {\n\t\t\t\tthis.nations = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getAusbildung())\n\t\t\t.then(result => {\n\t\t\t\tthis.ausbildung = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getOrte())\n\t\t\t.then(result => {\n\t\t\t\tthis.orte = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getStandorteIntern())\n\t\t\t.then(result => {\n\t\t\t\tthis.standorte = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getKontakttyp())\n\t\t\t.then(result => {\n\t\t\t\tthis.kontakttyp = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getAdressentyp())\n\t\t\t.then(result => {\n\t\t\t\tthis.adressentyp = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getSachaufwandTyp())\n\t\t\t.then(result => {\n\t\t\t\tthis.sachaufwandtyp = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getKarenztypen())\n\t\t\t.then(result => {\n\t\t\t\tthis.karenztypen = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\n\t\tthis.$api.call(ApiCommon.getTeilzeittypen())\n\t\t\t.then(result => {\n\t\t\t\tthis.teilzeittypen = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\n\t\tthis.$api.call(ApiCommon.getGehaltstypen())\n\t\t\t.then(result => {\n\t\t\t\tthis.gehaltstypen = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getVertragsbestandteiltypen())\n\t\t\t.then(result => {\n\t\t\t\tthis.vertragsbestandteiltypen = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getFreitexttypen())\n\t\t\t.then(result => {\n\t\t\t\tthis.freitexttypen = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiCommon.getStundensatztypen())\n\t\t\t.then(result => {\n\t\t\t\tthis.hourlyratetypes = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiDV.getUnternehmen())\n\t\t\t.then(result => {\n\t\t\t\tthis.unternehmen = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\n\t\tthis.$api.call(ApiDV.getDvEndeGruende())\n\t\t\t.then(result => {\n\t\t\t\tthis.beendigungsgruende = result.data\n\t\t\t})\n\t\t\t.catch(this.$fhcAlert.handleSystemError);\n\t},\n\tmethods: {\n\t\tonRowClick(e, row) {\n\t\t\tthis.personid = row.getData().PersonId;\n\t\t\tthis.personuid = row.getData().UID;\n\t\t}\n\t},\n\ttemplate: `\n\t<!-- Navigation -->\n\t<core-navigation-cmpt></core-navigation-cmpt>\n\n\t<div class=\"content\">\n\t\t<core-vertical-split>\n\t\t\t<template #top>\n\t\t\t\t<div class=\"d-flex flex-column\" style=\"height: 100%;\">\n\t\t\t\t\t<core-filter-cmpt\n\t\t\t\t\t\tfilter-type=\"Schluesselverwaltung\"\n\t\t\t\t\t\tref=\"table\"\n\t\t\t\t\t\t:tabulator-options=\"tabulatorOptions\"\n\t\t\t\t\t\t:tabulator-events=\"tabulatorEvents\"\n\t\t\t\t\t\t:side-menu=\"false\"\n\t\t\t\t\t\t:reload=false\n\t\t\t\t\t>\n\t\t\t\t\t</core-filter-cmpt>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template #bottom>\n\t\t\t\t<employee-header v-if=\"personid != null\" ref=\"employeeHeaderRef\"  :personID=\"personid\" :personUID=\"personuid\" restricted ></employee-header> \n\t\t\t\t<employee-contract-info v-if=\"personid != null\" ref=\"contractInfoRef\" :personID=\"personid\" :personUID=\"personuid\" />\n\t\t\t\t <div v-if=\"personid!=null\">\n\t\t\t\t\t<job-function :readonlyMode=\"true\" :personID=\"personid\" :personUID=\"personuid\"></job-function>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"row pt-md-4\" v-if=\"personid!=null\">      \n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<div class=\"card\">\n\t\t\t\t\t\t\t<div class=\"card-header\">\n\t\t\t\t\t\t\t\t<div class=\"h5 mb-0\"><h5>{{ $p.t('ui', 'betriebsmittel') }}</h5></div>        \n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"card-body\">\n\t\t\t\t\t\t\t\t<betriebsmittel \n\t\t\t\t\t\t\t\t\t:endpoint=\"betriebsmittelEndpoint\"\n\t\t\t\t\t\t\t\t\ttype-id=\"person_id\"\n\t\t\t\t\t\t\t\t\t:id=\"personid\"\n\t\t\t\t\t\t\t\t\t:uid=\"personuid\"\n\t\t\t\t\t\t\t\t\t:betriebsmittelTypes=\"betriebsmittelTypes\"\n\t\t\t\t\t\t\t\t\t:filterByProvidedTypes=\"filterByProvidedTypes\"\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</core-vertical-split>\n\t</div>\n\n\t`\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/search';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchAdvanced(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/searchAdvanced';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchdummy(searchsettings) {\n\t\tconst url = 'public/js/apps/api/dummyapi.php/Search';\n\t\treturn this.$fhcApi.post(url, searchsettings);\n\t}\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/loadModule/' + category);\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst payload = {categories, language}\n\t\treturn this.$fhcApi.post('/api/frontend/v1/phrasen/setLanguage', payload);\n\t},\n\tgetLanguage() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getLanguage', {});\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getAllLanguages', {});\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/header',\n\t\t\t{ navigation_page }\n\t\t);\n\t},\n\tgetMenu: function(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/menu',\n\t\t\t{ navigation_page }\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/saveCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t);\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/applyFilterFields',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t);\n\t},\n\taddFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/addFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tgetFilter(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tabmeldung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/abmeldung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(stdsem, prestudent_id, grund) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/abmeldung/createAntrag', {\n\t\t\t\tstudiensemester: stdsem,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\tif (!Array.isArray(antrag_id))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t\t{ antrag_id }\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag_id.map(antrag => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t{ antrag_id: antrag.studierendenantrag_id },\n\t\t\t\t{ errorHeader: '#' + antrag.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t},\n\tunterbrechung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/unterbrechung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(studiensemester, prestudent_id, grund, datum_wiedereinstieg, attachment) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/createAntrag', {\n\t\t\t\tstudiensemester,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund,\n\t\t\t\tdatum_wiedereinstieg,\n\t\t\t\tattachment\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/cancelAntrag', {\n\t\t\t\tantrag_id\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t}\n\t},\n\twiederholung: {\n\t\tgetDetails(prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/' + prestudent_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tgetLvs(antrag_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getLvs/' + antrag_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tcreate(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/createAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/cancelAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tsaveLvs(forbiddenLvs, mandatoryLvs) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/saveLvs', {\n\t\t\t\tforbiddenLvs,\n\t\t\t\tmandatoryLvs\n\t\t\t});\n\t\t}\n\t},\n\tleitung: {\n\t\tgetStgs() {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getActiveStgs');\n\t\t},\n\t\tgetAntraege(url, config, params) {\n\t\t\treturn this.$fhcApi\n\t\t\t\t.get('/api/frontend/v1/studstatus/leitung/getAntraege/' + url)\n\t\t\t\t.then(res => res.data); // Return data for tabulator\n\t\t},\n\t\tgetHistory(antrag_id) {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getHistory/' + antrag_id)\n\t\t},\n\t\tgetPrestudents(query, signal) {\n\t\t\treturn this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/getPrestudents',\n\t\t\t\t{ query },\n\t\t\t\t{\n                                    signal: signal,\n                                    timeout: 30000\n                                }\n\t\t\t);\n\t\t},\n\t\tapprove(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treopen(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tunpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tobject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tapproveObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tdenyObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t}\n};","export default {\n\n  getView: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getView/${uid}`,{}\n    );\n  },\n\n  fotoSperre: function (value) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/fotoSperre/${value}`,\n      {}\n    );\n    \n  },\n\n  isStudent: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isStudent`,\n      {\n        uid:uid,\n      }\n    );\n  },\n\n  isMitarbeiter: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isMitarbeiter/${uid}`,\n      {}\n    );\n  },\n\n  getZustellAdresse: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellAdresse`,{}\n    );\n  },\n\n  getZustellKontakt: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellKontakt`,{}\n    );\n  },\n\n  getGemeinden: function(nation,zip){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getGemeinden/${nation}/${zip}`,\n      {}\n    );\n    \n  },\n  getAllNationen:function(){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      \"/api/frontend/v1/Profil/getAllNationen\",{}\n    );\n  },\n}","export default {\n    //! API calls for profil update requests\n  \n    getStatus: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getStatus`,{});\n    },\n  \n    getTopic: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getTopic`,{});\n    },\n  \n    acceptProfilRequest: function ({profil_update_id, uid, status_message, topic, requested_change}) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/acceptProfilRequest\",{profil_update_id, uid, status_message, topic, requested_change});\n    },\n  \n    denyProfilRequest: function ({profil_update_id, uid, topic, status_message}) {\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/denyProfilRequest\",{profil_update_id,uid,topic,status_message});\n    },\n  \n    insertFile: function (dms, replace = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n        dms);\n\n    },\n    \n    getProfilRequestFiles: function (requestID) {\n      return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`,{});\n    },\n  \n    selectProfilRequest: function (uid = null, id = null) {\n\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/selectProfilRequest`,\n        {...(uid?{uid}:{}),\n          ...(id?{id}:{})\n        });\n    },\n  \n    insertProfilRequest: function (topic, payload, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/insertProfilRequest\",\n        {\n          topic,\n          payload,\n          ...(fileID ? { fileID } : {}),\n        });\n    },\n  \n    updateProfilRequest: function (topic, payload, ID, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/updateProfilRequest`,\n        {\n          topic,\n          payload,\n          ID,\n          ...(fileID ? { fileID: fileID } : {}),\n        });\n    },\n  \n    deleteProfilRequest: function (requestID) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/deleteProfilRequest`,\n        {\n          requestID,\n        });\n    },\n  };\n  ","\nexport default {\n\tgetRoomInfo(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getRoomplan',\n\t\t\t{  ort_kurzbz, start_date, end_date}\n\t\t);\n\t},\n\tgetStunden() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/Stunden',\n\t\t\t{}\n\t\t);\n\t},\n\tgetOrtReservierungen(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/LvPlan/getReservierungen/${ort_kurzbz}`,\n\t\t\t{ start_date, end_date}\n\t\t);\n\t},\n\tgetLvPlanReservierungen(start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getReservierungen',\n\t\t\t{ start_date, end_date }\n\t\t);\n\t},\n\tgetLehreinheitStudiensemester(lehreinheit_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${lehreinheit_id}`,\n\t\t\t{}\n\t\t);\n\t},\n\tstudiensemesterDateInterval(date) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${date}`,\n\t\t\t{}\n\t\t);\n\t},\n\tLvPlanEvents(start_date, end_date, lv_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/LvPlanEvents',\n\t\t\t{ start_date, end_date, lv_id }\n\t\t);\n\t},\n\t\n\t\n};","import verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport group from './stv/group.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport archiv from './stv/archiv.js';\nimport documents from './stv/documents.js';\nimport exemptions from './stv/exemptions.js';\nimport jointstudies from \"./stv/jointstudies.js\";\nimport courselist from './stv/courselist.js';\n\nexport default {\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tgroup,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tarchiv,\n\tdocuments,\n\texemptions,\n\tjointstudies,\n\tcourselist,\n\tconfigStudent() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/student');\n\t},\n\tconfigStudents() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/students');\n\t}\n};\n","export default {\n\tget() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/verband');\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/stv/favorites');\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/stv/favorites/set', {\n\t\t\t\tfavorites\n\t\t\t});\n\t\t}\n\t}\n}","export default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tverband(relative_path) {\n\t\treturn this.$fhcApi.getUri('api/frontend/v1/stv/students/' + relative_path);\n\t}\n}","export default {\n\tgetStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/filter/getStg');\n\t},\n\tsetStg(studiengang_kz) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/filter/setStg', {\n\t\t\tstudiengang_kz\n\t\t});\n\t}\n};","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/konto/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id),\n\t\t\t\tonly_open: self.filter,\n\t\t\t\tstudiengang_kz: self.studiengang_kz_intern ? self.stg_kz : ''\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tcheckDoubles(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/checkDoubles', data, {\n\t\t\tconfirmErrorHandler: error => true\n\t\t});\n\t},\n\tinsert(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/insert', data);\n\t},\n\tcounter(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/counter', data);\n\t},\n\tedit(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/update', data);\n\t},\n\tdelete(buchungsnr) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/delete', {buchungsnr});\n\t},\n\tgetBuchungstypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/konto/getBuchungstypen');\n\t}\n};","export default {\n\tgetGruppen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/Gruppen/getGruppen/' + params.id);\n\t},\n\tdeleteGroup(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/Gruppen/deleteGruppe/', params);\n\t}\n}","export default {\n\t//------------- address.js-----------\n\tgetAdressen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressen/' + params.id);\n\t},\n\taddNewAddress(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewAddress/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadAddress(address_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadAddress/', {address_id});\n\t},\n\tupdateAddress(form, address_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteAddress(address_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteAddress/', {address_id});\n\t},\n\tgetPlaces(plz) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getPlaces/' + plz);\n\t},\n\tgetFirmen(searchString) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getFirmen/' + searchString);\n\t},\n\tgetNations() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getNations/');\n\t},\n\tgetAdressentypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressentypen/');\n\t},\n\n\t//------------- bankverbindung.js-----------\n\tgetBankverbindung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getBankverbindung/' + params.id);\n\t},\n\taddNewBankverbindung(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewBankverbindung/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadBankverbindung(bankverbindung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadBankverbindung/', {bankverbindung_id});\n\t},\n\tupdateBankverbindung(form, bankverbindung_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateBankverbindung/' + bankverbindung_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteBankverbindung(bankverbindung_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteBankverbindung/', {bankverbindung_id});\n\t},\n\n\t//------------- contact.js-----------\n\tgetKontakte (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakte/' + params.id);\n\t},\n\taddNewContact(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewContact/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadContact(kontakt_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadContact/', {kontakt_id});\n\t},\n\tupdateContact(form, kontakt_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateContact/' + kontakt_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteContact(kontakt_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteContact/', {kontakt_id});\n\t},\n\tgetStandorteByFirma(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getStandorteByFirma/' + searchString);\n\t},\n\tgetKontakttypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakttypen/');\n\t}\n};","export default {\n\n//------------- Prestudent.js------------------------------------------------------\n\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn \tthis.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/prestudent/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t);\n\t},\n\tupdatePrestudent(form, prestudent_id, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/prestudent/updatePrestudent/' + prestudent_id,\n\t\t\tdata\n\t\t);\n\t},\n\tgetBezeichnungZGV() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungZGV/');\n\t},\n\tgetBezeichnungMZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungMZgv/');\n\t},\n\tgetBezeichnungDZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungDZgv/');\n\t},\n\tgetStgs() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStgs/');\n\t},\n\tgetAusbildung() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAusbildung/');\n\t},\n\tgetAufmerksamdurch() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAufmerksamdurch/');\n\t},\n\tgetBerufstaetigkeit() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBerufstaetigkeit/');\n\t},\n\tgetTypenStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getTypenStg/');\n\t},\n\tgetBisstandort() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBisstandort/');\n\t},\n\n//------------- MultiStatus.js------------------------------------------------------\n\tgetHistoryPrestudent (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getHistoryPrestudent/' + params.id);\n\t},\n\tgetMaxSem(studiengang_kzs) {\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/status/getMaxSemester/', {studiengang_kzs});\n\t},\n\tadvanceStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/advanceStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tconfirmStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/confirmStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tisLastStatus(id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/isLastStatus/' + id);\n\t},\n\tdeleteStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/deleteStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tgetLastBismeldestichtag() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getLastBismeldestichtag/');\n\t},\n\n//------------- History.js------------------------------------------------------\n\tgetHistoryPrestudents (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getHistoryPrestudents/' + params.id);\n\t},\n\n}","export default {\n\n//------------- Modal.js------------------------------------------------------\n\n\tinsertStatus(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/status/insertStatus/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/status/loadStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tupdateStatus(form, {prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}, data) {\n\t\treturn this.$fhcApi.post(\n\t\t\tform,\n\t\t\t'api/frontend/v1/stv/status/updateStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester,\n\t\t\tdata\n\t\t);\n\t},\n\tgetStudienplaene(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudienplaene/' + prestudent_id);\n\t},\n\tgetStudiengang(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudiengang/' + prestudent_id);\n\t},\n\tgetStatusgruende() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusgruende/');\n\t},\n\tgetStati() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStati/');\n\t},\n\n//------------- Dropdown.js------------------------------------------------------\n\n\taddStudent(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/addStudent/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tchangeStatus(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/changeStatus/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tgetStatusarray() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusarray/');\n\t}\n}","export default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/student/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(url);\n\t},\n\tsave(form, prestudent_id, studiensemester_kurzbz, data) {\n\t\tlet url = 'api/frontend/v1/stv/student/save/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(form, url, data);\n\t},\n}\n","export default {\n\tgetPruefungen(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getPruefungen/' + params.id);\n\t},\n\tloadPruefung(pruefung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/loadPruefung/' + pruefung_id);\n\t},\n\tgetTypenPruefungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getTypenPruefungen');\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/getAllLehreinheiten/', data)\n\t},\n\tgetLvsByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsByStudent/' + uid)\n\t},\n\tgetLvsandLesByStudent(uid, semester){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsandLesByStudent/' + uid + '/' + semester);\n\t},\n\tgetLvsAndMas(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsAndMas/' + uid)\n\t},\n\tgetMitarbeiterLv(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getMitarbeiterLv/' + id)\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getNoten');\n\t},\n\tcheckZeugnisnoteLv(data){\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/', data)\n\t},\n\taddPruefung(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/insertPruefung/',  data);\n\t},\n\tupdatePruefung(form, id, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/updatePruefung/' + id,  data);\n\t},\n\tdeletePruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/deletePruefung/' + id)\n\t}\n}","export default {\n\n\tgetAbschlusspruefung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/' + params.id);\n\t},\n\taddNewAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/', data\n\t\t);\n\t},\n\tloadAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/', {id});\n\t},\n\tupdateAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/', data\n\t\t);\n\t},\n\tdeleteAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/', {id});\n\t},\n\tgetTypenAbschlusspruefung(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/');\n\t},\n\tgetTypenAntritte(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/');\n\t},\n\tgetBeurteilungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/');\n\t},\n\tgetAkadGrade(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getAkadGrade/', {studiengang_kz});\n\t},\n\tgetTypStudiengang(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/', {studiengang_kz});\n\t},\n\tgetMitarbeiter(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/' + searchString);\n\t},\n\tgetPruefer(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getPruefer/' + searchString);\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getNoten/');\n\t},\n\tcheckForExistingExams(uids) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/', {uids}\n\t\t);\n\t}\n}","export default {\n\tlist() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/grades/list');\n\t},\n\tgetCertificate(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getCertificate/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetTeacherProposal(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getTeacherProposal/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetRepeaterGrades(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getRepeaterGrades/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tupdateCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, note, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/updateCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz,\n\t\t\t\tnote\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tdeleteCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/deleteCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyTeacherProposalToCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyTeacherProposalToCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id, lv_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate',\n\t\t\t{\n\t\t\t\tstudierendenantrag_lehrveranstaltung_id\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lv_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tgetGradeFromPoints(points, lehrveranstaltung_id, studiensemester_kurzbz, manualErrorHandling) {\n\t\tconst config = manualErrorHandling ? {errorHandling: false} : {};\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/grades/getGradeFromPoints',\n\t\t\t{\n\t\t\t\t\"points\": points,\n\t\t\t\t\"lehrveranstaltung_id\": lehrveranstaltung_id,\n\t\t\t\t\"studiensemester_kurzbz\": studiensemester_kurzbz\n\t\t\t},\n\t\t\tconfig\n\t\t\t);\n\t}\n}","export default {\n\tgetMobilitaeten (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getMobilitaeten/' + params.id);\n\t},\n\tgetProgramsMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getProgramsMobility/');\n\t},\n\taddNewMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/insertMobility/', data);\n\t},\n\tloadMobility(bisio_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/loadMobility/' + bisio_id);\n\t},\n\tupdateMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/updateMobility/', data);\n\t},\n\tdeleteMobility(bisio_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobility/' + bisio_id);\n\t},\n\tgetLVList(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLVList/' + studiengang_kz);\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/getAllLehreinheiten/', data)\n\t},\n\tgetLvsandLesByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLvsandLesByStudent/' + uid);\n\t},\n\tgetPurposes(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getPurposes/' + params.id);\n\t},\n\tgetSupports(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getSupports/' + params.id);\n\t},\n\tgetListPurposes() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListPurposes/');\n\t},\n\tgetListSupports() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListSupports/');\n\t},\n\tdeleteMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilityPurpose/' + params.bisio_id, params);\n\t},\n\taddMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilityPurpose/' + params.bisio_id, params);\n\t},\n\tdeleteMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilitySupport/' + params.bisio_id, params);\n\t},\n\taddMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilitySupport/' + params.bisio_id, params);\n\t},\n\n}","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/archiv/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id)\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tgetArchivVorlagen() {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/getArchivVorlagen');\n\t},\n\tarchive(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archive',\n\t\t\tdata\n\t\t);\n\t},\n\tarchiveSigned(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archiveSigned',\n\t\t\tdata\n\t\t);\n\t},\n\tupdate(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/update', data);\n\t},\n\tdelete({akte_id, studiengang_kz}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/delete', {akte_id, studiengang_kz});\n\t}\n};\n","export default {\n\tgetDocumentsUnaccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tgetDocumentsAccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsAccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tdeleteZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteZuordnung/' + params.prestudent_id + '/' + params.dokument_kurzbz);\n\t},\n\tcreateZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/createZuordnung/'\n\t\t\t+ params.prestudent_id + '/'\n\t\t\t+ params.dokument_kurzbz);\n\t},\n\tloadAkte(akte_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/loadAkte/' + akte_id);\n\t},\n\tgetDoktypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDoktypen/');\n\t},\n\tupdateFile(akte_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/updateAkte/' + akte_id,\n\t\t\tdata);\n\t},\n\tdeleteFile(akte_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteAkte/' + akte_id);\n\t},\n\tuploadFile(prestudent_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/uploadDokument/' + prestudent_id,\n\t\t\tdata);\n\t},\n}","export default {\n\tgetAnrechnungen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getAnrechnungen/' + params.id);\n\t},\n\tgetLehrveranstaltungen(prestudent_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/' + prestudent_id);\n\t},\n\tgetBegruendungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getBegruendungen/');\n\t},\n\tgetLvsKompatibel(lv_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLvsKompatibel/' + lv_id);\n\t},\n\tgetLektoren(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLektoren/' + studiengang_kz);\n\t},\n\taddNewAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/insertAnrechnung/', data);\n\t},\n\tloadAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/loadAnrechnung/' + anrechnung_id);\n\t},\n\teditAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/updateAnrechnung/', data);\n\t},\n\tdeleteAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/anrechnungen/deleteAnrechnung/' + anrechnung_id);\n\t},\n}","export default {\n\tgetStudies(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudien/' + params.id);\n\t},\n\tgetTypenMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/');\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/');\n\t},\n\tgetStudyprograms(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/');\n\t},\n\tgetListPartner(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/');\n\t},\n\tgetStatiPrestudent(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/');\n\t},\n\tloadStudy(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/loadStudie/' + id);\n\t},\n\tinsertStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/insertStudie/', data);\n\t},\n\tupdateStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/updateStudie/', data);\n\t},\n\tdeleteStudy(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/GemeinsameStudien/deleteStudie/' + id);\n\t},\n\n}","export default {\n\tgetCourselist(url, config, params) {\n\t\t//corresponding logic controller Stundenplan.php\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStundenplan/'\n\t\t\t+ params.student_uid + '/'\n\t\t\t+ params.start_date + '/'\n\t\t\t+ params.end_date + '/'\n\t\t\t+ params.group_consecutiveHours + '/'\n\t\t\t+ params.dbStundenplanTable\n\t\t);\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStudiensemester/');\n\t},\n}","import person from \"./notiz/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetNotizen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getNotizen/' + params.id + '/' + params.type);\n\t},\n\tgetUid(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getUid/');\n\t},\n\taddNewNotiz(form, id, formData) {\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/addNewNotiz/' + id,\n\t\t\tformData\n\t\t);\n\t},\n\tloadNotiz(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadNotiz/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tloadDokumente(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadDokumente/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tdeleteNotiz(notiz_id, type_id, id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/deleteNotiz/', {\n\t\t\tnotiz_id,\n\t\t\ttype_id,\n\t\t\tid\n\t\t});\n\t},\n\tupdateNotiz(form, notiz_id, formData){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/updateNotiz/' + notiz_id,\n\t\t\tformData\n\t\t);\n\t},\n\tgetMitarbeiter(event){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getMitarbeiter/' + event);\n\t},\n\tisBerechtigt(id, type_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/isBerechtigt/');\n\t}\n}","import person from \"./betriebsmittel/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetAllBetriebsmittel(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + params.type + '/' + params.id);\n\t},\n\taddNewBetriebsmittel(form, person_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' +\n\t\t\tperson_id, formData\n\t\t);\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id);\n\t},\n\tupdateBetriebsmittel(form, betriebsmittelperson_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tformData);\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id);\n\t},\n\tgetTypenBetriebsmittel(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/');\n\t},\n\tloadInventarliste(query){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery);\n\t}\n}","export default {\n\tupdatePersonUnrulyStatus(person_id, unrulyParam) {\n\n\t\ttry {\n\t\t\tconst payload = {person_id, unruly: unrulyParam}\n\t\t\tconst url = '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus';\n\t\t\treturn this.$fhcApi.post(url, payload, null);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t},\n\tfilterPerson(payload, base = ''){\n\n\t\ttry {\n\t\t\tconst url = base + '/api/frontend/v1/checkperson/CheckPerson/filterPerson';\n\t\t\treturn axios.post(url, payload)\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t}\n}","export default {\n  getContentID(ort_kurbz) {\n\t\treturn this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            \"/api/frontend/v1/Ort/ContentID\",\n\t\t\t{ ort_kurzbz: ort_kurbz }\n\t\t);\n\t},\n\tgetRooms(datum, von, bis, typ, personenanzahl = 0) {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getRooms\",\n\t\t\t{ datum, von, bis, typ, personenanzahl }\n\t\t);\n\t},\n\tgetRoomTypes() {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getTypes\"\n\t\t);\n\t}\n}","export default {\n    content(content_id, version=null, sprache=null, sichtbar=null) {\n        return this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/content\",\n\t\t\t{ \n\t\t\t\tcontent_id: content_id,\n\t\t\t\t...(version?{version}:{}),\n\t\t\t\t...(sprache?{sprache}:{}),\n\t\t\t\t...(sichtbar?{sichtbar}:{}),\n            }\n        );\n    },\n\t//api function used for the news View that renders the html\n\tgetNews(page = 1, page_size = 10, sprache) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNews\",\n\t\t\t{\n\t\t\t\tpage,\n\t\t\t\tpage_size,\n\t\t\t\tsprache,\n\t\t\t},\n\t\t);\n\t},\n\t//api function used for the widget component\n\tnews(limit) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/news\",\n\t\t\t{\n\t\t\t\tlimit: limit\n\t\t\t}\n\t\t);\n\t},\n\tgetNewsRowCount: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNewsRowCount\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetNewsExtra: function(){\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getStudiengangInfoForNews\",\n\t\t\t{}\n\t\t);\n\t}\n  }","export default {\n    getStudentenMail(lehreinheit_id) {\n          return this.$fhcApi.get(\n              FHC_JS_DATA_STORAGE_OBJECT.app_root +\n              FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n              \"/api/frontend/v1/Lehre/lvStudentenMail\",\n              { lehreinheit_id: lehreinheit_id }\n          );\n      },\n\tgetLvInfo(studiensemester_kurzbz, lehrveranstaltung_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/LV/${studiensemester_kurzbz}/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentPruefungen(lehrveranstaltung_id){\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/Pruefungen/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektarbeiten(uid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${uid}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektabgaben(detail) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektabgaben`\n\t\t\t, {\n\t\t\t\tprojektarbeit_id: detail.projektarbeit_id,\n\t\t\t\tstudent_uid: detail.student_uid\n\t\t\t}\n\t\t);\n\t},\n\tpostStudentProjektarbeitEndupload(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tpostStudentProjektarbeitZwischenabgabe(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tgetStudentProjektarbeitAbgabeFile(paabgabe_id, student_uid) {\n\t\tconst url = `/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${paabgabe_id}&student_uid=${student_uid}`;\n\n\t\twindow.location = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + url\n\t},\n\tgetMitarbeiterProjektarbeiten(uid, all) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${all}`\n\t\t\t, {}\n\t\t);\n\t},\n\tpostProjektarbeitAbgabe(termin) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id: termin.paabgabe_id,\n\t\t\tpaabgabetyp_kurzbz: termin.bezeichnung.paabgabetyp_kurzbz,\n\t\t\tdatum: termin.datum,\n\t\t\tfixtermin: termin.fixtermin,\n\t\t\tinsertvon: termin.insertvon,\n\t\t\tkurzbz: termin.kurzbz,\n\t\t\tprojektarbeit_id: termin.projektarbeit_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t\t\n\t},\n\tdeleteProjektarbeitAbgabe(paabgabe_id) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tpostSerientermin(datum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids) {\n\t\tconst payload = {\n\t\t\tdatum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postSerientermin';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tfetchDeadlines(person_id) {\n\t\tconst payload = {\n\t\t\tperson_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/fetchDeadlines';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t}\n  }","export default {\n    getLvMenu(lvid, studiensemester_kurzbz) {\n        return this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            `/api/frontend/v1/LvMenu/getLvMenu/${lvid}/${studiensemester_kurzbz}`,\n            {}\n        );\n    },\n\n      \n  }","import person from \"./messages/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\t\tgetMessages(url, config, params) {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessages/' + params.id + '/' + params.type + '/' + params.size + '/' + params.page);\n\t\t},\n\t\tgetVorlagen(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getVorlagen/');\n\t\t},\n\t\tgetMsgVarsLoggedInUser(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/');\n\t\t},\n\t\tgetMessageVarsPerson(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessageVarsPerson/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetMsgVarsPrestudent(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsPrestudent/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPersonId(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getPersonId/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetUid(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getUid/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getDataVorlage/' + vorlage_kurzbz);\n\t\t},\n\t\tgetNameOfDefaultRecipient(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getNameOfDefaultRecipient/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPreviewText(params, data){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/getPreviewText/' + params.id + '/' + params.type_id,\n\t\t\t\tdata);\n\t\t},\n\t\tgetReplyData(messageId){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getReplyData/' + messageId);\n\t\t},\n\t\tsendMessageFromModalContext(form, id, data) {\n\t\t\treturn this.$fhcApi.post(form,'api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tsendMessage(id, data) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tdeleteMessage(messageId){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/deleteMessage/' + messageId);\n\t\t}\n}","export default {\n\tgetVorlagen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagen/');\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/');\n\t}\n}","export default {\n\n\tgetStudiensemester: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/components/Cis/Mylv/Studiensemester',\n\t\t\t{}\n\t\t);\n\t},\n\n\tgetAllStudienSemester: function (studiensemester=undefined, studiengang=undefined, semester=undefined, studienplan=undefined) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/Studium/getStudienAllSemester',\n\t\t\t{studiensemester, studiengang, semester, studienplan}\n\t\t);\n\t},\n\n\tgetStudiengaengeForStudienSemester: function (studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${studiensemester}`,\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudienplaeneBySemester: function (studiengang, studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudienplaeneBySemester`,\n\t\t\t{\n\t\t\t\tstudiengang,\n\t\t\t\tstudiensemester,\n\t\t\t}\n\t\t);\n\t},\n\tgetLvPlanForStudiensemester: function (studiensemester, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${studiensemester}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\tgetLvEvaluierungInfo: function (studiensemester_kurzbz, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getLvEvaluierungInfo/${studiensemester_kurzbz}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\t\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport search from \"./search.js\";\nimport phrasen from \"./phrasen.js\";\nimport navigation from \"./navigation.js\";\nimport filter from \"./filter.js\";\nimport studstatus from \"./studstatus.js\";\nimport profil from \"./profil.js\";\nimport profilUpdate from \"./profilUpdate.js\";\nimport lvPlan from \"./lvPlan.js\";\nimport bookmark from \"./bookmark.js\";\nimport stv from \"./stv.js\";\nimport notiz from \"./notiz.js\";\nimport betriebsmittel from \"./betriebsmittel.js\";\nimport checkperson from \"./checkperson.js\";\nimport ampeln from \"./ampeln.js\";\nimport ort from \"./ort.js\";\nimport cms from \"./cms.js\";\nimport lehre from \"./lehre.js\";\nimport addons from \"./addons.js\";\nimport messages from \"./messages.js\";\nimport vorlagen from \"./vorlagen.js\";\nimport studiengang from \"./studiengang.js\";\nimport menu from \"./menu.js\";\nimport dashboard from \"./dashboard.js\";\nimport authinfo from \"./authinfo.js\";\nimport studium from \"./studium.js\";\nimport language from \"./language.js\";\n\nexport default {\n    search,\n    phrasen,\n    navigation,\n    dashboard,\n    filter,\n    studstatus,\n    profil,\n    profilUpdate,\n    lvPlan,\n    bookmark,\n    stv,\n    notiz,\n    betriebsmittel,\n    checkperson,\n    ampeln,\n    ort,\n    cms,\n    lehre,\n    addons,\n    messages,\n    vorlagen,\n    addons,\n\tstudiengang,\n\tmenu,\n\tauthinfo,\n\tstudium,\n    language\n};\n","export default {\n\tasync getViewData() {\n\t\tconst url = `/api/frontend/v1/Cis4FhcApi/getViewData`;\n\t\treturn this.$fhcApi.get(url, null, null)\n\t},\n}","export default {\n\n    getBookmarks: function () {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/getBookmarks`\n        ,{}\n      );\n    },\n  \n    delete: function (bookmark_id) {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/delete/${bookmark_id}`\n        ,{}\n      ); \n    },\n\n\tupdate: function ({ bookmark_id, url, title, tag=null}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/Bookmark/update/${bookmark_id}`\n\t\t\t, {\n\t\t\t\turl: url,\n\t\t\t\ttitle: title\n\t\t\t}\n\t\t);\n\t},\n\n    insert: function ({url, title, tag}) {\n      return this.$fhcApi.post(\n        `/api/frontend/v1/Bookmark/insert`\n        ,{\n          url: url,\n          title: title,\n          tag: tag\n        }\n      ); \n    },\n}","export default {\n    \n    open: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/open`,{});\n    },\n\n    all: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/all`,{});\n    },\n\n    confirm: function (ampel_id) {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/confirm/${ampel_id}`,{});\n    },\n\n}","export default {\n\tstudiengangInformation: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Studgang/getStudiengangInfo\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudiengangByKz: function (studiengang_kz) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz\",\n\t\t\t{\n\t\t\t\t\"studiengang_kz\": studiengang_kz\n\t\t\t}\n\t\t);\n\t}\n}","export default {\n\tgetMenu: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/CisMenu/getMenu\",\n\t\t\t{}\n\t\t);\n\t}\n\n}","\nexport default {\n\tgetAuthUID() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthUID',\n\t\t\t{ }\n\t\t);\n\t},\n\tgetAuthInfo() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthInfo',\n\t\t\t{}\n\t\t);\n\t},\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAll() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/language/get');\n\t}\n};","/** TODO(chris):\n * when deleting this file be sure to\n * remove line 1 & 90 from ../plugins/Phrasen.js\n */\nimport FhcApiFactory from '../api/fhcapifactory.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\tconsole.warn('$fhcApi.getUri is DEPRECATED! Use $api.getUri instead.');\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\tconsole.warn('$fhcApi.get is DEPRECATED! Use $api.get instead.');\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\tconsole.warn('$fhcApi.post is DEPRECATED! Use $api.post instead.');\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart, true)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart, noWarn) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif (!noWarn) console.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","import FhcAlert from './FhcAlert.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$api) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!app.config.globalProperties.$fhcAlert)\n\t\t\tapp.use(FhcAlert);\n\n\t\tfunction _send_array_or_object(errors, func) {\n\t\t\tif (Array.isArray(errors))\n\t\t\t\terrors.forEach(func);\n\t\t\telse\n\t\t\t\tObject.entries(errors).forEach(\n\t\t\t\t\t([title, errs]) => errs.forEach(\n\t\t\t\t\t\terror => func(error, title)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t\tlet DEFAULT_ERROR_CONFIG = {\n\t\t\tsuccess: true,\n\t\t\tfail: true,\n\t\t\tcombine: {\n\t\t\t\tform: ['validation', 'general'],\n\t\t\t\ttoast: ['validation', 'general', 'not_found', 'site_failed']\n\t\t\t},\n\t\t\thandler: {\n\t\t\t\tform(form, errors) {\n\t\t\t\t\tform.clearValidation();\n\t\t\t\t\terrors.forEach(err => form.setFeedback(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\terr.messages || err.message\n\t\t\t\t\t));\n\t\t\t\t},\n\t\t\t\tasync toast(errors) {\n\t\t\t\t\tconst $p = app.config.globalProperties.$p;\n\t\t\t\t\tif (!$p)\n\t\t\t\t\t\treturn Promise.reject('Phrasen plugin not loaded!');\n\t\t\t\t\n\t\t\t\t\tasync function _format_toast(errors) {\n\t\t\t\t\t\terrors = errors.reduce((result, err) => {\n\t\t\t\t\t\t\tswitch (err.type) {\n\t\t\t\t\t\t\tcase 'not_found':\n\t\t\t\t\t\t\tcase 'site_failed':\n\t\t\t\t\t\t\t\tif (err.message)\n\t\t\t\t\t\t\t\t\tresult[err.message] = [err.url];\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tresult._default = [err.url];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'general':\n\t\t\t\t\t\t\t\tif (!result._default)\n\t\t\t\t\t\t\t\t\tresult._default = [];\n\t\t\t\t\t\t\t\tresult._default.push(err.message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'validation':\n\t\t\t\t\t\t\t\tObject.entries(err.messages)\n\t\t\t\t\t\t\t\t\t.forEach(([field, msg]) => {\n\t\t\t\t\t\t\t\t\t\tif (!result[field])\n\t\t\t\t\t\t\t\t\t\t\tresult[field] = [];\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(msg))\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(...msg);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(msg);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tlet counter = 0;\n\t\t\t\t\t\tconst msgs = await Promise.all(Object.entries(errors)\n\t\t\t\t\t\t\t.sort((a, b) => ['_default'].indexOf(b[0]) - ['_default'].indexOf(a[0])) // sort _default first\n\t\t\t\t\t\t\t.map(async ([field, msgs]) => {\n\t\t\t\t\t\t\t\tif (field == '_default') {\n\t\t\t\t\t\t\t\t\tawait $p.loadCategory('dashboard');\n\t\t\t\t\t\t\t\t\tconst general = $p.t('dashboard/general');\n\t\t\t\t\t\t\t\t\tfield = '<dt class=\"d-none\">' + general + '</dt>';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield = '<dt>' + field + '</dt>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcounter += msgs.length;\n\t\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t\t+ '<dd>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('</dd><dd>')\n\t\t\t\t\t\t\t\t\t+ '</dd>';\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcounter,\n\t\t\t\t\t\t\tmsgs\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter, msgs;\n\t\t\t\t\tif (Array.isArray(errors)) {\n\t\t\t\t\t\t({ counter, msgs } = await _format_toast(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t({ counter, msgs } = await Object.entries(errors)\n\t\t\t\t\t\t\t.reduce(async (res, [title, errs]) => {\n\t\t\t\t\t\t\t\tconst result = await res;\n\t\t\t\t\t\t\t\tconst { counter, msgs } = await _format_toast(errs);\n\t\t\t\t\t\t\t\tresult.counter += counter;\n\t\t\t\t\t\t\t\tresult.msgs.push('<dt>'\n\t\t\t\t\t\t\t\t\t+ title\n\t\t\t\t\t\t\t\t\t+ '</dt><dd><dl>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('')\n\t\t\t\t\t\t\t\t\t+ '</dl></dd>');\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}, Promise.resolve({ counter: 0, msgs: []})));\n\t\t\t\t\t}\n\n\t\t\t\t\tawait $p.loadCategory('ui');\n\t\t\t\t\tconst n_errors = $p.t('ui/n_errors', { n: counter });\n\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\tn_errors,\n\t\t\t\t\t\t'<dl>' + msgs.join('') + '</dl>',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tphp(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('warn', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('info', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\tmessage = title + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\texception(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tdb(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tauth(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\ttitle += ': ' + error.message;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttitle = error.message;\n\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (options?.errorHandling !== undefined)\n\t\t\tDEFAULT_ERROR_CONFIG = _merge_error_config(options.errorHandling);\n\t\t\n\t\tfunction get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\t\tfunction clean_return_value(response) {\n\t\t\tif (typeof response.data === 'string' || response.data instanceof String)\n\t\t\t\treturn clean_return_value({ data: response });\n\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = { response };\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tfunction _merge_error_config(config) {\n\t\t\tif (config === false || config === 'off')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false, fail: false };\n\t\t\t\n\t\t\tif (!config || config === true)\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tif (config === 'success')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, fail: false };\n\t\t\t\n\t\t\tif (config === 'fail')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false };\n\t\t\t\n\t\t\tconst { success, fail, handler, combine } = config;\n\t\t\t\n\t\t\tconfig = { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tObject.entries({ fail, success }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = value;\n\t\t\t});\n\t\t\tObject.entries({ handler, combine }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = { ...config[key], ...value };\n\t\t\t});\n\n\t\t\treturn config;\n\t\t}\n\t\tfunction get_error_handler(config) {\n\t\t\tconst result = _merge_error_config(config?.errorHandling);\n\n\t\t\tif (!config?.form) {\n\t\t\t\tresult.combine = { ...result.combine, form: [] };\n\t\t\t} else {\n\t\t\t\tconst formHandler = result.handler.form;\n\t\t\t\tresult.handler = { ...result.handler, form: errors => formHandler(config.form, errors) };\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tfunction get_error_list(error) {\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'not_found',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tif (error.response.data.errors == undefined) return [];\n\t\t\t\t\treturn error.response.data.errors;\n\t\t\t\t}\n\t\t\t} else if (error.request) {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'site_failed',\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'script',\n\t\t\t\t\tmessage: error.message\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\tfunction popHandleableErrors(errorHandling, errors) {\n\t\t\tconst result = {};\n\t\t\tconst copy = [];\n\n\t\t\tif (errors == undefined) return {};\n\n\t\t\twhile (errors.length)\n\t\t\t\tcopy.push(errors.pop());\n\t\t\tfor (var error of copy) {\n\t\t\t\tlet type = error.type;\n\t\t\t\tlet newType = null;\n\t\t\t\tfor (var t in errorHandling.combine) {\n\t\t\t\t\tlet newTypeCombinesType = errorHandling\n\t\t\t\t\t\t.combine[t]\n\t\t\t\t\t\t.includes(type);\n\t\t\t\t\tlet newTypeHasHandler = errorHandling.handler[t];\n\t\t\t\t\tif (newTypeCombinesType && newTypeHasHandler) {\n\t\t\t\t\t\tnewType = t;\n\t\t\t\t\t\tif (newType == 'form')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newType)\n\t\t\t\t\ttype = newType;\n\t\t\t\tconst handler = errorHandling.handler[type];\n\t\t\t\tif (handler) {\n\t\t\t\t\tif (!result[type])\n\t\t\t\t\t\tresult[type] = [];\n\t\t\t\t\tif (Array.isArray(error))\n\t\t\t\t\t\tresult[type].push(...error);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult[type].push(error);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\terrors.push(error);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t+ FHC_JS_DATA_STORAGE_OBJECT.ci_router\n\t\t\t\t+ \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(\n\t\t\tresponse => {\n\t\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\t\treturn clean_return_value(response);\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\tif (response.data.errors)\n\t\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$api._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t\t);\n\n\t\t\t\treturn clean_return_value(response);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\n\t\t\t\tconst errorConfig = get_error_handler(error.config);\n\n\t\t\t\tif (!errorConfig.fail)\n\t\t\t\t\treturn Promise.reject(error);\n\n\t\t\t\tconst remaining = get_error_list(error);\n\n\t\t\t\tconst errors = popHandleableErrors(errorConfig, remaining);\n\n\t\t\t\tfor (var type in errors) {\n\t\t\t\t\terrorConfig.handler[type](errors[type]);\n\t\t\t\t}\n\n\t\t\t\tif (remaining.length)\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\n\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\t\t\t}\n\t\t);\n\n\t\tapp.config.globalProperties.$api = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\tcall(factory, configoverwrite, form) {\n\t\t\t\tif (Array.isArray(factory)) {\n\t\t\t\t\tconst $api = app.config.globalProperties.$api;\n\n\t\t\t\t\treturn Promise\n\t\t\t\t\t\t.allSettled(factory.map((config, index) => {\n\t\t\t\t\t\t\tif (!Array.isArray(config))\n\t\t\t\t\t\t\t\tconfig = ['#' + index, config];\n\t\t\t\t\t\t\treturn $api.call(config[1], {\n\t\t\t\t\t\t\t\terrorHeader: config[0],\n\t\t\t\t\t\t\t\terrorHandling: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst [ , , config ] = get_config(form, undefined, undefined, configoverwrite || {});\n\t\t\t\t\t\t\tconst errorConfig = get_error_handler(config);\n\n\t\t\t\t\t\t\tif (!errorConfig.success && !errorConfig.fail) {\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst typedErrors = {};\n\t\t\t\t\t\t\tfor (var res of result) {\n\t\t\t\t\t\t\t\tconst [ allowed, item ] = res.status === 'fulfilled'\n\t\t\t\t\t\t\t\t\t? [ errorConfig.success, res.value ]\n\t\t\t\t\t\t\t\t\t: [ errorConfig.fail, res.reason ];\n\t\t\t\t\t\t\t\tif (!allowed)\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tconst errors = popHandleableErrors(errorConfig, get_error_list(item));\n\n\t\t\t\t\t\t\t\tfor (var type in errors) {\n\t\t\t\t\t\t\t\t\tif (!typedErrors[type])\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type] = {\n\t\t\t\t\t\t\t\t\t\t\t[item.config.errorHeader]: errors[type]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type][item.config.errorHeader] = errors[type];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var errType in typedErrors) {\n\t\t\t\t\t\t\t\terrorConfig.handler[errType](typedErrors[errType]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet { method, url, params, config } = factory;\n\t\t\t\tif (configoverwrite !== undefined) {\n\t\t\t\t\tconfig = configoverwrite;\n\t\t\t\t}\n\t\t\t\tif (!method) {\n\t\t\t\t\tmethod = 'get';\n\t\t\t\t}\n\t\t\t\tif (method.toLowerCase)\n\t\t\t\t\tmethod = method.toLowerCase();\n\t\t\t\tif (method == 'get') {\n\t\t\t\t\treturn this.get(form, url, params, config);\n\t\t\t\t} else if (method == 'post') {\n\t\t\t\t\treturn this.post(form, url, params, config);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"FhcApi: method not allowed:\", method);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetErrorHandler(config) {\n\t\t\t\treturn get_error_handler(config);\n\t\t\t}\n\t\t};\n\n\t\tapp.provide('$api', app.config.globalProperties.$api);\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/loadModule/' + category\n\t\t};\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst params = {categories, language}\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/phrasen/setLanguage',\n\t\t\tparams\n\t\t};\n\t},\n\tgetLanguage() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getLanguage'\n\t\t};\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getAllLanguages'\n\t\t};\n\t}\n};","import OldFhcApi from '../plugin/OldFhcApi.js'; // TODO(chris): remove at some point\nimport PluginsApi from './Api.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(ApiPhrasen.loadCategory(category))\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tif (!app.config.globalProperties.$fhcApi)\n\t\t\tapp.use(OldFhcApi); // TODO(chris): remove at some point\n\t\tif (!app.config.globalProperties.$api)\n\t\t\tapp.use(PluginsApi);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n//--------------------------------------------------------------------------------------------------------------------\n// Configs\n\n// To see debug messages into the browser console set this parameter as true\nconst CORE_REST_CLIENT_DEBUG = false;\n\n// Default timeout (milliseconds)\nconst CORE_REST_CLIENT_TIMEOUT = 5000;\n\n//--------------------------------------------------------------------------------------------------------------------\n// Constants\n\n// Success\nconst CORE_REST_CLIENT_SUCCESS = 0;\n\n// Properties present in a response\nconst CORE_REST_CLIENT_ERROR = \"error\";\nconst CORE_REST_CLIENT_RETVAL = \"retval\";\n\n// HTTP method parameters\nconst CRC_HTTP_GET_METHOD = \"get\";\nconst CRC_HTTP_POST_METHOD = \"post\";\n\n/**\n * Definition and initialization of the object CoreRESTClient\n */\nexport const CoreRESTClient = {\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Public methods\n\n\t/**\n\t * Performs a call using the HTTP GET method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tget: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_GET_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Performs a call using the HTTP POST method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tpost: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_POST_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Checks if the response is a success\n\t */\n\tisSuccess: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR)\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL) && response.error == CORE_REST_CLIENT_SUCCESS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Checks if the response is an error\n\t */\n\tisError: function(response) {\n\t\treturn !CoreRESTClient.isSuccess(response);\n\t},\n\n\t/**\n\t * Checks if the response has data\n\t */\n\thasData: function(response) {\n\n\t\tif (CoreRESTClient.isSuccess(response))\n\t\t{\n\t\t\tif ((typeof response[CORE_REST_CLIENT_RETVAL] === \"object\" && Object.keys(response[CORE_REST_CLIENT_RETVAL]).length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"array\" && response[CORE_REST_CLIENT_RETVAL].length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"string\" && response[CORE_REST_CLIENT_RETVAL].trim() != \"\")\n\t\t\t\t|| typeof response[CORE_REST_CLIENT_RETVAL] === \"number\")\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Retrives data from response object\n\t */\n\tgetData: function(response) {\n\n\t\tif (CoreRESTClient.hasData(response))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Retrives error message from response object\n\t */\n\tgetError: function(response) {\n\n\t\tif (typeof response === \"object\"\n\t\t\t&& Object.keys(response).length > 0\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn \"Generic error\";\n\t},\n\n\t/**\n\t * Retrives code from response object\n\t */\n\tgetErrorCode: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_ERROR];\n\t\t}\n\n\t\treturn 1; // Generic error\n\t},\n\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Private methods\n\n\t/**\n\t * Generate the router URI using the connection parameters\n\t */\n\t_generateRouterURI: function(wsURL) {\n\t\tvar uri = null;\n\n\t\t// Checks if global JS object FHC_JS_DATA_STORAGE_OBJECT exists\n\t\tif (typeof FHC_JS_DATA_STORAGE_OBJECT !== \"undefined\")\n\t\t{\n\t\t\turi = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\" + wsURL;\n\t\t}\n\n\t\treturn uri;\n\t},\n\n\t/**\n\t * Method to print debug info after a controller has been called\n\t */\n\t_printDebug: function(parameters, response, errorThrown) {\n\n\t\tif (CORE_REST_CLIENT_DEBUG === true) // If global const CORE_REST_CLIENT_DEBUG is true, but really true!\n\t\t{\n\t\t\t// Print info about called controller\n\t\t\tconsole.log(\"Called controller: \" + parameters.remoteController);\n\t\t\tconsole.log(\"Call parameters:\"); // parameters given to this call\n\t\t\tconsole.log(parameters);\n\n\t\t\tif (response != null) // if there is a response...\n\t\t\t{\n\t\t\t\tconsole.log(\"Controller Response:\");\n\t\t\t\tconsole.log(response); // ...print it\n\t\t\t}\n\t\t\tif (errorThrown != null) // if there is a jQuery error...\n\t\t\t{\n\t\t\t\tconsole.log(\"jQuery error:\");\n\t\t\t\tconsole.log(errorThrown); // ...print it\n\t\t\t}\n\t\t\tconsole.log(\"--------------------------------------------------------------------------------------------\");\n\t\t}\n\t},\n\n\t/**\n\t * Performs a call to the server were the CI PHP layer is running\n\t * - wsURL: alias of the core controller to call\n\t * - wsParameters: parameters to give to the called controller\n\t * - type: POST or GET HTTP method\n\t * - axiosParameters: an object to configure the axios call\n\t */\n\t_axiosCall: function(wsURL, wsParameters, type, axiosParameters) {\n\n\t\t// Axios config object\n\t\tlet axiosCallObj = {\n\t\t\tmethod: type,\n\t\t\turl: CoreRESTClient._generateRouterURI(wsURL),\n\t\t\ttimeout: CORE_REST_CLIENT_TIMEOUT // default time out\n\t\t};\n\n\t\t// The ajax call is HTTP GET\n\t\tif (type == CRC_HTTP_GET_METHOD)\n\t\t{\n\t\t\taxiosCallObj.params = wsParameters;\n\t\t}\n\t\t// The ajax call is HTTP POST\n\t\telse\n\t\t{\n\t\t\taxiosCallObj.data = wsParameters;\n\t\t}\n\n\t\t// Check if axiosParameters is an object\n\t\tif (typeof axiosParameters === \"object\")\n\t\t{\n\t\t\t// And then copies the its properties into axiosCallObj\n\t\t\tfor (var prop in axiosParameters) axiosCallObj[prop] = axiosParameters[prop];\n\t\t}\n\n\t\t// Perform the ajax call via axios\n\t\treturn axios(axiosCallObj);\n\t}\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n * \n * @usage:\n * Preperations:\n * Be sure to have PrimeVue loaded  with the toast and confirmdialog\n * components as primevue variable\n * Install:\n * Import this Plugin and install it with the app.use() function.\n * Use:\n * In your component you can call now the global property $fhcAlert\n * which has the following functions:\n * \n * alertSuccess\n * ------------\n * Displays a success message\n * @param string\tmessage\n * @return void\n * \n * alertInfo\n * ---------\n * Displays an info message\n * @param string\tmessage\n * @return void\n * \n * alertWarning\n * ------------\n * Displays a warning\n * @param string\tmessage\n * @return void\n * \n * alertError\n * ----------\n * Displays an error\n * @param string\tmessage\n * @return void\n * \n * alertSystemError\n * ----------------\n * Displays an alert with the error details and a button to mail\n * the error to the Support Team\n * @param string\tmessage\n * @return void\n * \n * confirmDelete\n * -------------\n * Displays a confirmation dialog and returns a Promise which resolves\n * with true or false depending und the pressed button.\n * @return Promise\n * \n * alertDefault\n * ------------\n * Displays an alert\n * @param string\tseverity\t\tcan be 'success', 'info', 'warning', 'error'\n * @param string\ttitle\n * @param string\tmessage\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * alertMultiple\n * -------------\n * Displays multiple alerts\n * @param array\t\tmessageArray\n * @param string\tseverity\t\t(optional) defaults to 'info'\n * @param string\ttitle\t\t\t(optional) defaults to 'Info'\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * handleSystemError\n * -----------------\n * Automatiticly determine how to display an system error and display it.\n * This would be used in a catch block of an ajax call.\n * @param mixed\t\terror\n * @return void\n * \n * handleSystemMessage\n * -------------------\n * Automatiticly determine how to display a message and display it.\n * @param mixed\t\tmessage\n * @return void\n */\nimport PvConfig from \"../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js\";\nimport PvToast from \"../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js\";\nimport PvConfirm from \"../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js\";\nimport PvConfirmationService from \"../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js\";\nimport FhcPhrasen from \"./Phrasen.js\";\n\nimport {CoreRESTClient} from '../RESTClient.js';\n\nconst helperAppContainer = document.createElement('div');\n\nconst helperApp = Vue.createApp({\n\tname: \"FhcAlertApp\",\n\tcomponents: {\n\t\tPvToast,\n\t\tPvConfirm\n\t},\n\tmethods: {\n\t\tmailToUrl(slotProps) {\n\t\t\tlet mailTo = FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto;\n\t\t\tlet subject = 'Meldung%20Systemfehler';\n\t\t\tlet body = `\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausführlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewählt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: ` + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method + `%0D%0A\n\t\t\t\tFehler Meldung: ` + slotProps.message.detail + `%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kümmern uns um eine rasche Behebung des Problems!`\n\n\t\t\treturn \"mailto:\" + mailTo + \"?subject=\" + subject + \"&body=\" + body;\n\t\t},\n\t\topenMessagecard(e) {\n\t\t\tbootstrap.Collapse.getOrCreateInstance(e.target.getAttribute('href')).toggle();\n\t\t}\n\t},\n\tunmounted() {\n\t\thelperAppContainer.parentElement.removeChild(helperAppContainer);\n\t},\n\tcomputed: {\n\t\tshowmaillink: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto !== '';\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<pv-toast ref=\"toast\" class=\"fhc-alert\" :base-z-index=\"99999\">\n\t\t<template #message=\"{ message }\">\n\t\t\t<!--span :class=\"slotProps.iconClass\"></span-->\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{ message.summary }}</span>\n\t\t\t\t<div v-if=\"message.detail && message.html\" class=\"p-toast-detail\" v-html=\"message.detail\"></div>\n\t\t\t\t<div v-else-if=\"message.detail\" class=\"p-toast-detail\">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref=\"alert\" class=\"fhc-alert\" :base-z-index=\"99999\" position=\"center\">\n\t\t<template #message=\"slotProps\">\n\t\t\t<i class=\"fa fa-circle-exclamation fa-2xl mt-3\"></i>\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class=\"p-toast-detail my-3\">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"align-bottom flex-fill me-2\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\t:href=\"'#fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t:aria-controls=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\t@click=\"openMessagecard\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"showmaillink\"\n\t\t\t\t\t\tclass=\"btn btn-primary flex-fill\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t:href=\"mailToUrl(slotProps)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"messageCard\" :id=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\" class=\"collapse mt-3\">\n\t\t\t\t\t<div class=\"card card-body text-body small alertCollapseText\">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group=\"fhcAlertConfirm\"></pv-confirm>`\n});\n\nhelperApp.use(PvConfig);\nhelperApp.use(PvConfirmationService);\n//helperApp.use(FhcPhrasen);\n\nconst helperAppInstance = helperApp.mount(helperAppContainer);\n\ndocument.body.appendChild(helperAppContainer);\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (!app.config.globalProperties.$p)\n\t\t\tapp.use(FhcPhrasen);\n\n\t\tconst $fhcAlert = {\n\t\t\talertSuccess(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSuccess);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'success', summary: 'Info', detail: message, life: 1000});\n\t\t\t},\n\t\t\talertInfo(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertInfo);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'info', summary: 'Info', detail: message, life: 3000 });\n\t\t\t},\n\t\t\talertWarning(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertWarning);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'warn', summary: 'Achtung', detail: message});\n\t\t\t},\n\t\t\talertError(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertError);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'error', summary: 'Achtung', detail: message });\n\t\t\t},\n\t\t\talertSystemError(message) {\n\t\t\t\t//TODO(Manu) for translation of content of template: restructure in data\n\t\t\t\t//and update definitions with  translations\n\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSystemError);\n\t\t\t\thelperAppInstance.$refs.alert.add({\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\tsummary: Vue.computed(() => app.config.globalProperties.$p.t('alert/systemerror')),\n\t\t\t\t\tdetail: message});\n\t\t\t},\n\t\t\tconfirmDelete() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: 'fhcAlertConfirm',\n\t\t\t\t\t\theader: Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: Vue.computed(() => app.config.globalProperties.$p.t('alert/confirm_delete')),\n\t\t\t\t\t\tacceptLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/loeschen')),\n\t\t\t\t\t\tacceptClass: 'p-button-danger',\n\t\t\t\t\t\trejectLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: 'p-button-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfirm(options) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: options?.group ?? 'fhcAlertConfirm',\n\t\t\t\t\t\theader: options?.header ?? Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: options?.message ?? '',\n\t\t\t\t\t\tacceptLabel: options?.acceptLabel ?? 'Ok',\n\t\t\t\t\t\tacceptClass: options?.acceptClass ?? 'btn btn-primary',\n\t\t\t\t\t\trejectLabel: options?.rejectLabel ?? Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: options?.rejectClass ?? 'btn btn-outline-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\talertDefault(severity, title, message, sticky = false, html = false) {\n\t\t\t\tlet options = { severity: severity, summary: title, detail: message, html };\n\t\t\t\t\n\t\t\t\tif (!sticky)\n\t\t\t\t\toptions.life = 3000;\n\n\t\t\t\thelperAppInstance.$refs.toast.add(options);\n\t\t\t},\n\t\t\talertMultiple(messageArray, severity = 'info', title = 'Info', sticky = false, html = false){\n\t\t\t\t// Check, if array has only string values\n\t\t\t\tif (messageArray.every(message => typeof message === 'string')) {\n\t\t\t\t\tmessageArray.forEach(message => this.alertDefault(severity, title, message, sticky, html));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thandleSystemError(error) {\n\t\t\t\t// don't show an error message to the user if the error was an aborted request\n\t\t\t\tif(error.hasOwnProperty('name') && error.name.toLowerCase() === \"AbortError\".toLowerCase())\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is string\n\t\t\t\tif (typeof error === 'string')\n\t\t\t\t\treturn $fhcAlert.alertSystemError(error);\n\n\t\t\t\t// Error is array of strings\n\t\t\t\tif (Array.isArray(error) && error.every(err => typeof err === 'string'))\n\t\t\t\t\treturn error.every($fhcAlert.alertSystemError);\n\n\t\t\t\t// Error has been handled already\n\t\t\t\tif (error.hasOwnProperty('handled') && error.handled)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is object\n\t\t\t\tif (typeof error === 'object' && error !== null) {\n\t\t\t\t\tlet errMsg = '';\n\n\n\t\t\t\t\tif (error.hasOwnProperty('response') && error.response?.data?.retval)\n\t\t\t\t\t\terrMsg += 'Error Message: ' + (error.response.data.retval.message || error.response.data.retval) + '\\r\\n';\n\t\t\t\t\telse if (error.hasOwnProperty('message'))\n\t\t\t\t\t\terrMsg += 'Error Message: ' + error.message.toUpperCase() + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('config') && error.config.hasOwnProperty('url'))\n\t\t\t\t\t\terrMsg += 'Error ConfigURL: ' + error.config.url + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('stack'))\n\t\t\t\t\t\terrMsg += 'Error Stack: ' + error.stack + '\\r\\n';\n\t\t\t\t\t\n\t\t\t\t\t// Fallback object error message\n\t\t\t\t\tif (errMsg == '')\n\t\t\t\t\t\terrMsg = 'Error Message: ' + JSON.stringify(error) + '\\r\\n';\n\n\t\t\t\t\terrMsg += 'Error Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\n\t\t\t\t\treturn $fhcAlert.alertSystemError(errMsg);\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\thandleSystemMessage(message) {\n\t\t\t\t// Message is string\n\t\t\t\tif (typeof message === 'string')\n\t\t\t\t\treturn $fhcAlert.alertWarning(message);\n\n\t\t\t\t// Message is array of strings\n\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t// If Array has only Strings\n\t\t\t\t\tif (message.every(msg => typeof msg === 'string'))\n\t\t\t\t\t\treturn message.every($fhcAlert.alertWarning);\n\n\t\t\t\t\t// If Array has only Objects\n\t\t\t\t\tif (message.every(msg => typeof msg === 'object') && msg !== null) {\n\t\t\t\t\t\treturn message.every(msg => {\n\t\t\t\t\t\t\tif (msg.hasOwnProperty('data') && msg.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(msg.data.retval));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(msg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Message is Object with data property\n\t\t\t\tif (typeof message === 'object' && message !== null){\n\t\t\t\t\tif (message.hasOwnProperty('data') && message.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t// NOTE(chris): changed: alertSystemError => alertWarning\n\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(message.data.retval));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(message));\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' +  FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\tresetFormValidation(form) {\n\t\t\t\tconst event = new Event('fhc-form-reset');\n\t\t\t\tform.querySelectorAll(['[data-fhc-form-validate],[data-fhc-form-error]']).forEach(el => el.dispatchEvent(event));\n\t\t\t\t/*const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\tif (alert) {\n\t\t\t\t\talert.innerHTML = '';\n\t\t\t\t\talert.classList.add('d-none');\n\t\t\t\t}\n\t\t\t\tform.querySelectorAll('.invalid-feedback').forEach(n => n.remove());\n\t\t\t\tform.querySelectorAll('.is-invalid').forEach(n => n.classList.remove('is-invalid'));\n\t\t\t\tform.querySelectorAll('.is-valid').forEach(n => n.classList.remove('is-valid'));*/\n\t\t\t},\n\t\t\thandleFormValidation(error, form) {\n\t\t\t\tif (form === undefined) {\n\t\t\t\t\tif (error && error.nodeType === Node.ELEMENT_NODE)\n\t\t\t\t\t\treturn err => $fhcAlert.handleFormValidation(err, error);\n\t\t\t\t} else {\n\t\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t\tif (typeof errors !== \"object\")\n\t\t\t\t\t\t\terrors = error.response.data;\n\n\t\t\t\t\t\t// NOTE(chris): reset form validation\n\t\t\t\t\t\t$fhcAlert.resetFormValidation(form);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// NOTE(chris): set form input validation\n\t\t\t\t\t\tconst notFound = Object.entries(errors).filter(([key, detail]) => {\n\t\t\t\t\t\t\tconst input = form.querySelector('[data-fhc-form-validate=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tinput.dispatchEvent(new CustomEvent('fhc-form-invalidate', {detail}));\n\n\t\t\t\t\t\t\t/*const input = form.querySelector('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\t\t\t\tconst feedback = document.createElement('div');\n\t\t\t\t\t\t\tfeedback.classList.add('invalid-feedback');\n\t\t\t\t\t\t\tfeedback.innerHTML = detail;\n\t\t\t\t\t\t\tinput.after(feedback);*/\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).map(arr => arr[1]);\n\n\n\t\t\t\t\t\t//const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\t\t\tconst alert = form.querySelector('[data-fhc-form-error]');\n\t\t\t\t\t\tif (alert && notFound.length) {\n\t\t\t\t\t\t\talert.dispatchEvent(new CustomEvent('fhc-form-error', {detail: notFound}));\n\t\t\t\t\t\t\t/*notFound.forEach(txt => {\n\t\t\t\t\t\t\t\tconst p = document.createElement('p');\n\t\t\t\t\t\t\t\tp.innerHTML = txt;\n\t\t\t\t\t\t\t\talert.append(p);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (notFound.length) {\n\t\t\t\t\t\t\t\talert.lastChild.classList.add('mb-0');\n\t\t\t\t\t\t\t\talert.classList.remove('d-none');\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotFound.forEach($fhcAlert.alertError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t$fhcAlert.alertError((typeof errors === 'object') ? Object.values(errors) : errors);\n\t\t\t\t} else {\n\t\t\t\t\t$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.config.globalProperties.$fhcAlert = $fhcAlert;\n\t\tapp.provide('$fhcAlert', app.config.globalProperties.$fhcAlert);\n\t}\n}","import Schluesselverwaltung from '../../components/verwaltung/Schluesselverwaltung.js';\nimport FhcAlert from '../../../../../js/plugins/FhcAlert.js';\nimport Phrasen from '../../../../../js/plugins/Phrasen.js';\nimport FhcApi from \"../../../../../js/plugins/Api.js\";\nconst app = Vue.createApp({\n\tcomponents: {\n\t\tSchluesselverwaltung\n\t}\n});\n\napp\n\t.use(primevue.config.default, {zIndex: {overlay: 9999}})\n\t.use(FhcAlert)\n\t.use(Phrasen)\n\t.use(FhcApi)\n\t.mount('#main');","export default {\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: String\n\t},\n\tcomputed: {\n\t\tvalueAsBase64DataString() {\n\t\t\tif (!this.modelValue || this.modelValue.substring(0, 10) == 'data:image')\n\t\t\t\treturn this.modelValue;\n\t\t\treturn 'data:image/jpeg;charset=utf-8;base64,' + this.modelValue;\n\t\t}\n\t},\n\tmethods: {\n\t\topenUploadDialog() {\n\t\t\tthis.$refs.fileInput.click();\n\t\t},\n\t\tpickFile() {\n\t\t\tlet file = this.$refs.fileInput.files;\n\t\t\tif (file && file[0]) {\n\t\t\t\tlet reader = new FileReader();\n\t\t\t\treader.onload = e => {\n\t\t\t\t\tthis.$emit('update:modelValue', e.target.result);\n\t\t\t\t}\n\t\t\t\treader.readAsDataURL(file[0]);\n\t\t\t}\n\t\t},\n\t\tdeleteImage() {\n\t\t\tthis.$emit('update:modelValue', '');\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-image\">\n\t\t<template v-if=\"modelValue\">\n\t\t\t<img class=\"img-thumbnail\" :src=\"valueAsBase64DataString\" />\n\t\t\t<div class=\"fotobutton\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"deleteImage\">\n\t\t\t\t\t\t<i class=\"fa fa-close\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<template v-else>\n\t\t\t<slot>\n\t\t\t\t<svg class=\"bd-placeholder-img img-thumbnail\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera: 200x200\" preserveAspectRatio=\"xMidYMid slice\" focusable=\"false\"><title>A generic square placeholder image with a white border around it, making it resemble a photograph taken with an old instant camera</title><rect width=\"100%\" height=\"100%\" fill=\"#868e96\"></rect><text x=\"50%\" y=\"50%\" fill=\"#dee2e6\" dy=\".3em\"></text></svg>\n\t\t\t</slot>\n\t\t\t<div class=\"fotobutton-visible\">\n\t\t\t\t<div class=\"d-grid gap-2 d-md-flex\">\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark btn-sm\" @click=\"openUploadDialog\">\n\t\t\t\t\t\t<i class=\"fa fa-pen\"></i>\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t\t<input :id=\"$attrs.id\" class=\"d-none\" type=\"file\" ref=\"fileInput\" @input=\"pickFile\" accept=\"image/*\">\n\t</div>`\n}","import DmsItem from './Dms/Item.js';\n\nexport default {\n\tcomponents: {\n\t\tDmsItem\n\t},\n\temits: [\n\t\t'update:modelValue'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [ FileList, Array ],\n\t\t\trequired: true\n\t\t},\n\t\tmultiple: Boolean,\n\t\tid: String,\n\t\tname: String,\n\t\tinputClass: [String, Array, Object],\n\t\tnoList: Boolean,\n\t\taccept: {\n\t\t\ttype: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\tmethods: {\n\t\tstringifyFile(file) {\n\t\t\treturn JSON.stringify({\n\t\t\t\tlastModified: file.lastModified,\n\t\t\t\tlastModifiedDate: file.lastModifiedDate,\n\t\t\t\tname: file.name,\n\t\t\t\tsize: file.size,\n\t\t\t\ttype: file.type\n\t\t\t});\n\t\t},\n\t\taddFiles(event) {\n\t\t\tif (!this.multiple)\n\t\t\t\treturn this.$emit('update:modelValue', event.target.files);\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst doubles = [];\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tdt.items.add(file);\n\t\t\t\tdoubles.push(this.stringifyFile(file));\n\t\t\t}\n\t\t\tfor (var file of event.target.files) {\n\t\t\t\t// NOTE(chris): deep check (with FileReader) would require an async function so we only check the basic attributes\n\t\t\t\tif (doubles.indexOf(this.stringifyFile(file)) < 0)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t},\n\t\tremoveFile(id) {\n\t\t\tconst fileToRemove = Array.from(this.modelValue)[id];\n\t\t\t\n\t\t\tconst dt = new DataTransfer();\n\t\t\tfor (var file of this.modelValue) {\n\t\t\t\tif (file !== fileToRemove)\n\t\t\t\t\tdt.items.add(file);\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (!n)\n\t\t\t\treturn;\n\t\t\tif (n instanceof FileList) {\n\t\t\t\tif (!this.$refs.upload) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn this.$refs.upload.files = n;\n\t\t\t}\n\n\t\t\tconst dt = new DataTransfer();\n\t\t\tconst dms = [];\n\t\t\tfor (var file of n) {\n\t\t\t\tif (file instanceof File) {\n\t\t\t\t\tdt.items.add(file);\n\t\t\t\t} else {\n\t\t\t\t\tconst dmsFile = new File([JSON.stringify(file)], file.name, {\n\t\t\t\t\t\ttype: 'application/x.fhc-dms+json'\n\t\t\t\t\t});\n\t\t\t\t\tdt.items.add(dmsFile);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.$emit('update:modelValue', dt.files);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"form-upload-dms\">\n\t\t<input ref=\"upload\" class=\"form-control\" :disabled=\"disabled\" :accept=\"accept\" :aria-label=\"$p.t('profilUpdate','documentUpload')\" :title=\"$p.t('profilUpdate','documentUpload')\" :class=\"inputClass\" :id=\"id\" :name=\"name\" :multiple=\"multiple\" type=\"file\" @change=\"addFiles\">\n\t\t<ul v-if=\"modelValue.length && multiple && !noList\" :accept=\"accept\" class=\"list-unstyled m-0\">\n\t\t\t<dms-item\n\t\t\t\tv-for=\"(file, index) in modelValue\"\n\t\t\t\t:key=\"index\"\n\t\t\t\tv-model=\"file\"\n\t\t\t\tclass=\"d-flex mx-1 mt-1 align-items-start\"\n\t\t\t\t@delete=\"removeFile(index)\"\n\t\t\t\t>\n\t\t\t</dms-item>\n\t\t</ul>\n\t</div>`\n}","export default {\n\temits: [\n\t\t'delete'\n\t],\n\tprops: {\n\t\tmodelValue: {\n\t\t\ttype: [File, Object],\n\t\t\trequired: true\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpreview: ''\n\t\t};\n\t},\n\twatch: {\n\t\tmodelValue(n) {\n\t\t\tif (n.type == 'application/x.fhc-dms+json') {\n\t\t\t\tn.text().then(result => {\n\t\t\t\t\tconst obj = JSON.parse(result);\n\t\t\t\t\tthis.preview = obj.preview || '';\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<li class=\"form-upload-dms-item\">\n\t\t<span class=\"col-auto\"><i class=\"fa fa-file me-1\"></i></span>\n\t\t<span class=\"col\">{{ modelValue.name }}</span>\n\t\t<a v-if=\"preview\" :href=\"preview\" target=\"_blank\" class=\"col-auto btn btn-outline-secondary btn-p-0 me-1\">\n\t\t\t<i class=\"fa fa-download\"></i>\n\t\t</a>\n\t\t<button class=\"col-auto btn btn-outline-secondary btn-p-0\" @click=\"$emit('delete')\">\n\t\t\t<i class=\"fa fa-close\"></i>\n\t\t</button>\n\t</li>`\n}\n"],"names":["CoreFetchCmpt","emits","props","refresh","type","Boolean","apiFunction","required","Function","apiFunctionParameters","watch","newValue","oldValue","this","fetchData","data","loading","error","errorMessage","created","methods","apiFunctionResult","Promise","then","successHandler","catch","errorHandler","finally","finallyHandler","setError","response","$emit","undefined","retval","message","template","ApiNavigation","getHeader","navigation_page","method","url","params","getMenu","CoreNavigationCmpt","components","addHeaderMenuEntries","Object","addSideMenuEntries","hideTopMenu","leftNavCssClasses","String","default","headerMenu","sideMenu","computed","headerMenuEntries","hm","keys","length","description","sideMenuEntries","sm","getNavigationPage","FHC_JS_DATA_STORAGE_OBJECT","called_path","called_method","fetchCmptApiFunctionHeader","$api","call","fetchCmptApiFunctionSideMenu","fetchCmptDataFetchedHeader","fetchCmptDataFetchedMenu","getDataBsToggle","header","children","CoreBaseLayout","title","subtitle","mainCols","Array","asideCols","mainGridCols","asideGridCols","CoreVerticalSplit","name","availHeight","topheight","bottomheight","mousePosY","resize","vsplitter","vsplitterOffset","selfOffsetTop","mounted","calcHeights","trackVerticalSplitterOffsetTop","window","addEventListener","updated","windowheight","innerHeight","oldavailHeight","$refs","verticalsplit","offsetTop","offsetHeight","Math","floor","collapseTop","collapseBottom","showBoth","isCollapsed","dragStart","e","preventDefault","stopPropagation","dragEnd","drag","clientY","offsetY","removeEventListener","topOrBottomClass","topheightcss","bottomheightcss","FILTER_COMPONENT_NEW_FILTER","FilterConfig","filters","columns","fields","switchFilter","applyFilterConfig","saveCustomFilter","currentFields","types","reduce","a","c","toLowerCase","indexOf","n","evt","currentTarget","value","filteredFields","filter","el","condition","alert","addField","push","removeField","index","splice","FilterColumns","selected","names","hide","show","selectedFields","toggle","field","DEFAULT_ICONS","jsonLines","xlsx","pdf","html","json","csv","DEFAULT_LABELS","TableDownload","tabulator","config","iconClass","currentConfig","prototype","toString","split","isArray","newConfig","k","v","stringToFileFormatter","icon","label","formatter","map","validateFileFormatter","input","lcInput","includes","XLSX","jspdf","jsPDF","autoTable","download","file","options","elementDataMap","WeakMap","collapseAutoClose","binding","open","set","contains","target","collapse","bootstrap","Collapse","getInstance","document","get","beforeUnmount","collapsibleAutoHideFunc","Tabulator","extendModule","fitDataStretchFrozen","forced","colsWidth","tableWidth","table","rowManager","element","clientWidth","gap","lastCol","forEach","column","i","widthFixed","reinitializeWidth","responsiveLayout","modules","responsive","visible","definition","frozen","getWidth","modExists","setWidth","update","ApiFilter","wsParams","filterUniqueId","filterType","customFilterName","removeCustomFilter","filterId","applyFilterFields","filterFields","addFilterField","filterField","removeFilterField","getFilterById","getFilter","_uuid","CoreFilterCmpt","directives","onNwNewEntry","tabulatorOptions","tabulatorEvents","tableOnly","noColumnFilter","reload","reloadBtnInfotext","newBtnShow","newBtnClass","newBtnDisabled","newBtnLabel","uniqueId","idField","parentIdField","countOnly","useSelectionSpan","uuid","filterName","filterActive","dataset","datasetMetadata","availableFilters","selectedFilter","fetchCmptRefresh","fetchCmptApiFunction","fetchCmptApiFunctionParams","fetchCmptDataFetched","fetchResult","tableBuilt","tabulatorHasSelector","selectedData","persistence","sort","headerFilter","group","page","notSelectedFields","x","filteredData","JSON","parse","stringify","filteredColumns","hasOwnProperty","col","resizable","fieldIdsForVisibilty","getColumns","def","getDefinition","getField","fieldNames","res","idExtra","columnsForFilter","filterTitles","reloadTable","setData","initTabulator","placeholder","$p","loadCategory","t","resolve","location","hash","slice","resolvePromiseFunc","setRenderData","startFetchCmpt","layout","movableColumns","columnDefaults","tooltip","height","minHeight","maxHeight","selectable","dataTree","on","event","handler","toDelete","childIdx","child","appendChild","counter","cols","isVisible","_setHeaderFilter","updateTabulator","_updateTabulator","setColumns","clearFilters","getHeaderFilters","setHeaderFilterValue","clearFilter","render","j","setSideMenu","setDropDownMenu","personalFilters","filtersArray","filtersCount","link","id","filter_id","desc","onClickCall","handlerGetFilterById","subscriptDescription","subscriptLinkClass","subscriptLinkValue","onClickSubscriptCall","handlerRemoveCustomFilter","option","dataFetchedCallback","handlerSaveCustomFilter","getAttribute","substring","attr","parentId","parentIdx","parent","_children","beforeCreate","$props","Modal","noscroll","expose","setup","emit","thisModalObj","modalEle","Vue","ref","onMounted","categories","loadingModules","extractCategory","obj","category","elem","phrase","text","reloadRefs","pop","getValueForLoadedPhrase","triggerRef","result","replace","match","p1","phrasen","t_ref","console","initialval","FHC_JS_PHRASES_STORAGE_OBJECT","tmp_category","val","axios","app_root","ci_router","err","loadLazy","unref","usePhrasen","ModalDialog","_resolve","modalConfirmEle","async","reject","ok","cancel","ApiVertragsbestandteil","getCurrentVBs","dvid","getCurrentAndFutureVBs","URLSearchParams","getAllVBs","getVB","vbid","ApiEmployee","filterPerson","searchVal","createEmployee","employeeData","personAbteilung","uid","personHeaderData","personID","person_id","dvByPerson","getCurrentDV","ts","d","deleteDV","dv_id","uploadPersonEmployeeFoto","imagedata","deletePersonEmployeeFoto","getEmployeesWithoutContract","dvInfoByPerson","EmployeeStatus","tags","reactive","inject","route","VueRouter","useRoute","router","useRouter","currentPersonID","currentPersonUID","dvList","vertragList","currentDate","Date","isFetching","vertragsarten","karenztypen","teilzeittypen","formatVertragsart","item","va","find","kt","formatKarenztyp","karenztyp","formatTeilzeittyp","teilzeittyp","statusList","statusTags","generateStatusList","anzDV","dvIDs","dv","von","bis","vertragsart_kurzbz","css","dienstverhaeltnis_id","unshift","log","all","dvID","allData","vbs","vertragsbestandteiltyp_kurzbz","freitexttyp_kurzbz","karenztyp_kurzbz","teilzeittyp_kurzbz","isReady","path","newVal","deep","ApiIssue","byPerson","countPersonOpenIssues","checkPerson","openIssuesPersons","EmployeeHeader","primevue","skeleton","Number","personUID","restricted","employee","fileInput","previewImage","statusRef","isFetchingName","isFetchingIssues","$fhcAlert","openissuescount","fetchHeaderData","resAbteilung","abteilung","fetchOpenIssuesCount","openissues","modalRef","$el","resetPreview","hideModal","showModal","showDeleteModal","confirm","acceptLabel","acceptClass","alertSuccess","handleSystemError","postDeleteFile","pickFile","files","reader","FileReader","onload","readAsDataURL","okHandler","meta","status","alertError","postFile","redirect","FHC_JS_CONFIG","getStatusTags","statusArr","unruly","formatDate","ds","toISOString","EmployeeContractInfo","funktion","zuordnung","taetigkeit","zeitaufzeichnung","kuendigungsfrist","stunden","allIn","befristung","urlaubsanspruch","zusatzvereinbarung","karenz","numberFormat","Intl","NumberFormat","getVBStunden","vbList","formatNumber","num","format","parseFloat","getVBKarenz","ApiOrgViewer","getOrgStructure","oe","getOrgPersonen","getOrgHeads","OrgChooser","customClass","orgList","oeRef","toRefs","oe_kurzbz","fetchHead","old","orgSelected","ApiFunktion","getContractFunctions","getOrgetsForCompany","unternehmen","getCompanyByOrget","orget","getCurrentFunctions","mitarbeiter_uid","getAllUserFunctions","getAllFunctions","ApiPerson","personBaseData","updatePersonBaseData","payload","personEmployeeData","updatePersonEmployeeData","personEmployeeKurzbzExists","kurzbz","deletePersonBankData","bankverbindung_id","upsertPersonBankData","personBankData","personAddressData","deletePersonAddressData","adresse_id","upsertPersonAddressData","personContactData","deletePersonContactData","kontakt_id","upsertPersonContactData","uidByPerson","person_uid","personMaterialExpenses","deletePersonMaterialExpenses","sachaufwand_id","upsertPersonMaterialExpenses","deletePersonJobFunction","benutzerfunktion_id","upsertPersonJobFunction","updatePersonUnruly","JobFunction","datepicker","VueDatePicker","modelValue","readonlyMode","writePermission","readonly","dialogRef","theModel","jobfunctionList","jobfunctionDefList","orgUnitList","aktivChecked","tableData","convertArrayToObject","array","key","rawList","createShape","funktion_kurzbz","datum_von","datum_bis","bezeichnung","wochenstunden","currentValue","preservedValue","unternehmen_kurzbz","fetchOrgUnits","fetchFunctions","dateFormatter","cell","getValue","createDomButton","classValue","clickHandler","nodeBtn","createElement","classAttrBtn","createAttribute","setAttributeNode","nodeI","classAttrI","btnFormatter","nodeDiv","classAttrDiv","nodeBtnDel","nodeBtnEdit","showEditModal","getRow","getData","dienstverhaeltnis_unternehmen","columnsDef","fullPath","sorter","headerFilterParams","valuesLookup","autocomplete","hozAlign","width","headerFilterFunc","customHeaderFilter","headerSort","reactiveData","jobfunctionListArray","headerValue","rowValue","rowData","filterParams","date1","setHours","day","month","year","date2","isFinite","values","aktiv","getJobFunction","oldVal","showDeletedToast","updateHeader","jobFunctionFrm","frmState","beginnBlurred","orgetBlurred","funktionBlurred","wasValidated","notEmpty","trim","validate","hasChanged","some","showToast","orgets","benutzerfunktionen","toggleMode","showAddModal","fachbereich_bezeichnung","funktion_oebezeichnung","funktion_beschreibung","unternehmenSelectedHandler","BsModal","modal","fullscreen","backdrop","validator","focus","keyboard","noCloseBtn","dialogClass","headerClass","bodyClass","footerClass","allowFullscreenExpand","dispose","handleUpdate","relatedTarget","toggleFullscreen","popup","body","footer","slots","includedPrimevue","instance","createApp","h","class","unmount","unmounted","wrapper","parentElement","removeChild","use","zIndex","overlay","Phrasen$1","Phrasen","mount","FhcFragment","$slots","Betriebsmittel","CoreForm","provide","$registerToForm","component","inputs","$clearValidationForName","clearValidationForName","tag","sortedInputs","lcType","substr","lastIndexOf","factory","warn","create","getPrototypeOf","$fhcApi","getOwnPropertyDescriptors","post","_defaultErrorHandlers","args","clearValidation","setFeedback","overwriteconfig","_sendFeedbackToInput","feedback","valid","remaining","fb","entries","p","join","fromEntries","send","promise","code","FormInput","inheritAttrs","registerToForm","from","bsFeedback","noAutoClass","noFeedback","inputGroup","containerClass","onInput","modelValueDummy","hasContainer","prop","autoContainerClass","hasOwn","acc","validationClass","classes","$attrs","feedbackClass","modelValueCmp","idCmp","clearValidationForThisName","selector","parentNode","querySelectorAll","_loadComponents","_","PvAutocomplete","UploadImage","UploadDms","defineAsyncComponent","import","beforeMount","beforeUpdate","cisRoot","endpoint","typeId","betriebsmittelTypes","filterByProvidedTypes","ajaxURL","ajaxRequestFunc","getAllBetriebsmittel","ajaxResponse","dateStr","toLocaleString","hour12","minWidth","maxWidth","formatterParams","onRendered","container","className","button","innerHTML","cellData","linkToPdf","betriebsmittelperson_id","append","actionEditBetriebsmittel","actionDeleteBetriebsmittel","layoutColumnsOnNewData","persistenceID","cm","columnManager","getColumnByField","updateDefinition","listBetriebsmitteltyp","formData","ausgegebenam","betriebsmitteltyp","statusNew","filteredInventar","loadBetriebsmittel","betriebsmittelModal","actionNewBetriebsmittel","resetModal","confirmDelete","handled","deleteBetriebsmittel","scrollTo","addNewBetriebsmittel","betriebsmittel_id","inventarData","betriebsmittelData","updateBetriebsmittel","searchInventar","encodedQuery","encodeURIComponent","query","loadInventarliste","retouram","nummer","nummer2","kaution","anmerkung","beschreibung","getTypenBetriebsmittel","ApiCommon","getGemeinden","plz","getOrtschaften","getContractExpire","getContractNew","getBirthdays","date","getCovidState","getAllCourseHours","getAllSupportHours","getNations","getSachaufwandTyp","getKontakttyp","getAdressentyp","getSprache","getAusbildung","getStandorteIntern","getOrte","getKarenztypen","getGehaltstypen","getVertragsarten","getVertragsbestandteiltypen","getTeilzeittypen","getFreitexttypen","getStundensatztypen","ApiDV","getUnternehmen","getDVByID","endDV","deactivateDV","getDvEndeGruende","ApiBetriebsmittelperson","betriebsmitteltypes","Schluesselverwaltung","sprache","nations","ausbildung","orte","standorte","kontakttyp","adressentyp","sachaufwandtyp","gehaltstypen","vertragsbestandteiltypen","freitexttypen","hourlyratetypes","beendigungsgruende","CIS_ROOT","personid","betriebsmittelEndpoint","footerElement","onRowClick","rows","getElementById","row","PersonId","personuid","UID","search","searchsettings","searchAdvanced","searchdummy","phrasen$1","setLanguage","language","getLanguage","getActiveDbLanguages","navigation","filter$1","studstatus","abmeldung","getDetails","antrag_id","prestudent_id","stdsem","grund","studiensemester","errorHandling","allSettled","antrag","studierendenantrag_id","errorHeader","unterbrechung","datum_wiedereinstieg","attachment","wiederholung","getLvs","saveLvs","forbiddenLvs","mandatoryLvs","leitung","getStgs","getAntraege","getHistory","getPrestudents","signal","timeout","approve","reopen","pause","unpause","object","approveObjection","denyObjection","profil","getView","fotoSperre","isStudent","isMitarbeiter","getZustellAdresse","getZustellKontakt","nation","zip","getAllNationen","profilUpdate","getStatus","getTopic","acceptProfilRequest","profil_update_id","status_message","topic","requested_change","denyProfilRequest","insertFile","dms","getProfilRequestFiles","requestID","selectProfilRequest","insertProfilRequest","fileID","updateProfilRequest","ID","deleteProfilRequest","lvPlan","getRoomInfo","ort_kurzbz","start_date","end_date","getStunden","getOrtReservierungen","getLvPlanReservierungen","getLehreinheitStudiensemester","lehreinheit_id","studiensemesterDateInterval","LvPlanEvents","lv_id","stv","verband","favorites","students","studiensemester_kurzbz","getUri","prestudent","person","relative_path","getStg","setStg","studiengang_kz","konto","tabulatorConfig","self","ajaxParams","only_open","studiengang_kz_intern","stg_kz","checkDoubles","form","confirmErrorHandler","insert","edit","delete","buchungsnr","getBuchungstypen","getGruppen","deleteGroup","kontakt","getAdressen","addNewAddress","loadAddress","address_id","updateAddress","deleteAddress","getPlaces","getFirmen","searchString","getAdressentypen","getBankverbindung","addNewBankverbindung","loadBankverbindung","updateBankverbindung","deleteBankverbindung","getKontakte","addNewContact","loadContact","updateContact","deleteContact","getStandorteByFirma","getKontakttypen","updatePrestudent","getBezeichnungZGV","getBezeichnungMZgv","getBezeichnungDZgv","getAufmerksamdurch","getBerufstaetigkeit","getTypenStg","getBisstandort","getHistoryPrestudent","getMaxSem","studiengang_kzs","advanceStatus","status_kurzbz","ausbildungssemester","confirmStatus","isLastStatus","deleteStatus","getLastBismeldestichtag","getHistoryPrestudents","insertStatus","loadStatus","updateStatus","getStudienplaene","getStudiengang","getStatusgruende","getStati","addStudent","changeStatus","getStatusarray","details","save","exam","getPruefungen","loadPruefung","pruefung_id","getTypenPruefungen","getAllLehreinheiten","getLvsByStudent","getLvsandLesByStudent","semester","getLvsAndMas","getMitarbeiterLv","getNoten","checkZeugnisnoteLv","addPruefung","updatePruefung","deletePruefung","abschlusspruefung","getAbschlusspruefung","addNewAbschlusspruefung","loadAbschlusspruefung","updateAbschlusspruefung","deleteAbschlusspruefung","getTypenAbschlusspruefung","getTypenAntritte","getBeurteilungen","getAkadGrade","getTypStudiengang","getMitarbeiter","getPruefer","checkForExistingExams","uids","grades","list","getCertificate","getTeacherProposal","getRepeaterGrades","updateCertificate","lehrveranstaltung_id","student_uid","note","lehrveranstaltung_bezeichnung","deleteCertificate","copyTeacherProposalToCertificate","copyRepeaterGradeToCertificate","studierendenantrag_lehrveranstaltung_id","lv_bezeichnung","getGradeFromPoints","points","manualErrorHandling","mobility","getMobilitaeten","getProgramsMobility","addNewMobility","loadMobility","bisio_id","updateMobility","deleteMobility","getLVList","getPurposes","getSupports","getListPurposes","getListSupports","deleteMobilityPurpose","addMobilityPurpose","deleteMobilitySupport","addMobilitySupport","archiv","getArchivVorlagen","archive","archiveSigned","akte_id","documents","getDocumentsUnaccepted","getDocumentsAccepted","deleteZuordnung","dokument_kurzbz","createZuordnung","loadAkte","getDoktypen","updateFile","deleteFile","uploadFile","exemptions","getAnrechnungen","getLehrveranstaltungen","getBegruendungen","getLvsKompatibel","getLektoren","addNewAnrechnung","loadAnrechnung","anrechnung_id","editAnrechnung","deleteAnrechnung","jointstudies","getStudies","getTypenMobility","getStudiensemester","getStudyprograms","getListPartner","getStatiPrestudent","loadStudy","insertStudy","updateStudy","deleteStudy","courselist","getCourselist","group_consecutiveHours","dbStundenplanTable","configStudent","configStudents","notiz","getNotizen","getUid","addNewNotiz","loadNotiz","notiz_id","loadDokumente","deleteNotiz","type_id","updateNotiz","isBerechtigt","betriebsmittel","checkperson","updatePersonUnrulyStatus","unrulyParam","base","ort","getContentID","ort_kurbz","getRooms","datum","typ","personenanzahl","getRoomTypes","cms","content","content_id","version","sichtbar","getNews","page_size","news","limit","getNewsRowCount","getNewsExtra","lehre","getStudentenMail","getLvInfo","getStudentPruefungen","getStudentProjektarbeiten","getStudentProjektabgaben","detail","projektarbeit_id","postStudentProjektarbeitEndupload","Headers","postStudentProjektarbeitZwischenabgabe","getStudentProjektarbeitAbgabeFile","paabgabe_id","getMitarbeiterProjektarbeiten","postProjektarbeitAbgabe","termin","paabgabetyp_kurzbz","fixtermin","insertvon","deleteProjektarbeitAbgabe","postSerientermin","projektarbeit_ids","fetchDeadlines","addons","getLvMenu","lvid","messages","getMessages","size","getVorlagen","getMsgVarsLoggedInUser","getMessageVarsPerson","getMsgVarsPrestudent","getPersonId","getDataVorlage","vorlage_kurzbz","getNameOfDefaultRecipient","getPreviewText","getReplyData","messageId","sendMessageFromModalContext","sendMessage","deleteMessage","vorlagen","getVorlagenByLoggedInUser","studium","getAllStudienSemester","studiengang","studienplan","getStudiengaengeForStudienSemester","getStudienplaeneBySemester","getLvPlanForStudiensemester","getLvEvaluierungInfo","FhcApiFactory","dashboard","getViewData","bookmark","getBookmarks","bookmark_id","ampeln","ampel_id","studiengangInformation","getStudiengangByKz","menu","authinfo","getAuthUID","getAuthInfo","getAll","OldFhcApi","install","app","globalProperties","addEndpoints","_get_config","uri","TypeError","_clean_return_value","fhcApiAxios","baseURL","interceptors","request","FormData","every","FileList","File","newData","nd","jsondata","errors","alertDefault","responseURL","validation","apply","general","php","filename","line","backtrace","function","severity","alertSystemError","exception","db","heading","sql","auth","controller","required_permissions","FhcApiFactoryWrapper","constructor","factorypart","root","defineProperty","noWarn","bind","FhcApi","_send_array_or_object","func","errs","FhcAlert","DEFAULT_ERROR_CONFIG","success","fail","combine","toast","_format_toast","_default","msg","msgs","b","n_errors","get_config","clean_return_value","_merge_error_config","get_error_handler","formHandler","get_error_list","popHandleableErrors","copy","newType","newTypeCombinesType","newTypeHasHandler","errorConfig","configoverwrite","typedErrors","allowed","reason","errType","getErrorHandler","ApiPhrasen","user_language","user_locale","server_languages","LC_Time","catArray","PluginsApi","cat","lang","CORE_REST_CLIENT_ERROR","CORE_REST_CLIENT_RETVAL","CoreRESTClient","wsURL","wsParameters","axiosParameters","_axiosCall","isSuccess","isError","hasData","getError","getErrorCode","_generateRouterURI","_printDebug","parameters","errorThrown","axiosCallObj","helperAppContainer","helperApp","PvToast","PvConfirm","mailToUrl","slotProps","systemerror_mailto","openMessagecard","getOrCreateInstance","showmaillink","PvConfig","PvConfirmationService","helperAppInstance","FhcPhrasen","add","summary","life","alertInfo","alertWarning","$confirm","require","rejectLabel","rejectClass","accept","sticky","alertMultiple","messageArray","errMsg","toUpperCase","stack","handleSystemMessage","resetFormValidation","Event","dispatchEvent","handleFormValidation","nodeType","Node","ELEMENT_NODE","notFound","querySelector","CustomEvent","arr","Image","valueAsBase64DataString","openUploadDialog","click","deleteImage","Dms","DmsItem","preview","multiple","inputClass","noList","disabled","stringifyFile","lastModified","lastModifiedDate","addFiles","dt","DataTransfer","doubles","items","removeFile","fileToRemove","upload","dmsFile"],"mappings":"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"}