import t from"../../../../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js?2025111701";import e from"../../../../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js?2025111701";import r from"../../../../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js?2025111701";import n from"../../../../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js?2025111701";var a={search(t,e){return this.$fhcApi.post("/api/frontend/v1/searchbar/search",t,e)},searchAdvanced(t,e){return this.$fhcApi.post("/api/frontend/v1/searchbar/searchAdvanced",t,e)},searchdummy(t){return this.$fhcApi.post("public/js/apps/api/dummyapi.php/Search",t)}},s={loadCategory(t){return this.$fhcApi.get("/api/frontend/v1/phrasen/loadModule/"+t)},setLanguage(t,e){const r={categories:t,language:e};return this.$fhcApi.post("/api/frontend/v1/phrasen/setLanguage",r)},getLanguage(){return this.$fhcApi.get("/api/frontend/v1/phrasen/getLanguage",{})},getActiveDbLanguages(){return this.$fhcApi.get("/api/frontend/v1/phrasen/getAllLanguages",{})}},i={getHeader(t){return this.$fhcApi.get("/api/frontend/v1/navigation/header",{navigation_page:t})},getMenu:function(t){return this.$fhcApi.get("/api/frontend/v1/navigation/menu",{navigation_page:t})}},o={saveCustomFilter(t){return this.$fhcApi.post("/api/frontend/v1/filter/saveCustomFilter",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,customFilterName:t.customFilterName})},removeCustomFilter(t){return this.$fhcApi.post("/api/frontend/v1/filter/removeCustomFilter",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterId:t.filterId})},applyFilterFields(t){return this.$fhcApi.post("/api/frontend/v1/filter/applyFilterFields",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterFields:t.filterFields})},addFilterField(t){return this.$fhcApi.post("/api/frontend/v1/filter/addFilterField",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterField:t.filterField})},removeFilterField(t){return this.$fhcApi.post("/api/frontend/v1/filter/removeFilterField",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterField:t.filterField})},getFilterById(t){return this.$fhcApi.get("/api/frontend/v1/filter/getFilter",{filterUniqueId:t.filterUniqueId,filterType:t.filterType,filterId:t.filterId})},getFilter(t){return this.$fhcApi.get("/api/frontend/v1/filter/getFilter",{filterUniqueId:t.filterUniqueId,filterType:t.filterType})}},l={abmeldung:{getDetails(t,e){const r="/api/frontend/v1/studstatus/abmeldung/"+(void 0!==t?"getDetailsForAntrag/"+t:"getDetailsForNewAntrag/"+e);return this.$fhcApi.get(r)},create(t,e,r){return this.$fhcApi.post("/api/frontend/v1/studstatus/abmeldung/createAntrag",{studiensemester:t,prestudent_id:e,grund:r},{errorHandling:"strict"})},cancel(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/abmeldung/cancelAntrag",{antrag_id:t.studierendenantrag_id},{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/abmeldung/cancelAntrag",{antrag_id:t})}},unterbrechung:{getDetails(t,e){const r="/api/frontend/v1/studstatus/unterbrechung/"+(void 0!==t?"getDetailsForAntrag/"+t:"getDetailsForNewAntrag/"+e);return this.$fhcApi.get(r)},create(t,e,r,n,a){return this.$fhcApi.post("/api/frontend/v1/studstatus/unterbrechung/createAntrag",{studiensemester:t,prestudent_id:e,grund:r,datum_wiedereinstieg:n,attachment:a},{errorHandling:"strict"})},cancel(t){return this.$fhcApi.post("/api/frontend/v1/studstatus/unterbrechung/cancelAntrag",{antrag_id:t},{errorHandling:"strict"})}},wiederholung:{getDetails(t){const e="/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/"+t;return this.$fhcApi.get(e)},getLvs(t){const e="/api/frontend/v1/studstatus/wiederholung/getLvs/"+t;return this.$fhcApi.get(e)},create(t,e){return this.$fhcApi.post("/api/frontend/v1/studstatus/wiederholung/createAntrag",{prestudent_id:t,studiensemester:e},{errorHandling:"strict"})},cancel(t,e){return this.$fhcApi.post("/api/frontend/v1/studstatus/wiederholung/cancelAntrag",{prestudent_id:t,studiensemester:e},{errorHandling:"strict"})},saveLvs(t,e){return this.$fhcApi.post("/api/frontend/v1/studstatus/wiederholung/saveLvs",{forbiddenLvs:t,mandatoryLvs:e})}},leitung:{getStgs(){return this.$fhcApi.get("/api/frontend/v1/studstatus/leitung/getActiveStgs")},getAntraege(t,e,r){return this.$fhcApi.get("/api/frontend/v1/studstatus/leitung/getAntraege/"+t).then(t=>t.data)},getHistory(t){return this.$fhcApi.get("/api/frontend/v1/studstatus/leitung/getHistory/"+t)},getPrestudents(t,e){return this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/getPrestudents",{query:t},{signal:e,timeout:3e4})},approve(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/approveAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/approveAntrag",t)},reject(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/rejectAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/rejectAntrag",t)},reopen(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/reopenAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/reopenAntrag",t)},pause(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/pauseAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/pauseAntrag",t)},unpause(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/unpauseAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/unpauseAntrag",t)},object(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/objectAntrag",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/objectAntrag",t)},approveObjection(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/approveObjection",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/approveObjection",t)},denyObjection(t){return Array.isArray(t)?Promise.allSettled(t.map(t=>this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/denyObjection",t,{errorHeader:"#"+t.studierendenantrag_id}))):this.$fhcApi.post("/api/frontend/v1/studstatus/leitung/denyObjection",t)}}},c={getView:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/Profil/getView/${t}`,{})},fotoSperre:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/Profil/fotoSperre/${t}`,{})},isStudent:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Profil/isStudent",{uid:t})},isMitarbeiter:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/Profil/isMitarbeiter/${t}`,{})},getZustellAdresse:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Profil/getZustellAdresse",{})},getZustellKontakt:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Profil/getZustellKontakt",{})},getGemeinden:function(t,e){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/Profil/getGemeinden/${t}/${e}`,{})},getAllNationen:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Profil/getAllNationen",{})}},d={
//! API calls for profil update requests
getStatus:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/getStatus",{})},getTopic:function(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/getTopic",{})},acceptProfilRequest:function({profil_update_id:t,uid:e,status_message:r,topic:n,requested_change:a}){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/acceptProfilRequest",{profil_update_id:t,uid:e,status_message:r,topic:n,requested_change:a})},denyProfilRequest:function({profil_update_id:t,uid:e,topic:r,status_message:n}){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/denyProfilRequest",{profil_update_id:t,uid:e,topic:r,status_message:n})},insertFile:function(t,e=null){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/ProfilUpdate/insertFile/${e}`,t)},getProfilRequestFiles:function(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${t}`,{})},selectProfilRequest:function(t=null,e=null){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/selectProfilRequest",{...t?{uid:t}:{},...e?{id:e}:{}})},insertProfilRequest:function(t,e,r=null){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/insertProfilRequest",{topic:t,payload:e,...r?{fileID:r}:{}})},updateProfilRequest:function(t,e,r,n=null){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/updateProfilRequest",{topic:t,payload:e,ID:r,...n?{fileID:n}:{}})},deleteProfilRequest:function(t){return this.$fhcApi.post(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/ProfilUpdate/deleteProfilRequest",{requestID:t})}},u={getRoomInfo(t,e,r){return this.$fhcApi.post("/api/frontend/v1/LvPlan/getRoomplan",{ort_kurzbz:t,start_date:e,end_date:r})},getStunden(){return this.$fhcApi.get("/api/frontend/v1/LvPlan/Stunden",{})},getOrtReservierungen(t,e,r){return this.$fhcApi.post(`/api/frontend/v1/LvPlan/getReservierungen/${t}`,{start_date:e,end_date:r})},getLvPlanReservierungen(t,e){return this.$fhcApi.post("/api/frontend/v1/LvPlan/getReservierungen",{start_date:t,end_date:e})},getLehreinheitStudiensemester(t){return this.$fhcApi.get(`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${t}`,{})},studiensemesterDateInterval(t){return this.$fhcApi.get(`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${t}`,{})},LvPlanEvents(t,e,r){return this.$fhcApi.get("/api/frontend/v1/LvPlan/LvPlanEvents",{start_date:t,end_date:e,lv_id:r})}},p={verband:{get(){return this.$fhcApi.get("api/frontend/v1/stv/verband")},favorites:{get(){return this.$fhcApi.get("api/frontend/v1/stv/favorites")},set(t){return this.$fhcApi.post("api/frontend/v1/stv/favorites/set",{favorites:t})}}},students:{uid(t,e){let r="api/frontend/v1/stv/students/"+encodeURIComponent(e)+"/uid/"+encodeURIComponent(t);return this.$fhcApi.getUri(r)},prestudent(t,e){let r="api/frontend/v1/stv/students/"+encodeURIComponent(e)+"/prestudent/"+encodeURIComponent(t);return this.$fhcApi.getUri(r)},person(t,e){let r="api/frontend/v1/stv/students/"+encodeURIComponent(e)+"/person/"+encodeURIComponent(t);return this.$fhcApi.getUri(r)},verband(t){return this.$fhcApi.getUri("api/frontend/v1/stv/students/"+t)}},filter:{getStg(){return this.$fhcApi.get("api/frontend/v1/stv/filter/getStg")},setStg(t){return this.$fhcApi.post("api/frontend/v1/stv/filter/setStg",{studiengang_kz:t})}},konto:{tabulatorConfig(t,e){return t.ajaxURL="api/frontend/v1/stv/konto/get",t.ajaxParams=()=>({person_id:e.modelValue.person_id||e.modelValue.map(t=>t.person_id),only_open:e.filter,studiengang_kz:e.studiengang_kz_intern?e.stg_kz:""}),t.ajaxRequestFunc=(t,e,r)=>this.$fhcApi.post(t,r,e),t.ajaxResponse=(t,e,r)=>r.data,t},checkDoubles(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/konto/checkDoubles",e,{confirmErrorHandler:t=>!0})},insert(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/konto/insert",e)},counter(t){return this.$fhcApi.post("api/frontend/v1/stv/konto/counter",t)},edit(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/konto/update",e)},delete(t){return this.$fhcApi.post("api/frontend/v1/stv/konto/delete",{buchungsnr:t})},getBuchungstypen(){return this.$fhcApi.get("api/frontend/v1/stv/konto/getBuchungstypen")}},group:{getGruppen(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/Gruppen/getGruppen/"+r.id)},deleteGroup(t){return this.$fhcApi.post("api/frontend/v1/stv/Gruppen/deleteGruppe/",t)}},kontakt:{getAdressen(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getAdressen/"+r.id)},addNewAddress(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/addNewAddress/"+e,r)},loadAddress(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/loadAddress/",{address_id:t})},updateAddress(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/updateAddress/"+e,r)},deleteAddress(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/deleteAddress/",{address_id:t})},getPlaces(t){return this.$fhcApi.get("api/frontend/v1/stv/address/getPlaces/"+t)},getFirmen(t){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getFirmen/"+t)},getNations(){return this.$fhcApi.get("api/frontend/v1/stv/address/getNations/")},getAdressentypen(){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getAdressentypen/")},getBankverbindung(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getBankverbindung/"+r.id)},addNewBankverbindung(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/addNewBankverbindung/"+e,r)},loadBankverbindung(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/loadBankverbindung/",{bankverbindung_id:t})},updateBankverbindung(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/updateBankverbindung/"+e,r)},deleteBankverbindung(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/deleteBankverbindung/",{bankverbindung_id:t})},getKontakte(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getKontakte/"+r.id)},addNewContact(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/addNewContact/"+e,r)},loadContact(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/loadContact/",{kontakt_id:t})},updateContact(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/kontakt/updateContact/"+e,r)},deleteContact(t){return this.$fhcApi.post("api/frontend/v1/stv/kontakt/deleteContact/",{kontakt_id:t})},getStandorteByFirma(t){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getStandorteByFirma/"+t)},getKontakttypen(){return this.$fhcApi.get("api/frontend/v1/stv/kontakt/getKontakttypen/")}},prestudent:{get(t,e){return this.$fhcApi.post("api/frontend/v1/stv/prestudent/get/"+encodeURIComponent(t)+"/"+encodeURIComponent(e))},updatePrestudent(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/prestudent/updatePrestudent/"+e,r)},getBezeichnungZGV(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBezeichnungZGV/")},getBezeichnungMZgv(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBezeichnungMZgv/")},getBezeichnungDZgv(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBezeichnungDZgv/")},getStgs(){return this.$fhcApi.get("api/frontend/v1/stv/lists/getStgs/")},getAusbildung(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getAusbildung/")},getAufmerksamdurch(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getAufmerksamdurch/")},getBerufstaetigkeit(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBerufstaetigkeit/")},getTypenStg(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getTypenStg/")},getBisstandort(){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getBisstandort/")},getHistoryPrestudent(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/status/getHistoryPrestudent/"+r.id)},getMaxSem(t){return this.$fhcApi.post("api/frontend/v1/stv/status/getMaxSemester/",{studiengang_kzs:t})},advanceStatus({prestudent_id:t,status_kurzbz:e,studiensemester_kurzbz:r,ausbildungssemester:n}){return this.$fhcApi.post("api/frontend/v1/stv/status/advanceStatus/"+t+"/"+e+"/"+r+"/"+n)},confirmStatus({prestudent_id:t,status_kurzbz:e,studiensemester_kurzbz:r,ausbildungssemester:n}){return this.$fhcApi.post("api/frontend/v1/stv/status/confirmStatus/"+t+"/"+e+"/"+r+"/"+n)},isLastStatus(t){return this.$fhcApi.get("api/frontend/v1/stv/status/isLastStatus/"+t)},deleteStatus({prestudent_id:t,status_kurzbz:e,studiensemester_kurzbz:r,ausbildungssemester:n}){return this.$fhcApi.post("api/frontend/v1/stv/status/deleteStatus/"+t+"/"+e+"/"+r+"/"+n)},getLastBismeldestichtag(){return this.$fhcApi.get("api/frontend/v1/stv/status/getLastBismeldestichtag/")},getHistoryPrestudents(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getHistoryPrestudents/"+r.id)}},status:{insertStatus(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/status/insertStatus/"+e,r)},loadStatus({prestudent_id:t,status_kurzbz:e,studiensemester_kurzbz:r,ausbildungssemester:n}){return this.$fhcApi.post("api/frontend/v1/stv/status/loadStatus/"+t+"/"+e+"/"+r+"/"+n)},updateStatus(t,{prestudent_id:e,status_kurzbz:r,studiensemester_kurzbz:n,ausbildungssemester:a},s){return this.$fhcApi.post(t,"api/frontend/v1/stv/status/updateStatus/"+e+"/"+r+"/"+n+"/"+a,s)},getStudienplaene(t){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getStudienplaene/"+t)},getStudiengang(t){return this.$fhcApi.get("api/frontend/v1/stv/prestudent/getStudiengang/"+t)},getStatusgruende(){return this.$fhcApi.get("api/frontend/v1/stv/status/getStatusgruende/")},getStati(){return this.$fhcApi.get("api/frontend/v1/stv/lists/getStati/")},addStudent(t,e){return this.$fhcApi.post("api/frontend/v1/stv/status/addStudent/"+t,e,{errorHeader:t})},changeStatus(t,e){return this.$fhcApi.post("api/frontend/v1/stv/status/changeStatus/"+t,e,{errorHeader:t})},getStatusarray(){return this.$fhcApi.get("api/frontend/v1/stv/status/getStatusarray/")}},details:{get(t,e){let r="api/frontend/v1/stv/student/get/"+encodeURIComponent(t)+"/"+encodeURIComponent(e);return this.$fhcApi.post(r)},save(t,e,r,n){let a="api/frontend/v1/stv/student/save/"+encodeURIComponent(e)+"/"+encodeURIComponent(r);return this.$fhcApi.post(t,a,n)}},exam:{getPruefungen(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getPruefungen/"+r.id)},loadPruefung(t){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/loadPruefung/"+t)},getTypenPruefungen(){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getTypenPruefungen")},getAllLehreinheiten(t){return this.$fhcApi.post("api/frontend/v1/stv/pruefung/getAllLehreinheiten/",t)},getLvsByStudent(t){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getLvsByStudent/"+t)},getLvsandLesByStudent(t,e){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getLvsandLesByStudent/"+t+"/"+e)},getLvsAndMas(t){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getLvsAndMas/"+t)},getMitarbeiterLv(t){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getMitarbeiterLv/"+t)},getNoten(){return this.$fhcApi.get("api/frontend/v1/stv/pruefung/getNoten")},checkZeugnisnoteLv(t){return this.$fhcApi.post("api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/",t)},addPruefung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/pruefung/insertPruefung/",e)},updatePruefung(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/stv/pruefung/updatePruefung/"+e,r)},deletePruefung(t){return this.$fhcApi.post("api/frontend/v1/stv/pruefung/deletePruefung/"+t)}},abschlusspruefung:{getAbschlusspruefung(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/"+r.id)},addNewAbschlusspruefung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/",e)},loadAbschlusspruefung(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/",{id:t})},updateAbschlusspruefung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/",e)},deleteAbschlusspruefung(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/",{id:t})},getTypenAbschlusspruefung(){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/")},getTypenAntritte(){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/")},getBeurteilungen(){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/")},getAkadGrade(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/getAkadGrade/",{studiengang_kz:t})},getTypStudiengang(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/",{studiengang_kz:t})},getMitarbeiter(t){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/"+t)},getPruefer(t){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getPruefer/"+t)},getNoten(){return this.$fhcApi.get("api/frontend/v1/stv/abschlusspruefung/getNoten/")},checkForExistingExams(t){return this.$fhcApi.post("api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/",{uids:t})}},grades:{list(){return this.$fhcApi.get("api/frontend/v1/stv/grades/list")},getCertificate(t,e){let r="api/frontend/v1/stv/grades/getCertificate/"+encodeURIComponent(t);return e&&(r=r+"/"+encodeURIComponent(e)),this.$fhcApi.get(r)},getTeacherProposal(t,e){let r="api/frontend/v1/stv/grades/getTeacherProposal/"+encodeURIComponent(t);return e&&(r=r+"/"+encodeURIComponent(e)),this.$fhcApi.get(r)},getRepeaterGrades(t,e){let r="api/frontend/v1/stv/grades/getRepeaterGrades/"+encodeURIComponent(t);return e&&(r=r+"/"+encodeURIComponent(e)),this.$fhcApi.get(r)},updateCertificate({lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:r,note:n,lehrveranstaltung_bezeichnung:a}){return this.$fhcApi.post("api/frontend/v1/stv/grades/updateCertificate",{lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:r,note:n},{errorHeader:a})},deleteCertificate({lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:r,lehrveranstaltung_bezeichnung:n}){return this.$fhcApi.post("api/frontend/v1/stv/grades/deleteCertificate",{lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:r},{errorHeader:n})},copyTeacherProposalToCertificate({lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:r,lehrveranstaltung_bezeichnung:n}){return this.$fhcApi.post("api/frontend/v1/stv/grades/copyTeacherProposalToCertificate",{lehrveranstaltung_id:t,student_uid:e,studiensemester_kurzbz:r},{errorHeader:n})},copyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id:t,lv_bezeichnung:e}){return this.$fhcApi.post("api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate",{studierendenantrag_lehrveranstaltung_id:t},{errorHeader:e})},getGradeFromPoints(t,e,r,n){const a=n?{errorHandling:!1}:{};return this.$fhcApi.post("api/frontend/v1/stv/grades/getGradeFromPoints",{points:t,lehrveranstaltung_id:e,studiensemester_kurzbz:r},a)}},mobility:{getMobilitaeten(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getMobilitaeten/"+r.id)},getProgramsMobility(){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getProgramsMobility/")},addNewMobility(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/mobility/insertMobility/",e)},loadMobility(t){return this.$fhcApi.get("api/frontend/v1/stv/mobility/loadMobility/"+t)},updateMobility(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/mobility/updateMobility/",e)},deleteMobility(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/deleteMobility/"+t)},getLVList(t){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getLVList/"+t)},getAllLehreinheiten(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/getAllLehreinheiten/",t)},getLvsandLesByStudent(t){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getLvsandLesByStudent/"+t)},getPurposes(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getPurposes/"+r.id)},getSupports(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getSupports/"+r.id)},getListPurposes(){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getListPurposes/")},getListSupports(){return this.$fhcApi.get("api/frontend/v1/stv/mobility/getListSupports/")},deleteMobilityPurpose(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/deleteMobilityPurpose/"+t.bisio_id,t)},addMobilityPurpose(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/addMobilityPurpose/"+t.bisio_id,t)},deleteMobilitySupport(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/deleteMobilitySupport/"+t.bisio_id,t)},addMobilitySupport(t){return this.$fhcApi.post("api/frontend/v1/stv/mobility/addMobilitySupport/"+t.bisio_id,t)}},archiv:{tabulatorConfig(t,e){return t.ajaxURL="api/frontend/v1/stv/archiv/get",t.ajaxParams=()=>({person_id:e.modelValue.person_id||e.modelValue.map(t=>t.person_id)}),t.ajaxRequestFunc=(t,e,r)=>this.$fhcApi.post(t,r,e),t.ajaxResponse=(t,e,r)=>r.data,t},getArchivVorlagen(){return this.$fhcApi.post("api/frontend/v1/stv/archiv/getArchivVorlagen")},archive(t){return this.$fhcApi.post("api/frontend/v1/documents/archive",t)},archiveSigned(t){return this.$fhcApi.post("api/frontend/v1/documents/archiveSigned",t)},update(t){return this.$fhcApi.post("api/frontend/v1/stv/archiv/update",t)},delete({akte_id:t,studiengang_kz:e}){return this.$fhcApi.post("api/frontend/v1/stv/archiv/delete",{akte_id:t,studiengang_kz:e})}},documents:{getDocumentsUnaccepted(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/"+r.id+"/"+r.studiengang_kz)},getDocumentsAccepted(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/dokumente/getDocumentsAccepted/"+r.id+"/"+r.studiengang_kz)},deleteZuordnung(t){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/deleteZuordnung/"+t.prestudent_id+"/"+t.dokument_kurzbz)},createZuordnung(t){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/createZuordnung/"+t.prestudent_id+"/"+t.dokument_kurzbz)},loadAkte(t){return this.$fhcApi.get("api/frontend/v1/stv/dokumente/loadAkte/"+t)},getDoktypen(){return this.$fhcApi.get("api/frontend/v1/stv/dokumente/getDoktypen/")},updateFile(t,e){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/updateAkte/"+t,e)},deleteFile(t){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/deleteAkte/"+t)},uploadFile(t,e){return this.$fhcApi.post("api/frontend/v1/stv/dokumente/uploadDokument/"+t,e)}},exemptions:{getAnrechnungen(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getAnrechnungen/"+r.id)},getLehrveranstaltungen(t){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/"+t)},getBegruendungen(){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getBegruendungen/")},getLvsKompatibel(t){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getLvsKompatibel/"+t)},getLektoren(t){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/getLektoren/"+t)},addNewAnrechnung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/anrechnungen/insertAnrechnung/",e)},loadAnrechnung(t){return this.$fhcApi.get("api/frontend/v1/stv/anrechnungen/loadAnrechnung/"+t)},editAnrechnung(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/anrechnungen/updateAnrechnung/",e)},deleteAnrechnung(t){return this.$fhcApi.post("api/frontend/v1/stv/anrechnungen/deleteAnrechnung/"+t)}},jointstudies:{getStudies(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getStudien/"+r.id)},getTypenMobility(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/")},getStudiensemester(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/")},getStudyprograms(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/")},getListPartner(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/")},getStatiPrestudent(){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/")},loadStudy(t){return this.$fhcApi.get("api/frontend/v1/stv/GemeinsameStudien/loadStudie/"+t)},insertStudy(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/GemeinsameStudien/insertStudie/",e)},updateStudy(t,e){return this.$fhcApi.post(t,"api/frontend/v1/stv/GemeinsameStudien/updateStudie/",e)},deleteStudy(t){return this.$fhcApi.post("api/frontend/v1/stv/GemeinsameStudien/deleteStudie/"+t)}},courselist:{getCourselist(t,e,r){return this.$fhcApi.get("api/frontend/v1/stv/LvTermine/getStundenplan/"+r.student_uid+"/"+r.start_date+"/"+r.end_date+"/"+r.group_consecutiveHours+"/"+r.dbStundenplanTable)},getStudiensemester(){return this.$fhcApi.get("api/frontend/v1/stv/LvTermine/getStudiensemester/")}},configStudent(){return this.$fhcApi.get("api/frontend/v1/stv/config/student")},configStudents(){return this.$fhcApi.get("api/frontend/v1/stv/config/students")}},h={person:{getNotizen(t,e,r){return this.$fhcApi.get("api/frontend/v1/notiz/notizPerson/getNotizen/"+r.id+"/"+r.type)},getUid(){return this.$fhcApi.get("api/frontend/v1/notiz/notizPerson/getUid/")},addNewNotiz(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/notiz/notizPerson/addNewNotiz/"+e,r)},loadNotiz(t){return this.$fhcApi.post("api/frontend/v1/notiz/notizPerson/loadNotiz/",{notiz_id:t})},loadDokumente(t){return this.$fhcApi.post("api/frontend/v1/notiz/notizPerson/loadDokumente/",{notiz_id:t})},deleteNotiz(t,e,r){return this.$fhcApi.post("api/frontend/v1/notiz/notizPerson/deleteNotiz/",{notiz_id:t,type_id:e,id:r})},updateNotiz(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/notiz/notizPerson/updateNotiz/"+e,r)},getMitarbeiter(t){return this.$fhcApi.get("api/frontend/v1/notiz/notizPerson/getMitarbeiter/"+t)},isBerechtigt(t,e){return this.$fhcApi.get("api/frontend/v1/notiz/notizPerson/isBerechtigt/")}}},f={person:{getAllBetriebsmittel(t,e,r){return this.$fhcApi.get("api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/"+r.type+"/"+r.id)},addNewBetriebsmittel(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/"+e,r)},loadBetriebsmittel(t){return this.$fhcApi.post("api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/"+t)},updateBetriebsmittel(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/"+e,r)},deleteBetriebsmittel(t){return this.$fhcApi.post("api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/"+t)},getTypenBetriebsmittel(){return this.$fhcApi.get("api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/")},loadInventarliste(t){return this.$fhcApi.get("api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/"+t)}}},g={updatePersonUnrulyStatus(t,e){try{const r={person_id:t,unruly:e},n="/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus";return this.$fhcApi.post(n,r,null)}catch(t){throw t}},filterPerson(t,e=""){try{const r=e+"/api/frontend/v1/checkperson/CheckPerson/filterPerson";return axios.post(r,t)}catch(t){throw t}}},v={getContentID(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Ort/ContentID",{ort_kurzbz:t})},getRooms(t,e,r,n,a=0){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Ort/getRooms",{datum:t,von:e,bis:r,typ:n,personenanzahl:a})},getRoomTypes(){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Ort/getTypes")}},m={content(t,e=null,r=null,n=null){return this.$fhcApi.get("/api/frontend/v1/Cms/content",{content_id:t,...e?{version:e}:{},...r?{sprache:r}:{},...n?{sichtbar:n}:{}})},getNews(t=1,e=10,r){return this.$fhcApi.get("/api/frontend/v1/Cms/getNews",{page:t,page_size:e,sprache:r})},news(t){return this.$fhcApi.get("/api/frontend/v1/Cms/news",{limit:t})},getNewsRowCount:function(){return this.$fhcApi.get("/api/frontend/v1/Cms/getNewsRowCount",{})},getNewsExtra:function(){return this.$fhcApi.get("/api/frontend/v1/Cms/getStudiengangInfoForNews",{})}},b={getStudentenMail(t){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/api/frontend/v1/Lehre/lvStudentenMail",{lehreinheit_id:t})},getLvInfo(t,e){return this.$fhcApi.get(`/api/frontend/v1/Lehre/LV/${t}/${e}`,{})},getStudentPruefungen(t){return this.$fhcApi.get(`/api/frontend/v1/Lehre/Pruefungen/${t}`,{})},getStudentProjektarbeiten(t){return this.$fhcApi.get(`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${t}`,{})},getStudentProjektabgaben(t){return this.$fhcApi.get("/api/frontend/v1/Lehre/getStudentProjektabgaben",{projektarbeit_id:t.projektarbeit_id,student_uid:t.student_uid})},postStudentProjektarbeitEndupload(t){return this.$fhcApi.post("/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload",t,{Headers:{"Content-Type":"multipart/form-data"}})},postStudentProjektarbeitZwischenabgabe(t){return this.$fhcApi.post("/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe",t,{Headers:{"Content-Type":"multipart/form-data"}})},getStudentProjektarbeitAbgabeFile(t,e){const r=`/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${t}&student_uid=${e}`;window.location=FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+r},getMitarbeiterProjektarbeiten(t,e){return this.$fhcApi.get(`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${e}`,{})},postProjektarbeitAbgabe(t){const e={paabgabe_id:t.paabgabe_id,paabgabetyp_kurzbz:t.bezeichnung.paabgabetyp_kurzbz,datum:t.datum,fixtermin:t.fixtermin,insertvon:t.insertvon,kurzbz:t.kurzbz,projektarbeit_id:t.projektarbeit_id};return this.$fhcApi.post("/api/frontend/v1/Lehre/postProjektarbeitAbgabe",e,null)},deleteProjektarbeitAbgabe(t){const e={paabgabe_id:t};return this.$fhcApi.post("/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe",e,null)},postSerientermin(t,e,r,n,a){const s={datum:t,paabgabetyp_kurzbz:e,bezeichnung:r,kurzbz:n,projektarbeit_ids:a};return this.$fhcApi.post("/api/frontend/v1/Lehre/postSerientermin",s,null)},fetchDeadlines(t){const e={person_id:t};return this.$fhcApi.post("/api/frontend/v1/Lehre/fetchDeadlines",e,null)}},_={getLvMenu(t,e){return this.$fhcApi.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+`/api/frontend/v1/LvMenu/getLvMenu/${t}/${e}`,{})}},A={person:{getMessages(t,e,r){return this.$fhcApi.get("api/frontend/v1/messages/messages/getMessages/"+r.id+"/"+r.type+"/"+r.size+"/"+r.page)},getVorlagen(){return this.$fhcApi.get("api/frontend/v1/messages/messages/getVorlagen/")},getMsgVarsLoggedInUser(){return this.$fhcApi.get("api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/")},getMessageVarsPerson(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getMessageVarsPerson/"+t.id+"/"+t.type_id)},getMsgVarsPrestudent(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getMsgVarsPrestudent/"+t.id+"/"+t.type_id)},getPersonId(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getPersonId/"+t.id+"/"+t.type_id)},getUid(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getUid/"+t.id+"/"+t.type_id)},getDataVorlage(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getDataVorlage/"+t)},getNameOfDefaultRecipient(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getNameOfDefaultRecipient/"+t.id+"/"+t.type_id)},getPreviewText(t,e){return this.$fhcApi.post("api/frontend/v1/messages/messages/getPreviewText/"+t.id+"/"+t.type_id,e)},getReplyData(t){return this.$fhcApi.get("api/frontend/v1/messages/messages/getReplyData/"+t)},sendMessageFromModalContext(t,e,r){return this.$fhcApi.post(t,"api/frontend/v1/messages/messages/sendMessage/"+e,r)},sendMessage(t,e){return this.$fhcApi.post("api/frontend/v1/messages/messages/sendMessage/"+t,e)},deleteMessage(t){return this.$fhcApi.post("api/frontend/v1/messages/messages/deleteMessage/"+t)}}},y={getVorlagen(){return this.$fhcApi.get("api/frontend/v1/vorlagen/vorlagen/getVorlagen/")},getVorlagenByLoggedInUser(){return this.$fhcApi.get("api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/")}},$={getStudiensemester:function(){return this.$fhcApi.get("/components/Cis/Mylv/Studiensemester",{})},getAllStudienSemester:function(t=void 0,e=void 0,r=void 0,n=void 0){return this.$fhcApi.get("/api/frontend/v1/Studium/getStudienAllSemester",{studiensemester:t,studiengang:e,semester:r,studienplan:n})},getStudiengaengeForStudienSemester:function(t){return this.$fhcApi.get(`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${t}`,{})},getStudienplaeneBySemester:function(t,e){return this.$fhcApi.get("/api/frontend/v1/Studium/getStudienplaeneBySemester",{studiengang:t,studiensemester:e})},getLvPlanForStudiensemester:function(t,e){return this.$fhcApi.get(`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${t}/${e}`,{})},getLvEvaluierungInfo:function(t,e){return this.$fhcApi.get(`/api/frontend/v1/Studium/getLvEvaluierungInfo/${t}/${e}`,{})}},S={search:a,phrasen:s,navigation:i,dashboard:{async getViewData(){return this.$fhcApi.get("/api/frontend/v1/Cis4FhcApi/getViewData",null,null)}},filter:o,studstatus:l,profil:c,profilUpdate:d,lvPlan:u,bookmark:{getBookmarks:function(){return this.$fhcApi.get("/api/frontend/v1/Bookmark/getBookmarks",{})},delete:function(t){return this.$fhcApi.get(`/api/frontend/v1/Bookmark/delete/${t}`,{})},update:function({bookmark_id:t,url:e,title:r,tag:n=null}){return this.$fhcApi.post(`/api/frontend/v1/Bookmark/update/${t}`,{url:e,title:r})},insert:function({url:t,title:e,tag:r}){return this.$fhcApi.post("/api/frontend/v1/Bookmark/insert",{url:t,title:e,tag:r})}},stv:p,notiz:h,betriebsmittel:f,checkperson:g,ampeln:{open:function(){return this.$fhcApi.get("/api/frontend/v1/Ampeln/open",{})},all:function(){return this.$fhcApi.get("/api/frontend/v1/Ampeln/all",{})},confirm:function(t){return this.$fhcApi.get(`/api/frontend/v1/Ampeln/confirm/${t}`,{})}},ort:v,cms:m,lehre:b,addons:_,messages:A,vorlagen:y,addons:_,studiengang:{studiengangInformation:function(){return this.$fhcApi.get("/api/frontend/v1/Studgang/getStudiengangInfo",{})},getStudiengangByKz:function(t){return this.$fhcApi.get("/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz",{studiengang_kz:t})}},menu:{getMenu:function(){return this.$fhcApi.get("/api/frontend/v1/CisMenu/getMenu",{})}},authinfo:{getAuthUID(){return this.$fhcApi.get("/api/frontend/v1/AuthInfo/getAuthUID",{})},getAuthInfo(){return this.$fhcApi.get("/api/frontend/v1/AuthInfo/getAuthInfo",{})}},studium:$,language:{getAll(){return this.$fhcApi.get("/api/frontend/v1/language/get")}}},k={install:(t,e)=>{if(t.config.globalProperties.$fhcApi)return void(e?.factory&&(console.warn("$fhcApi is DEPRECATED!"),t.config.globalProperties.$fhcApi.factory.addEndpoints(e.factory)));function r(t,e,r,n){if("string"==typeof t&&void 0===n)[e,r,n]=[t,e,r],t=void 0;else if(t){if("object"!=typeof t)throw new TypeError("Parameter 1 of _get_config must be an object or a string");void 0===e&&void 0===r&&void 0===n&&(n=t,t=void 0)}if(t){if(!t.clearValidation||!t.setFeedback)throw new TypeError("'form' is not a Form Component");t={clearValidation:t.clearValidation,setFeedback:t.setFeedback},n?n.form=t:n={form:t}}return[e,r,n]}function n(t){const e=t.data;return delete t.data,e.meta?e.meta.response=t:e.meta={response:t},e}FHC_JS_DATA_STORAGE_OBJECT.app_root,FHC_JS_DATA_STORAGE_OBJECT.ci_router;const a=axios.create({timeout:5e5,baseURL:FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/"});a.interceptors.request.use(t=>{if("post"!=t.method||!t.data)return t;if(t.data instanceof FormData)return t;if(!Object.values(t.data).every(t=>!(t instanceof FileList)&&(!Array.isArray(t)||t.every(t=>!(t instanceof File))))){const e=Object.entries(t.data).reduce((t,[e,r])=>{if(r instanceof FileList)for(const n of r)t.FormData.append(e+(r.length>1?"[]":""),n);else Array.isArray(r)?r.every(t=>!(t instanceof File))?t.jsondata[e]=r:r.forEach(n=>t.FormData.append(e+(r.length>1?"[]":""),n)):t.jsondata[e]=r;return t},{FormData:new FormData,jsondata:{}});e.FormData.append("_jsondata",JSON.stringify(e.jsondata)),t.data=e.FormData}return t}),a.interceptors.response.use(e=>("off"==e.config?.errorHandling||!1===e.config?.errorHandling||"fail"==e.config?.errorHandling||e.data.errors&&(e.data.errors=e.data.errors.filter(r=>(e.config[r.type+"ErrorHandler"]||t.config.globalProperties.$fhcApi._defaultErrorHandlers[r.type])(r,e.config))),n(e)),e=>"ERR_CANCELED"==e.code?Promise.reject({handled:!0,...e}):"off"==e.config?.errorHandling||!1===e.config?.errorHandling||"success"==e.config?.errorHandling?Promise.reject(e):e.response?404==e.response.status?(t.config.globalProperties.$fhcAlert.alertDefault("error",e.message,e.request.responseURL,!0),Promise.reject({handled:!0,...e})):(e.response.data.errors=e.response.data.errors.filter(r=>(e.config[r.type+"ErrorHandler"]||t.config.globalProperties.$fhcApi._defaultErrorHandlers[r.type])(r,e.config)),e.response.data.errors.length?Promise.reject(e):Promise.reject({handled:!0,...e})):e.request?(t.config.globalProperties.$fhcAlert.alertDefault("error",e.message,e.request.responseURL),Promise.reject({handled:!0,...e})):(t.config.globalProperties.$fhcAlert.alertError(e.message),Promise.reject({handled:!0,...e}))),t.config.globalProperties.$fhcApi={getUri:t=>(console.warn("$fhcApi.getUri is DEPRECATED! Use $api.getUri instead."),a.getUri({url:t})),get:(t,e,n,s)=>(console.warn("$fhcApi.get is DEPRECATED! Use $api.get instead."),[e,n,s]=r(t,e,n,s),n&&(s?s.params=n:s={params:n}),a.get(e,s)),post:(t,e,n,s)=>(console.warn("$fhcApi.post is DEPRECATED! Use $api.post instead."),[e,n,s]=r(t,e,n,s),a.post(e,n,s)),_defaultErrorHandlers:{validation(e,r){const n=t.config.globalProperties.$fhcAlert;return r?.form?(r.form.clearValidation(),r.form.setFeedback(!1,e.messages),!1):Array.isArray(e.messages)?(e.messages.forEach(n.alertError),!1):"object"!=typeof e.messages||(r?.errorHeader?Object.values(e.messages).forEach(e=>n.alertDefault("error",Array.isArray(r.errorHeader)?t.config.globalProperties.$p.t.apply(null,r.errorHeader):r.errorHeader,e,!0)):Object.entries(e.messages).forEach(([t,e])=>n.alertDefault("error",t,e,!0)),!1)},general(e,r){const n=t.config.globalProperties.$fhcAlert;r?.form?r.form.setFeedback(!1,e.message):r?.errorHeader?n.alertDefault("error",Array.isArray(r.errorHeader)?t.config.globalProperties.$p.t.apply(null,r.errorHeader):r.errorHeader,e.message,!0):n.alertError(e.message)},php(e){const r=t.config.globalProperties.$fhcAlert;var n="";switch(n+="Message: "+e.message+"\n\n",n+="Filename: "+e.filename+"\n",n+="Line Number: "+e.line+"\n",e.backtrace&&e.backtrace.length&&(n+="\nBacktrace: ",e.backtrace.forEach(t=>{n+="\n\tFile: "+t.file+"\n",n+="\tLine: "+t.line+"\n",n+="\tFunction: "+t.function+"\n"})),e.severity){case"Warning":case"Core Warning":case"Compile Warning":case"User Warning":r.alertDefault("warn","PHP "+e.severity,n,!0);break;case"Notice":case"User Notice":case"Runtime Notice":r.alertDefault("info","PHP "+e.severity,n,!0);break;default:n="Type: PHP "+e.severity+"\n\n"+n,r.alertSystemError(n)}},exception(e){const r=t.config.globalProperties.$fhcAlert;var n="";n+="Type: "+e.class+"\n\n",n+="Message: "+e.message+"\n\n",n+="Filename: "+e.filename+"\n",n+="Line Number: "+e.line+"\n",e.backtrace&&e.backtrace.length&&(n+="\nBacktrace: ",e.backtrace.forEach(t=>{n+="\n\tFile: "+t.file+"\n",n+="\tLine: "+t.line+"\n",n+="\tFunction: "+t.function+"\n"})),r.alertSystemError(n)},db(e){const r=t.config.globalProperties.$fhcAlert;var n="";void 0!==e.heading&&(n+=e.heading+"\n\n"),void 0!==e.code&&(n+="Code: "+e.code+"\n\n"),void 0!==e.sql&&(n+="SQL: "+e.sql+"\n\n"),void 0!==e.message?n+="Message: "+e.message+"\n\n":void 0!==e.messages&&(n+="Messages: "+e.messages.join("\n\t")+"\n\n"),void 0!==e.filename&&(n+="Filename: "+e.filename+"\n"),void 0!==e.line&&(n+="Line Number: "+e.line+"\n"),r.alertSystemError(n)},auth(e,r){const n=t.config.globalProperties.$fhcAlert;var a="";a+="Controller name: "+e.controller+"\n",a+="Method name: "+e.method+"\n",a+="Required permissions: "+e.required_permissions,r?.errorHeader?n.alertDefault("error",Array.isArray(r.errorHeader)?t.config.globalProperties.$p.t.apply(null,r.errorHeader):r.errorHeader,e.message,!0):n.alertDefault("error",e.message,a)}}};class s{constructor(e,r){void 0===r?(this.$fhcApi={getUri:e=>(console.warn("$fhcApi.factory is DEPRECATED!"),t.config.globalProperties.$fhcApi.getUri(e)),get:(e,r,n,a)=>(console.warn("$fhcApi.factory is DEPRECATED!"),t.config.globalProperties.$fhcApi.get(e,r,n,a)),post:(e,r,n,a)=>(console.warn("$fhcApi.factory is DEPRECATED!"),t.config.globalProperties.$fhcApi.post(e,r,n,a))},Object.defineProperty(this.$fhcApi,"factory",{get:()=>(console.warn("$fhcApi.factory is DEPRECATED!"),t.config.globalProperties.$fhcApi.factory)}),t.config.globalProperties.$fhcApi.factory=this):Object.defineProperty(this,"$fhcApi",{get(){return(r||this).$fhcApi}}),this.addEndpoints(e,!0)}addEndpoints(t,e){Object.keys(t).forEach(e=>{Object.defineProperty(this,e,{get(){return"function"==typeof t[e]?t[e].bind(this):new s(t[e],this.$fhcApi.factory)}})}),e||console.warn("$fhcApi.factory.addEndpoints() is DEPRECATED!")}}const i=new s(S);e?.factory&&(console.warn("$fhcApi is DEPRECATED!"),i.addEndpoints(e.factory)),t.config.globalProperties.$fhcApi.factory=i,t.provide("$fhcApi",t.config.globalProperties.$fhcApi)}};const E="error",C="retval",T={get:function(t,e,r=null){return T._axiosCall(t,e,"get",r)},post:function(t,e,r=null){return T._axiosCall(t,e,"post",r)},isSuccess:function(t){return!("object"!=typeof t||!t.hasOwnProperty(E)||!t.hasOwnProperty(C)||0!=t.error)},isError:function(t){return!T.isSuccess(t)},hasData:function(t){return!(!T.isSuccess(t)||!("object"==typeof t[C]&&Object.keys(t[C]).length>0||"array"==typeof t[C]&&t[C].length>0||"string"==typeof t[C]&&""!=t[C].trim()||"number"==typeof t[C]))},getData:function(t){return T.hasData(t)?t[C]:null},getError:function(t){return"object"==typeof t&&Object.keys(t).length>0&&t.hasOwnProperty(C)?t[C]:"Generic error"},getErrorCode:function(t){return"object"==typeof t&&t.hasOwnProperty(E)?t[E]:1},_generateRouterURI:function(t){var e=null;return"undefined"!=typeof FHC_JS_DATA_STORAGE_OBJECT&&(e=FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/"+t),e},_printDebug:function(t,e,r){},_axiosCall:function(t,e,r,n){let a={method:r,url:T._generateRouterURI(t),timeout:5e3};if("get"==r?a.params=e:a.data=e,"object"==typeof n)for(var s in n)a[s]=n[s];return axios(a)}},P=document.createElement("div"),w=Vue.createApp({name:"FhcAlertApp",components:{PvToast:e,PvConfirm:r},methods:{mailToUrl:t=>"mailto:"+FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto+"?subject=Meldung%20Systemfehler&body="+("\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausführlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewählt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: "+FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method+"%0D%0A\n\t\t\t\tFehler Meldung: "+t.message.detail+"%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kümmern uns um eine rasche Behebung des Problems!"),openMessagecard(t){bootstrap.Collapse.getOrCreateInstance(t.target.getAttribute("href")).toggle()}},unmounted(){P.parentElement.removeChild(P)},computed:{showmaillink:function(){return""!==FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto}},template:'\n\t<pv-toast ref="toast" class="fhc-alert" :base-z-index="99999">\n\t\t<template #message="{ message }">\n\t\t\t\x3c!--span :class="slotProps.iconClass"></span--\x3e\n\t\t\t<div class="p-toast-message-text">\n\t\t\t\t<span class="p-toast-summary">{{ message.summary }}</span>\n\t\t\t\t<div v-if="message.detail && message.html" class="p-toast-detail" v-html="message.detail"></div>\n\t\t\t\t<div v-else-if="message.detail" class="p-toast-detail">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref="alert" class="fhc-alert" :base-z-index="99999" position="center">\n\t\t<template #message="slotProps">\n\t\t\t<i class="fa fa-circle-exclamation fa-2xl mt-3"></i>\n\t\t\t<div class="p-toast-message-text">\n\t\t\t\t<span class="p-toast-summary">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class="p-toast-detail my-3">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class="d-flex justify-content-between align-items-center">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass="align-bottom flex-fill me-2"\n\t\t\t\t\t\tdata-bs-toggle="collapse"\n\t\t\t\t\t\t:href="\'#fhcAlertCollapseMessageCard\' + slotProps.message.id"\n\t\t\t\t\t\trole="button"\n\t\t\t\t\t\taria-expanded="false"\n\t\t\t\t\t\t:aria-controls="\'fhcAlertCollapseMessageCard\' + slotProps.message.id"\n\t\t\t\t\t\t@click="openMessagecard"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if="showmaillink"\n\t\t\t\t\t\tclass="btn btn-primary flex-fill"\n\t\t\t\t\t\ttarget="_blank"\n\t\t\t\t\t\t:href="mailToUrl(slotProps)"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref="messageCard" :id="\'fhcAlertCollapseMessageCard\' + slotProps.message.id" class="collapse mt-3">\n\t\t\t\t\t<div class="card card-body text-body small alertCollapseText">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group="fhcAlertConfirm"></pv-confirm>'});w.use(t),w.use(n);const D=w.mount(P);document.body.appendChild(P);var O={install:(t,e)=>{t.config.globalProperties.$p||t.use(J);const r={alertSuccess(t){if(Array.isArray(t))return t.forEach(this.alertSuccess);D.$refs.toast.add({severity:"success",summary:"Info",detail:t,life:1e3})},alertInfo(t){if(Array.isArray(t))return t.forEach(this.alertInfo);D.$refs.toast.add({severity:"info",summary:"Info",detail:t,life:3e3})},alertWarning(t){if(Array.isArray(t))return t.forEach(this.alertWarning);D.$refs.toast.add({severity:"warn",summary:"Achtung",detail:t})},alertError(t){if(Array.isArray(t))return t.forEach(this.alertError);D.$refs.toast.add({severity:"error",summary:"Achtung",detail:t})},alertSystemError(e){if(Array.isArray(e))return e.forEach(this.alertSystemError);D.$refs.alert.add({severity:"error",summary:Vue.computed(()=>t.config.globalProperties.$p.t("alert/systemerror")),detail:e})},confirmDelete:()=>new Promise((e,r)=>{D.$confirm.require({group:"fhcAlertConfirm",header:Vue.computed(()=>t.config.globalProperties.$p.t("alert/attention")),message:Vue.computed(()=>t.config.globalProperties.$p.t("alert/confirm_delete")),acceptLabel:Vue.computed(()=>t.config.globalProperties.$p.t("ui/loeschen")),acceptClass:"p-button-danger",rejectLabel:Vue.computed(()=>t.config.globalProperties.$p.t("ui/abbrechen")),rejectClass:"p-button-secondary",accept(){e(!0)},reject(){e(!1)}})}),confirm:e=>new Promise((r,n)=>{D.$confirm.require({group:e?.group??"fhcAlertConfirm",header:e?.header??Vue.computed(()=>t.config.globalProperties.$p.t("alert/attention")),message:e?.message??"",acceptLabel:e?.acceptLabel??"Ok",acceptClass:e?.acceptClass??"btn btn-primary",rejectLabel:e?.rejectLabel??Vue.computed(()=>t.config.globalProperties.$p.t("ui/abbrechen")),rejectClass:e?.rejectClass??"btn btn-outline-secondary",accept(){r(!0)},reject(){r(!1)}})}),alertDefault(t,e,r,n=!1,a=!1){let s={severity:t,summary:e,detail:r,html:a};n||(s.life=3e3),D.$refs.toast.add(s)},alertMultiple(t,e="info",r="Info",n=!1,a=!1){return!!t.every(t=>"string"==typeof t)&&(t.forEach(t=>this.alertDefault(e,r,t,n,a)),!0)},handleSystemError(t){if(!t.hasOwnProperty("name")||t.name.toLowerCase()!=="AbortError".toLowerCase()){if("string"==typeof t)return r.alertSystemError(t);if(Array.isArray(t)&&t.every(t=>"string"==typeof t))return t.every(r.alertSystemError);if(!t.hasOwnProperty("handled")||!t.handled){if("object"==typeof t&&null!==t){let e="";return t.hasOwnProperty("response")&&t.response?.data?.retval?e+="Error Message: "+(t.response.data.retval.message||t.response.data.retval)+"\r\n":t.hasOwnProperty("message")&&(e+="Error Message: "+t.message.toUpperCase()+"\r\n"),t.hasOwnProperty("config")&&t.config.hasOwnProperty("url")&&(e+="Error ConfigURL: "+t.config.url+"\r\n"),t.hasOwnProperty("stack")&&(e+="Error Stack: "+t.stack+"\r\n"),""==e&&(e="Error Message: "+JSON.stringify(t)+"\r\n"),e+="Error Controller Path: "+FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method,r.alertSystemError(e)}r.alertSystemError("alertSystemError throws Generic Error\r\nError Controller Path: "+FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method)}}},handleSystemMessage(t){if("string"==typeof t)return r.alertWarning(t);if(Array.isArray(t)){if(t.every(t=>"string"==typeof t))return t.every(r.alertWarning);if(t.every(t=>"object"==typeof t)&&null!==msg)return t.every(t=>{t.hasOwnProperty("data")&&t.data.hasOwnProperty("retval")?r.alertWarning(JSON.stringify(t.data.retval)):r.alertSystemError(JSON.stringify(t))})}"object"!=typeof t||null===t?r.alertSystemError("alertSystemError throws Generic Error\r\nError Controller Path: "+FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method):t.hasOwnProperty("data")&&t.data.hasOwnProperty("retval")?r.alertWarning(JSON.stringify(t.data.retval)):r.alertSystemError(JSON.stringify(t))},resetFormValidation(t){const e=new Event("fhc-form-reset");t.querySelectorAll(["[data-fhc-form-validate],[data-fhc-form-error]"]).forEach(t=>t.dispatchEvent(e))},handleFormValidation(t,e){if(void 0===e){if(t&&t.nodeType===Node.ELEMENT_NODE)return e=>r.handleFormValidation(e,t)}else if(400==t?.response?.status){let n=T.getError(t.response.data);"object"!=typeof n&&(n=t.response.data),r.resetFormValidation(e);const a=Object.entries(n).filter(([t,r])=>{const n=e.querySelector('[data-fhc-form-validate="'+t+'"]');return!n||(n.dispatchEvent(new CustomEvent("fhc-form-invalidate",{detail:r})),!1)}).map(t=>t[1]),s=e.querySelector("[data-fhc-form-error]");return void(s&&a.length?s.dispatchEvent(new CustomEvent("fhc-form-error",{detail:a})):a.forEach(r.alertError))}if(400==t?.response?.status){let e=T.getError(t.response.data);r.alertError("object"==typeof e?Object.values(e):e)}else r.handleSystemError(t)}};t.config.globalProperties.$fhcAlert=r,t.provide("$fhcAlert",t.config.globalProperties.$fhcAlert)}},F={install:(t,e)=>{if(t.config.globalProperties.$api)return;function r(t,e){Array.isArray(t)?t.forEach(e):Object.entries(t).forEach(([t,r])=>r.forEach(r=>e(r,t)))}t.config.globalProperties.$fhcAlert||t.use(O);let n={success:!0,fail:!0,combine:{form:["validation","general"],toast:["validation","general","not_found","site_failed"]},handler:{form(t,e){t.clearValidation(),e.forEach(e=>t.setFeedback(!1,e.messages||e.message))},async toast(e){const r=t.config.globalProperties.$p;if(!r)return Promise.reject("Phrasen plugin not loaded!");async function n(t){t=t.reduce((t,e)=>{switch(e.type){case"not_found":case"site_failed":e.message?t[e.message]=[e.url]:t._default=[e.url];break;case"general":t._default||(t._default=[]),t._default.push(e.message);break;case"validation":Object.entries(e.messages).forEach(([e,r])=>{t[e]||(t[e]=[]),Array.isArray(r)?t[e].push(...r):t[e].push(r)})}return t},{});let e=0;const n=await Promise.all(Object.entries(t).sort((t,e)=>["_default"].indexOf(e[0])-["_default"].indexOf(t[0])).map(async([t,n])=>{if("_default"==t){await r.loadCategory("dashboard");t='<dt class="d-none">'+r.t("dashboard/general")+"</dt>"}else t="<dt>"+t+"</dt>";return e+=n.length,t+"<dd>"+n.join("</dd><dd>")+"</dd>"}));return{counter:e,msgs:n}}let a,s;Array.isArray(e)?({counter:a,msgs:s}=await n(e)):({counter:a,msgs:s}=await Object.entries(e).reduce(async(t,[e,r])=>{const a=await t,{counter:s,msgs:i}=await n(r);return a.counter+=s,a.msgs.push("<dt>"+e+"</dt><dd><dl>"+i.join("")+"</dl></dd>"),a},Promise.resolve({counter:0,msgs:[]}))),await r.loadCategory("ui");const i=r.t("ui/n_errors",{n:a});t.config.globalProperties.$fhcAlert.alertDefault("error",i,"<dl>"+s.join("")+"</dl>",!0,!0)},php(e){r(e,(e,r)=>{var n="";switch(n+="Message: "+e.message+"\n\n",n+="Filename: "+e.filename+"\n",n+="Line Number: "+e.line+"\n",e.backtrace&&e.backtrace.length&&(n+="\nBacktrace: ",e.backtrace.forEach(t=>{n+="\n\tFile: "+t.file+"\n",n+="\tLine: "+t.line+"\n",n+="\tFunction: "+t.function+"\n"})),e.severity){case"Warning":case"Core Warning":case"Compile Warning":case"User Warning":r?r+=": PHP "+e.severity:r="PHP "+e.severity,t.config.globalProperties.$fhcAlert.alertDefault("warn",r,n,!0);break;case"Notice":case"User Notice":case"Runtime Notice":r?r+=": PHP "+e.severity:r="PHP "+e.severity,t.config.globalProperties.$fhcAlert.alertDefault("info",r,n,!0);break;default:n="Type: PHP "+e.severity+"\n\n"+n,r&&(n=r+"\n\n"+n),t.config.globalProperties.$fhcAlert.alertSystemError(n)}})},exception(e){r(e,(e,r)=>{var n="";r&&(n+=r+"\n\n"),n+="Type: "+e.class+"\n\n",n+="Message: "+e.message+"\n\n",n+="Filename: "+e.filename+"\n",n+="Line Number: "+e.line+"\n",e.backtrace&&e.backtrace.length&&(n+="\nBacktrace: ",e.backtrace.forEach(t=>{n+="\n\tFile: "+t.file+"\n",n+="\tLine: "+t.line+"\n",n+="\tFunction: "+t.function+"\n"})),t.config.globalProperties.$fhcAlert.alertSystemError(n)})},db(e){r(e,(e,r)=>{var n="";r&&(n+=r+"\n\n"),void 0!==e.heading&&(n+=e.heading+"\n\n"),void 0!==e.code&&(n+="Code: "+e.code+"\n\n"),void 0!==e.sql&&(n+="SQL: "+e.sql+"\n\n"),void 0!==e.message?n+="Message: "+e.message+"\n\n":void 0!==e.messages&&(n+="Messages: "+e.messages.join("\n\t")+"\n\n"),void 0!==e.filename&&(n+="Filename: "+e.filename+"\n"),void 0!==e.line&&(n+="Line Number: "+e.line+"\n"),t.config.globalProperties.$fhcAlert.alertSystemError(n)})},auth(e){r(e,(e,r)=>{r?r+=": "+e.message:r=e.message;var n="";n+="Controller name: "+e.controller+"\n",n+="Method name: "+e.method+"\n",n+="Required permissions: "+e.required_permissions,t.config.globalProperties.$fhcAlert.alertDefault("error",r,n,!0)})}}};function a(t,e,r,n){if("string"==typeof t&&void 0===n)[e,r,n]=[t,e,r],t=void 0;else if(t){if("object"!=typeof t)throw new TypeError("Parameter 1 of _get_config must be an object or a string");void 0===e&&void 0===r&&void 0===n&&(n=t,t=void 0)}if(t){if(!t.clearValidation||!t.setFeedback)throw new TypeError("'form' is not a Form Component");t={clearValidation:t.clearValidation,setFeedback:t.setFeedback},n?n.form=t:n={form:t}}return[e,r,n]}function s(t){if("string"==typeof t.data||t.data instanceof String)return s({data:t});const e=t.data;return delete t.data,e?(e.meta?e.meta.response=t:e.meta={response:t},e):{meta:{response:t},data:null}}function i(t){if(!1===t||"off"===t)return{...n,success:!1,fail:!1};if(!t||!0===t)return{...n};if("success"===t)return{...n,fail:!1};if("fail"===t)return{...n,success:!1};const{success:e,fail:r,handler:a,combine:s}=t;return t={...n},Object.entries({fail:r,success:e}).forEach(([e,r])=>{void 0!==r&&(t[e]=r)}),Object.entries({handler:a,combine:s}).forEach(([e,r])=>{void 0!==r&&(t[e]={...t[e],...r})}),t}function o(t){const e=i(t?.errorHandling);if(t?.form){const r=e.handler.form;e.handler={...e.handler,form:e=>r(t.form,e)}}else e.combine={...e.combine,form:[]};return e}function l(t){return t.response?404==t.response.status?[{type:"not_found",message:t.message,url:t.request.responseURL}]:null==t.response.data.errors?[]:t.response.data.errors:t.request?[{type:"site_failed",message:t.message,url:t.request.responseURL}]:[{type:"script",message:t.message}]}function c(t,e){const r={},n=[];if(null==e)return{};for(;e.length;)n.push(e.pop());for(var a of n){let n=a.type,i=null;for(var s in t.combine){let e=t.combine[s].includes(n),r=t.handler[s];if(e&&r&&(i=s,"form"==i))break}i&&(n=i);t.handler[n]?(r[n]||(r[n]=[]),Array.isArray(a)?r[n].push(...a):r[n].push(a)):e.push(a)}return r}void 0!==e?.errorHandling&&(n=i(e.errorHandling));const d=axios.create({timeout:5e5,baseURL:FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/"});d.interceptors.request.use(t=>{if("post"!=t.method||!t.data)return t;if(t.data instanceof FormData)return t;if(!Object.values(t.data).every(t=>!(t instanceof FileList)&&(!Array.isArray(t)||t.every(t=>!(t instanceof File))))){const e=Object.entries(t.data).reduce((t,[e,r])=>{if(r instanceof FileList)for(const n of r)t.FormData.append(e+(r.length>1?"[]":""),n);else Array.isArray(r)?r.every(t=>!(t instanceof File))?t.jsondata[e]=r:r.forEach(n=>t.FormData.append(e+(r.length>1?"[]":""),n)):t.jsondata[e]=r;return t},{FormData:new FormData,jsondata:{}});e.FormData.append("_jsondata",JSON.stringify(e.jsondata)),t.data=e.FormData}return t}),d.interceptors.response.use(e=>("off"==e.config?.errorHandling||!1===e.config?.errorHandling||"fail"==e.config?.errorHandling||e.data.errors&&(e.data.errors=e.data.errors.filter(r=>(e.config[r.type+"ErrorHandler"]||t.config.globalProperties.$api._defaultErrorHandlers[r.type])(r,e.config))),s(e)),t=>{if("ERR_CANCELED"==t.code)return Promise.reject({handled:!0,...t});const e=o(t.config);if(!e.fail)return Promise.reject(t);const r=l(t),n=c(e,r);for(var a in n)e.handler[a](n[a]);return r.length?Promise.reject(t):Promise.reject({handled:!0,...t})}),t.config.globalProperties.$api={getUri:t=>d.getUri({url:t}),get:(t,e,r,n)=>([e,r,n]=a(t,e,r,n),r&&(n?n.params=r:n={params:r}),d.get(e,n)),post:(t,e,r,n)=>([e,r,n]=a(t,e,r,n),d.post(e,r,n)),call(e,r,n){if(Array.isArray(e)){const s=t.config.globalProperties.$api;return Promise.allSettled(e.map((t,e)=>(Array.isArray(t)||(t=["#"+e,t]),s.call(t[1],{errorHeader:t[0],errorHandling:!1})))).then(t=>{const[,,e]=a(n,void 0,void 0,r||{}),s=o(e);if(!s.success&&!s.fail)return t;const i={};for(var d of t){const[t,e]="fulfilled"===d.status?[s.success,d.value]:[s.fail,d.reason];if(!t)return;const r=c(s,l(e));for(var u in r)i[u]?i[u][e.config.errorHeader]=r[u]:i[u]={[e.config.errorHeader]:r[u]}}for(var p in i)s.handler[p](i[p]);return t})}let{method:s,url:i,params:d,config:u}=e;return void 0!==r&&(u=r),s||(s="get"),s.toLowerCase&&(s=s.toLowerCase()),"get"==s?this.get(n,i,d,u):"post"==s?this.post(n,i,d,u):void console.error("FhcApi: method not allowed:",s)},getErrorHandler:t=>o(t)},t.provide("$api",t.config.globalProperties.$api)}},R={loadCategory:t=>({method:"get",url:"/api/frontend/v1/phrasen/loadModule/"+t}),setLanguage:(t,e)=>({method:"post",url:"/api/frontend/v1/phrasen/setLanguage",params:{categories:t,language:e}}),getLanguage:()=>({method:"get",url:"/api/frontend/v1/phrasen/getLanguage"}),getActiveDbLanguages:()=>({method:"get",url:"/api/frontend/v1/phrasen/getAllLanguages"})};const x=Vue.reactive({}),H={};let B=Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language),M=Vue.computed(()=>B.value?FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(t=>t.sprache==B.value).LC_Time:null);const z={user_language:B,user_locale:M,setLanguage(t){const e=Object.keys(x);return this.config.globalProperties.$api.call(R.setLanguage(e,t)).then(e=>(e.data.forEach(t=>{x[t.category][t.phrase]=t.text}),B.value=t,e))},loadCategory(t){return Array.isArray(t)?Promise.all(t.map(this.config.globalProperties.$p.loadCategory)):(H[t]||(H[t]=this.config.globalProperties.$api.call(R.loadCategory(t)).then(e=>e?.data?function(t,e){return t.filter(t=>t.category==e).reduce((t,e)=>(t[e.phrase]||(t[e.phrase]=e.text),t),{})}(e.data,t):{}).then(e=>{x[t]=e})),H[t])},t_ref(t,e,r){return console.warn("deprecated"),Vue.computed(()=>this.t(t,e,r))},t(t,e,r){if(void 0===r&&(Array.isArray(t)&&2==t.length||t.split&&2==t.split("/").length)&&(r=e,[t,e]=t.split?t.split("/"):t),void 0===e)return console.error("invalid input",t,e,r),"";let n=Vue.computed(()=>x[t]?function(t,e,r){let n=x[t][e];return n?(r&&(n=n.replace(/\{([^}]*)\}/g,(t,e)=>void 0===r[e]?t:r[e])),n):"<< PHRASE "+e+">>"}(t,e,r):"");return x[t]||this.loadCategory(t),n.value}};var J={install(t,e){t.config.globalProperties.$fhcApi||t.use(k),t.config.globalProperties.$api||t.use(F),t.config.globalProperties.$p={t:z.t,loadCategory:e=>z.loadCategory.call(t,e),setLanguage:e=>z.setLanguage.call(t,e),user_language:B,user_locale:M,t_ref:z.t_ref},t.provide("$p",t.config.globalProperties.$p)}};const L={emits:["dataFetched"],props:{refresh:{type:Boolean},apiFunction:{required:!0,type:Function},apiFunctionParameters:{}},watch:{refresh:function(t,e){this.fetchData()}},data:function(){return{loading:!1,error:!1,errorMessage:null}},created:function(){this.fetchData()},methods:{fetchData:function(){if(this.loading=!0,this.error=!1,this.errorMessage=null,"function"==typeof this.apiFunction){let t=this.apiFunction(this.apiFunctionParameters);t instanceof Promise?t.then(this.successHandler).catch(this.errorHandler).finally(this.finallyHandler):this.setError("The called apiFunction does not return a Promise")}else this.setError("Property apiFunction is not a function")},setError:function(t){this.loading=!1,this.error=!0,this.errorMessage=t},successHandler:function(t){this.$emit("dataFetched",t?t.data:void 0)},errorHandler:function(t){t.response?.data?.retval?this.setError(t.response.data.retval):t.data?.message?this.setError(t.data.message):this.setError(t.message)},finallyHandler:function(){this.loading=!1}},template:'\n\t\t<slot v-if="loading" name="loading">\n\t\t\t<div class="fetch-loader">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if="error" name="error" :error-message="errorMessage">\n\t\t\t<div class="fetch-error">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t'};var j={getHeader:t=>({method:"get",url:"/api/frontend/v1/navigation/header",params:{navigation_page:t}}),getMenu:t=>({method:"get",url:"/api/frontend/v1/navigation/menu",params:{navigation_page:t}})};const G={components:{CoreFetchCmpt:L},props:{addHeaderMenuEntries:Object,addSideMenuEntries:Object,hideTopMenu:Boolean,leftNavCssClasses:{type:String,default:"navbar navbar-left-side"}},data:()=>({headerMenu:{},sideMenu:{}}),computed:{headerMenuEntries(){let t=this.headerMenu?{...this.headerMenu}:{};return null!=this.headerMenu&&null!=this.addHeaderMenuEntries&&Object.keys(this.addHeaderMenuEntries).length>0&&(t[this.addHeaderMenuEntries.description]=this.addHeaderMenuEntries),t},sideMenuEntries(){let t=this.sideMenu?{...this.sideMenu}:{};return null!=this.sideMenu&&null!=this.addSideMenuEntries&&Object.keys(this.addSideMenuEntries).length>0&&(t[this.addSideMenuEntries.description]=this.addSideMenuEntries),t}},methods:{getNavigationPage:()=>FHC_JS_DATA_STORAGE_OBJECT.called_path+"/"+FHC_JS_DATA_STORAGE_OBJECT.called_method,fetchCmptApiFunctionHeader(){return this.$api.call(j.getHeader(this.getNavigationPage()))},fetchCmptApiFunctionSideMenu(){return this.$api.call(j.getMenu(this.getNavigationPage()))},fetchCmptDataFetchedHeader(t){this.headerMenu=t||{}},fetchCmptDataFetchedMenu(t){this.sideMenu=t||{}},getDataBsToggle:t=>t.children?"dropdown":null},template:'\n\t\t\x3c!-- Load head menu --\x3e\n\t\t<core-fetch-cmpt v-bind:api-function="fetchCmptApiFunctionHeader" @data-fetched="fetchCmptDataFetchedHeader"></core-fetch-cmpt>\n\t\t\x3c!-- Load side menu --\x3e\n\t\t<core-fetch-cmpt v-bind:api-function="fetchCmptApiFunctionSideMenu" @data-fetched="fetchCmptDataFetchedMenu"></core-fetch-cmpt>\n\n\t\t\x3c!-- Top menu --\x3e\n\t\t<nav class="navbar navbar-expand-lg navbar-header" v-if="!hideTopMenu">\n\t\t\t<ul class="navbar-nav">\n\t\t\t\t\x3c!-- 1st level --\x3e\n\t\t\t\t<template v-for="header in headerMenuEntries">\n\t\t\t\t\t<li class="nav-item dropdown">\n\t\t\t\t\t\t<a class="nav-link header-menu-link-entry"\n\t\t\t\t\t\t\tv-bind:data-bs-toggle="this.getDataBsToggle(header)"\n\t\t\t\t\t\t\tv-bind:class="{ \'dropdown-toggle\': header.children }"\n\t\t\t\t\t\t\tv-bind:href="header.link"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i class="fa-solid fa-fw header-menu-icon" v-bind:class="\'fa-\' + header.icon" v-if="header.icon"></i> {{ header.description }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class="dropdown-menu" v-if="header.children">\n\t\t\t\t\t\t\t\x3c!-- 2nd level --\x3e\n\t\t\t\t\t\t\t<template v-for="child in header.children">\n\t\t\t\t\t\t\t\t<li><a class="dropdown-item" v-bind:href="child.link">{{ child.description }}</a></li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</template>\n\t\t\t</ul>\n\t\t\t<slot></slot>\n\t\t</nav>\n\n\t\t\x3c!-- Left side menu --\x3e\n\t\t<nav :class="leftNavCssClasses">\n\t\t\t<ul class="navbar-nav">\n\t\t\t\t\x3c!-- 1st level --\x3e\n\t\t\t\t<template v-for="menu in sideMenuEntries">\n\t\t\t\t\t<li class="nav-item">\n\t\t\t\t\t\t<a class="nav-link left-side-menu-link-entry" v-bind:href="menu.link" @click=menu.onClickCall>\n\t\t\t\t\t\t\t<i class="fa fa-fw" v-bind:class="\'fa-\'+ menu.icon"></i> {{ menu.description }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class="nav-link left-side-menu-second-level" v-if="menu.children">\n\t\t\t\t\t\t\t\x3c!-- 2nd level --\x3e\n\t\t\t\t\t\t\t<template v-for="child in menu.children">\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<a class="nav-link left-side-menu-link-entry" v-bind:href="child.link" @click=child.onClickCall>\n\t\t\t\t\t\t\t\t\t\t&emsp;&emsp;{{ child.description }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass="nav-link left-side-menu-link-entry"\n\t\t\t\t\t\t\t\t\t\tv-bind:class="child.subscriptLinkClass"\n\t\t\t\t\t\t\t\t\t\tv-if="child.subscriptDescription"\n\t\t\t\t\t\t\t\t\t\tv-bind:href="child.link"\n\t\t\t\t\t\t\t\t\t\t@click=child.onClickSubscriptCall\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ child.subscriptDescription }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</template>\n\t\t\t</ul>\n\t\t</nav>\n\t'};var V={name:"SearchbarResultTemplateAction",emits:["actionexecuted"],props:{res:Object,action:Object},computed:{actionHref(){return"link"!==this.action.type?"javascript:void(0);":"function"==typeof this.action.action?this.action.action(this.res):this.action.action}},methods:{actionFunc(){"function"===this.action.type&&this.action.action(this.res),this.$emit("actionexecuted")},renderif:function(){return void 0===this.action?.renderif||this.action.renderif(this.res)}},template:'\n\t<template v-if="this.renderif()">\n\t<a class="searchbar-result-template-action" :href="actionHref" @click="actionFunc">\n\t\t<slot>{{ $p.t(\'search/action_default_label\') }}</slot>\n\t</a>\n\t</template>\n\t<template v-else>\n\t<div class="searchbar-result-template-action">\n\t\t<slot>{{ $p.t(\'search/action_default_label\') }}</slot>\n\t</div>\n\t</template>'},U={name:"SearchbarResultTemplateFrame",components:{ResultAction:V,ResultActions:{name:"SearchbarResultTemplateActions",components:{ResultAction:V},emits:["actionexecuted"],props:{res:Object,actions:Array},methods:{renderif:function(t){return void 0===t?.renderif||t.renderif(this.res)}},template:'\n\t<div v-if="actions.length" class="searchbar-result-template-actions">\n\t\t<template v-for="(action, index) in actions" :key="action.label">\n\t\t<result-action\n\t\t\t v-if="this.renderif(action)"\n\t\t\t:res="res"\n\t\t\t:action="action"\n\t\t\tclass="btn btn-primary btn-sm"\n\t\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t\t>\n\t\t\t<i v-if="action.icon" :class="action.icon"></i>\n\t\t\t<span class="p-2">{{ action.label }}</span>\n\t\t</result-action>\n\t\t</template>\n\t</div>'}},emits:["actionexecuted"],props:{res:Object,actions:Object,title:String,image:String,imageFallback:String},template:'\n\t<div class="searchbar-result-template-frame">\n\t\t<div class="searchbar_grid">\n\t\t\t<div class="searchbar_icon">\n\t\t\t\t<result-action\n\t\t\t\t\t:res="res"\n\t\t\t\t\t:action="actions.defaultaction"\n\t\t\t\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t\t\t\tclass="searchbar-rounded-image"\n\t\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tv-if="image"\n\t\t\t\t\t\t:src="image"\n\t\t\t\t\t\t/>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<i :class="imageFallback"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</result-action>\n\t\t\t</div>\n\n\t\t\t<div class="searchbar_data">\n\t\t\t\t<result-action\n\t\t\t\t\t:res="res"\n\t\t\t\t\t:action="actions.defaultaction"\n\t\t\t\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t\t\t\tclass="mb-3"\n\t\t\t\t\t>\n\t\t\t\t\t<span class="fw-bold">{{ title }}</span>\n\t\t\t\t</result-action>\n\n\t\t\t\t<slot></slot>\n\n\t\t\t\t<result-actions\n\t\t\t\t\t:res="res"\n\t\t\t\t\t:actions="actions.childactions"\n\t\t\t\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t\t\t\t>\n\t\t\t\t</result-actions>\n\t\t\t</div>\n\t\t</div>\n\t</div>'},I={name:"SearchbarResultPerson",components:{TemplateFrame:U},emits:["actionexecuted"],props:{res:Object,actions:Object},computed:{emails(){return new Set(this.res.email)}},template:'\n\t<template-frame\n\t\tclass="searchbar-result-student"\n\t\t:res="res"\n\t\t:actions="actions"\n\t\t:title="res.name"\n\t\t:image="res.photo_url"\n\t\timage-fallback="fas fa-user fa-4x"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div class="searchbar_table">\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'person/person_id\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_emails\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<a v-for="email in emails" :key="email" :href="\'mailto:\' + email" class="d-block">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>'},N={name:"SearchbarResultRoom",components:{TemplateFrame:U},emits:["actionexecuted"],props:{mode:String,res:Object,actions:Object},computed:{equipment(){return this.res.equipment?this.res.equipment.replace(new RegExp("<br />","ig"),""):""},address(){let t=this.res.zip||"";return this.res.city&&(t+=(t?" ":"")+this.res.city),this.res.street&&(t+=(t?", ":"")+this.res.street),this.res.floor&&(t+=(t?" / ":"")+this.$p.t("search/result_address_floor",this.res)),t||this.$p.t("search/result_address_none")}},template:'\n\t<template-frame\n\t\tclass="searchbar-result-room"\n\t\t:res="res"\n\t\t:actions="actions"\n\t\t:title="res.ort_kurzbz"\n\t\timage-fallback="fas fa-door-open fa-4x"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div class="searchbar_table">\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_room_address\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ address }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_workplaces\') }}</div>\n\t\t\t\t<div v-if="mode == \'simple\'" class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.sitzplaetze }}\n\t\t\t\t</div>\n\t\t\t\t<div v-else class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<template v-if="res.max_person !== null && res.workplaces !== null">\n\t\t\t\t\t\t{{ $p.t(\'search/result_workplaces_pc\', res) }}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t{{ $p.t(\'search/result_workplaces_none\') }}\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_building\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.building }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_equipment\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<div v-if="mode == \'simple\'" class="no-margin-paragraphs" v-html="res.austattung.replace(\'<br />\',\'\')"></div>\n\t\t\t\t\t<div v-else class="no-margin-paragraphs" v-html="equipment"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>'},q={name:"SearchbarResultEmployee",components:{TemplateFrame:U},emits:["actionexecuted"],props:{res:Object,actions:Object},template:'\n\t<template-frame\n\t\tclass="searchbar-result-student"\n\t\t:res="res"\n\t\t:actions="actions"\n\t\t:title="res.name"\n\t\t:image="res.photo_url"\n\t\timage-fallback="fas fa-user fa-4x"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div class="searchbar_table">\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_stdkst\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<ul class="searchbar_inline_ul" v-if="res.standardkostenstelle.length > 0">\n\t\t\t\t\t\t<li v-for="(stdkst, idx) in res.standardkostenstelle" :key="idx">{{ stdkst }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else="">{{ $p.t(\'search/result_stdkst_none\') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'lehre/organisationseinheit\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<ul class="searchbar_inline_ul" v-if="res.organisationunit_name.length > 0">\n\t\t\t\t\t\t<li v-for="(oe, idx) in res.organisationunit_name" :key="idx">{{ oe }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else="">{{ $p.t(\'search/result_oe_none\') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_emails\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<a :href="\'mailto:\' + res.email" class="d-block">\n\t\t\t\t\t\t{{ res.email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'person/telefon\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<a :href="\'tel:\' + res.phone" class="d-block">\n\t\t\t\t\t\t{{ res.phone }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>'},K={name:"SearchbarResultOrganistationunit",components:{TemplateFrame:U},emits:["actionexecuted"],props:{res:Object,actions:Object},template:'\n\t<template-frame\n\t\tclass="searchbar-result-organisationunit"\n\t\t:res="res"\n\t\t:actions="actions"\n\t\t:title="res.name"\n\t\timage-fallback="fas fa-sitemap fa-4x"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div class="searchbar_table">\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_parent_oe\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.parentoe_name }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_group_emails\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<a v-if="res.mailgroup" :href="\'mailto:\' + res.mailgroup">\n\t\t\t\t\t\t{{ res.mailgroup }}\n\t\t\t\t\t</a>\n\t\t\t\t\t<template v-else>-</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_leader\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<ul class="searchbar_inline_ul" v-if="res.leaders.length > 0">\n\t\t\t\t\t\t<li v-for="(leader, idx) in res.leaders" :key="idx">{{ leader.name }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else="">{{ $p.t(\'search/result_leader_none\') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_number_of_employees\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.number_of_people }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>'},Z={name:"SearchbarResultStudent",components:{TemplateFrame:U},emits:["actionexecuted"],props:{mode:String,res:Object,actions:Object},computed:{photo_url(){return"simple"!=this.mode?this.res.photo_url:this.res.foto?"data:image/jpeg;base64,"+this.res.foto:null},emails(){return"simple"==this.mode?new Set([this.res.email]):new Set(this.res.email)}},template:'\n\t<template-frame\n\t\tclass="searchbar-result-student"\n\t\t:res="res"\n\t\t:actions="actions"\n\t\t:title="res.name"\n\t\t:image="photo_url"\n\t\timage-fallback="fas fa-user fa-4x"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div class="searchbar_table">\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_student_uid\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.uid }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'person/person_id\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'person/matrikelnummer\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.matrikelnr }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_emails\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<a v-for="email in emails" :key="email" :href="\'mailto:\' + email" class="d-block">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>'},W={name:"SearchbarResultPrestudent",components:{TemplateFrame:U},emits:["actionexecuted"],props:{mode:String,res:Object,actions:Object},computed:{title(){return"simple"==this.mode?this.res.name:this.res.name+" ("+this.res.status+" "+this.res.stg_kuerzel+")"},photo_url(){return"simple"!=this.mode?this.res.photo_url:this.res.foto?"data:image/jpeg;base64,"+this.res.foto:null},emails(){return"simple"==this.mode?new Set([this.res.email]):new Set(this.res.email)}},template:'\n\t<template-frame\n\t\tclass="searchbar-result-prestudent"\n\t\t:res="res"\n\t\t:actions="actions"\n\t\t:title="title"\n\t\t:image="photo_url"\n\t\timage-fallback="fas fa-user fa-4x"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div class="searchbar_table">\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'person/person_id\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_emails\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<a v-for="email in emails" :key="email" :href="\'mailto:\' + email" class="d-block">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if="res.uid" class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_student_uid\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.uid }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if="res.matrikelnr" class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'person/matrikelnummer\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.matrikelnr }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_prestudent_id\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.prestudent_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'lehre/studiengang\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.bezeichnung }} {{ res.orgform ? \'(\' + res.orgform + \')\' : \'\' }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>'},Y={name:"SearchbarResultDms",components:{TemplateFrame:U},emits:["actionexecuted"],props:{res:Object,actions:Object},computed:{icon(){switch(this.res.mimetype){case"application/pdf":return"file-pdf";case"application/vnd.openxmlformats-officedocument.wordprocessingml.document":case"application/msword":return"file-word";case"application/vnd.openxmlformats-officedocument.presentationml.presentation":case"application/mspowerpoint":return"file-powerpoint";case"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":case"application/vnd.ms-excel":return"file-excel";case"application/x-zip":case"application/zip":return"file-zipper";case"image/jpeg":case"image/gif":case"image/png":return"file-image";default:return"file"}}},template:'\n\t<template-frame\n\t\tclass="searchbar-result-dms"\n\t\t:res="res"\n\t\t:actions="actions"\n\t\t:title="res.name"\n\t\t:image-fallback="\'fas fa-\' + icon + \' fa-4x\'"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div class="searchbar_table">\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_dms_id\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.dms_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_version\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.version }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_keywords\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.keywords }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'global/beschreibung\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ res.description }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>'},Q={name:"SearchbarResultCms",components:{TemplateFrame:U},emits:["actionexecuted"],props:{res:Object,actions:Object},inject:["query"],computed:{preview(){if("redirect"!=this.res.template_kurzbz){let t=this.res.content.replace(/<!\[CDATA\[|\]\]>/gi,"").replace(/<[^>]+>/gi,"").replace(/^\s+|\s+$/g,"");if(t.length>1e3){let e=t.toLowerCase(),r=Math.min(this.query.split(" ").reduce((t,r)=>{if("or"==r)return t;let n=r.indexOf(":");if(n<0||n>0&&["content","inhalt"].includes(r.split(":")[0])){let n=e.indexOf(r);n>=0&&t.push(n)}return t},[]));if(r){if(!(r+997>=t.length))return"..."+t.substr(r,994)+"...";if(r=t.length-997,r>0)return"..."+t.substr(r,997)}t=t.substr(0,997)+"..."}return t}let t=this.res.content_url;return"../index.ci.php/"==t.substr(0,16)?t=this.$fhcApi.getUri(t.substr(16)):"../"==t.substr(0,3)&&(t=FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/\/+$/,"")+t.substr(2)),'<a href="'+t+'">'+t+"</a>"}},template:'\n\t<template-frame\n\t\tclass="searchbar-result-cms"\n\t\t:res="res"\n\t\t:actions="actions"\n\t\t:title="res.title"\n\t\timage-fallback="fas fa-newspaper fa-4x"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div v-if="preview" class="searchbar_table" v-html="preview"></div>\n\t\t<div v-else class="searchbar_table text-muted">\n\t\t\t{{ $p.t(\'search/result_content_none\') }}\n\t\t</div>\n\t</template-frame>'},X={name:"SearchbarResultMergedstudent",components:{ResultPrestudent:W,ResultStudent:Z},emits:["actionexecuted"],props:{mode:String,res:Object,actions:Object},computed:{prestudent(){return this.res.list.filter(t=>"prestudent"==t.type).pop()}},template:'\n\t<result-prestudent\n\t\tv-if="prestudent"\n\t\t:mode="mode"\n\t\t:res="prestudent"\n\t\t:actions="actions"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\tclass="searchbar-result-mergedstudent"\n\t></result-prestudent>\n\t<result-student\n\t\tv-else\n\t\t:mode="mode"\n\t\t:res="res.list[0]"\n\t\t:actions="actions"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\tclass="searchbar-result-mergedstudent"\n\t></result-student>'},tt={name:"SearchbarResultMergedperson",components:{TemplateFrame:U,TemplateAction:V},emits:["actionexecuted"],props:{mode:String,res:Object,actions:Object},computed:{person(){const t=this.res.list.reduce((t,e)=>[...t,...Array.isArray(e.email)?e.email:[e.email]],[]),e=this.res.list.find(t=>"person"==t.type);if(e)return{...e,email:t};const{person_id:r,name:n}=this.res.list[0];let a;if("simple"==this.mode){let t=(this.students?this.students.find(t=>t.foto):null)?.foto;t&&(t="data:image/jpeg;base64,"+t),a=t||this.employee?.photo_url}else a=((this.students?this.students.find(t=>t.photo_url):null)||this.employee)?.photo_url;return{person_id:r,name:n,photo_url:a,email:t}},employee(){return this.res.list.find(t=>["employee","unassigned_employee","mitarbeiter","mitarbeiter_ohne_zuordnung"].includes(t.type))||null},students(){const t=this.res.list.filter(t=>["student","prestudent","studentcis","studentStv"].includes(t.type)).filter((t,e,r)=>{if("prestudent"===t.type)return!0;return!r.some(e=>e.uid===t.uid&&"prestudent"===e.type)}).sort((t,e)=>(t.sort||0)-(e.sort||0));return t.length?t:null},emails(){return new Set(this.person.email)},telurl(){return"tel:"+this.employee?.phone},inaktiv(){return this.res.list.some(t=>!1===t?.aktiv)}},template:'\n\t<template-frame\n\t\tclass="searchbar-result-mergedperson"\n\t\t:class="(inaktiv) ? \'searchbar_inaktiv\' : \'\'"\n\t\t:res="person"\n\t\t:actions="actions"\n\t\t:title="person.name"\n\t\t:image="person.photo_url"\n\t\timage-fallback="fas fa-user fa-4x"\n\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t>\n\t\t<div class="searchbar_table">\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'person/person_id\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t{{ person.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t<div class="searchbar_tablecell searchbar_label">{{ $p.t(\'search/result_emails\') }}</div>\n\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t<a v-for="email in emails" :key="email" :href="\'mailto:\' + email" class="d-block">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<template v-if="employee">\n\t\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t\t<div class="searchbar_tablecell">\n\t\t\t\t\t\t<template-action\n\t\t\t\t\t\t\t:res="employee"\n\t\t\t\t\t\t\t:action="actions.defaultactionemployee || actions.defaultaction"\n\t\t\t\t\t\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ $p.t(\'search/result_employee\') }}\n\t\t\t\t\t\t</template-action>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t\t<div class="searchbar_tablecell searchbar_label ps-3">{{ $p.t(\'search/result_stdkst\') }}</div>\n\t\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t\t<ul class="searchbar_inline_ul" v-if="employee.standardkostenstelle.length > 0">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for="(stdkst, idx) in employee.standardkostenstelle"\n\t\t\t\t\t\t\t\t:key="idx"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ stdkst }}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<span v-else="">{{ $p.t(\'search/result_stdkst_none\') }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t\t<div class="searchbar_tablecell searchbar_label ps-3">{{ $p.t(\'lehre/organisationseinheit\') }}</div>\n\t\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t\t<ul class="searchbar_inline_ul" v-if="employee.organisationunit_name.length > 0">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for="(oe, idx) in employee.organisationunit_name"\n\t\t\t\t\t\t\t\t:key="idx"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ oe }}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<span v-else="">{{ $p.t(\'search/result_oe_none\') }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t\t<div class="searchbar_tablecell searchbar_label ps-3">{{ $p.t(\'person/telefon\') }}</div>\n\t\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t\t<a :href="telurl">\n\t\t\t\t\t\t\t{{ employee.phone }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template v-if="students">\n\t\t\t\t<template v-for="student in students">\n\t\t\t\t\t<div class="searchbar_tablerow">\n\t\t\t\t\t\t<div class="searchbar_tablecell">\n\t\t\t\t\t\t\t<template-action\n\t\t\t\t\t\t\t\tv-if="actions.defaultaction"\n\t\t\t\t\t\t\t\t:res="student"\n\t\t\t\t\t\t\t\t:action="actions.defaultactionstudent || actions.defaultaction"\n\t\t\t\t\t\t\t\t@actionexecuted="$emit(\'actionexecuted\')"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-if="mode == \'simple\'">\n\t\t\t\t\t\t\t\t\t{{ student.studiengang_kz }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else-if="student.status && student.stg_kuerzel">\n\t\t\t\t\t\t\t\t\t{{ student.status }} ({{ student.stg_kuerzel }})\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t{{ $p.t(\'person/student\') }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template-action>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if="student.bezeichnung" class="searchbar_tablerow">\n\t\t\t\t\t\t<div class="searchbar_tablecell searchbar_label ps-3">{{ $p.t(\'lehre/studiengang\') }}</div>\n\t\t\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t\t\t{{ student.bezeichnung }} {{ student.orgform ? \'(\' + student.orgform + \')\' : \'\' }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if="student.prestudent_id" class="searchbar_tablerow">\n\t\t\t\t\t\t<div class="searchbar_tablecell searchbar_label ps-3">{{ $p.t(\'search/result_prestudent_id\') }}</div>\n\t\t\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t\t\t{{ student.prestudent_id }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if="student.uid" class="searchbar_tablerow">\n\t\t\t\t\t\t<div class="searchbar_tablecell searchbar_label ps-3">{{ $p.t(\'search/result_student_uid\') }}</div>\n\t\t\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t\t\t{{ student.uid }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if="student.matrikelnr" class="searchbar_tablerow">\n\t\t\t\t\t\t<div class="searchbar_tablecell searchbar_label ps-3">{{ $p.t(\'person/matrikelnummer\') }}</div>\n\t\t\t\t\t\t<div class="searchbar_tablecell searchbar_value">\n\t\t\t\t\t\t\t{{ student.matrikelnr }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t</template-frame>'},et={name:"FhcSearchbar",components:{person:I,room:N,employee:q,organisationunit:K,student:Z,prestudent:W,dms:Y,cms:Q,mergedStudent:X,mergedPerson:tt},props:["searchoptions","searchfunction"],provide(){return{query:Vue.computed(()=>this.lastQuery)}},data:function(){return{searchtimer:null,hidetimer:null,searchsettings:{searchstr:this.getSearchStr(),types:this.getInitiallySelectedTypes()},searchresult:[],searchmode:"",showresult:!1,searching:!1,error:null,abortController:null,settingsDropdown:null,lastQuery:""}},computed:{searchTypesPlaceholder(){return this.searchsettings.types.length?this.searchsettings.types.map(t=>this.typeLabels[t]).join(" / "):Object.values(this.typeLabels).join(" / ")},types(){return this.searchoptions.types?Array.isArray(this.searchoptions.types)?this.searchoptions.types:Object.keys(this.searchoptions.types):[]},typeLabels(){return this.searchoptions.types?Array.isArray(this.searchoptions.types)?this.searchoptions.types.reduce((t,e)=>(t[e]=e,t),{}):this.searchoptions.types:{}}},template:'\n\t\t<form\n\t\t\tref="searchform"\n\t\t\tclass="d-flex me-3"\n\t\t\t:class="searchoptions.cssclass"\n\t\t\taction="javascript:void(0);"\n\t\t\t@focusin="searchfocusin"\n\t\t\t@focusout="searchfocusout"\n\t\t>\n\t\t\t<div\n\t\t\t\tref="searchbox"\n\t\t\t\tclass="h-100 input-group me-2 searchbar_searchbox"\n\t\t\t\t:class="showresult ? \'open\' : \'closed\'"\n\t\t\t>\n\t\t\t\t<span class="input-group-text">\n\t\t\t\t\t<i class="fa-solid fa-magnifying-glass"></i>\n\t\t\t\t</span>\n                <input\n                \tref="input"\n                    @keyup="search"\n                    @focus="showsearchresult"\n                    v-model="searchsettings.searchstr"\n                    class="form-control searchbar_input"\n                    type="search"\n                    :placeholder="$p.t(\'search/input_search_label\', { types: searchTypesPlaceholder })"\n                    :aria-label="$p.t(\'search/input_search_label\', { types: searchTypesPlaceholder })"\n                >\n\t\t\t\t<button\n\t\t\t\t\tv-if="searchsettings.searchstr"\n\t\t\t\t\tclass="searchbar_input_clear btn btn-outline-secondary"\n\t\t\t\t\t@click="clearInput"\n\t\t\t\t>\n\t\t\t\t\t<i class="fas fa-close"></i>\n\t\t\t\t</button>\n                <button\n                    data-bs-toggle="collapse"\n                    data-bs-target="#searchSettings"\n                    aria-expanded="false"\n                    aria-controls="searchSettings"\n                    ref="settingsbutton"\n                    class="searchbar_setting_btn btn btn-secondary"\n                    type="button"\n                    :title="$p.t(\'search/button_filter_label\')"\n                    :aria-label="$p.t(\'search/button_filter_label\')"\n                >\n                    <i class="fas fa-cog"></i>\n                </button>\n            </div>\n\n            <div v-show="showresult"\n                 class="searchbar_results" tabindex="-1">\n              <div class="searchbar_results_scroller" ref="result">\n                <div class="searchbar_results_wrapper" ref="results">\n                  <div v-if="searching">\n                    <i class="fas fa-spinner fa-spin fa-2x"></i>\n                  </div>\n                  <div v-else-if="this.error !== null">{{ error }}</div>\n                  <div v-else-if="searchresult.length < 1">{{  $p.t(\'search/error_no_results\') }}</div>\n                  <template v-else v-for="res in searchresult">\n                    <component\n                        v-if="isValidRenderer(res.renderer)"\n                        :is="res.renderer"\n                        :mode="searchmode"\n                        :res="res"\n                        :actions="getActions(res)"\n                        @actionexecuted="hideresult"\n                    ></component>\n                    <div v-else class="searchbar-result text-danger fw-bold">{{ $p.t(\'search/error_unknown_type\', res) }}</div>\n                  </template>\n                </div>\n              </div>\n            </div>\n\n\t\t\t<div\n\t\t\t\tid="searchSettings"\n\t\t\t\tref="settings"\n\t\t\t\t@[`shown.bs.collapse`]="handleShowSettings"\n\t\t\t\t@[`hide.bs.collapse`]="handleHideSettings"\n\t\t\t\tclass="top-100 end-0 searchbar_settings text-white collapse"\n\t\t\t\ttabindex="-1"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-if="types.length > 0"\n\t\t\t\t\tclass="d-flex flex-column m-3"\n\t\t\t\t>\n\t\t\t\t\t<span class="fw-light mb-2">\n\t\t\t\t\t\t{{ $p.t(\'search/applyfilter_label\') }}\n\t\t\t\t\t</span>\n\t\t\t\t\t<template\n\t\t\t\t\t\tv-for="(label, value) in typeLabels"\n\t\t\t\t\t\t:key="value"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class="form-check form-switch">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass="fhc-switches form-check-input"\n\t\t\t\t\t\t\t\ttype="checkbox"\n\t\t\t\t\t\t\t\trole="switch"\n\t\t\t\t\t\t\t\t:id="$.uid + \'search_type_\' + value"\n\t\t\t\t\t\t\t\t:value="value"\n\t\t\t\t\t\t\t\tv-model="searchsettings.types"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tclass="ps-2 form-check-label non-selectable"\n\t\t\t\t\t\t\t\t:for="$.uid + \'search_type_\' + value"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ label }}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n            </div>\n\t\t</form>\n    ',watch:{"searchsettings.searchstr":function(t){this.searchoptions.origin&&sessionStorage.setItem(`${this.searchoptions.origin}_searchstr`,t)},"searchsettings.types"(t){Array.isArray(t)&&0===t.length&&(this.searchsettings.types=[...this.types]),Array.isArray(t)&&this.searchoptions.origin&&localStorage.setItem(`${this.searchoptions.origin}_searchtypes`,JSON.stringify(t)),this.search()}},mounted(){this.settingsDropdown=new bootstrap.Collapse(this.$refs.settings,{toggle:!1}),this.searchoptions.origin||console.warn("No origin defined in the searchoptions for the searchbar, please define the origin property in the searchbaroptions to allow reliable storage of searchstr and searchtypes accross applications.")},updated(){this.showresult&&Vue.nextTick(()=>{this.calcSearchResultHeight()})},methods:{clearInput(){this.searchsettings.searchstr="",this.hideresult(),this.$refs.input.focus()},getInitiallySelectedTypes(){let t=!1;if(this.searchoptions.origin){let e=localStorage.getItem(`${this.searchoptions.origin}_searchtypes`);e&&(t=JSON.parse(e))}return t||(this.searchoptions.types?Array.isArray(this.searchoptions.types)?[...this.searchoptions.types]:Object.keys(this.searchoptions.types):[])},getSearchStr:function(){return this.searchoptions.origin?sessionStorage.getItem(`${this.searchoptions.origin}_searchstr`)??"":""},checkSettingsVisibility:function(t){this.$refs.settings.contains(t.target)||this.settingsDropdown.hide()},handleShowSettings:function(){document.addEventListener("click",this.checkSettingsVisibility)},handleHideSettings:function(){document.removeEventListener("click",this.checkSettingsVisibility)},calcSearchResultHeight:function(){const t=this.$refs.results.getBoundingClientRect();t.height>0&&t.height<.8*window.innerHeight?this.$refs.result.style.height=Math.ceil(t.height+16)+"px":this.$refs.result.style.height=Math.floor(.8*window.innerHeight)+"px"},calcSearchResultExtent:function(){if(this.showresult){if(void 0===this.searchoptions?.calcheightonly||!1===this.searchoptions.calcheightonly){var t=this.$refs.searchbox.getBoundingClientRect();this.$refs.result.style.top=Math.floor(t.bottom+3)+"px",this.$refs.result.style.right=Math.floor(t.right)+"px",this.$refs.result.style.width=Math.floor(t.width)+"px"}this.calcSearchResultHeight()}},search:function(){null!==this.searchtimer&&clearTimeout(this.searchtimer),this.abortController&&(this.abortController.abort(),this.abortController=null),this.searchsettings.searchstr.length>=2?(this.calcSearchResultExtent(),this.searchtimer=setTimeout(this.callsearchapi,500)):this.showresult=!1},callsearchapi:function(){if(this.error=null,this.searchresult.splice(0,this.searchresult.length),this.searching=!0,this.showsearchresult(),0===this.searchsettings.types.length)return this.error=this.$p.t("search/error_missing_type"),void(this.searching=!1);this.abortController&&this.abortController.abort(),this.abortController=new AbortController,this.searchfunction(this.searchsettings,{timeout:5e4,signal:this.abortController.signal}).then(t=>{if(t.data){let e=t.data.map(t=>t.data?{...t,...JSON.parse(t.data)}:t);if(this.lastQuery=t.meta.searchstring,this.searchoptions.mergeResults){let t=0,r=[],n="merged-",a="";switch(this.searchoptions.mergeResults){case"student":r=["student","prestudent"],n+=this.searchoptions.mergeResults,a="uid";break;case"person":r=["person","employee","student","prestudent"],n+=this.searchoptions.mergeResults,a="person_id"}r.length&&(e=Object.values(e.reduce((e,s)=>(r.includes(s.renderer)?null===s[a]?e["nomerge"+t++]=s:void 0===e[s[a]]?e[s[a]]={rank:s.rank,renderer:n,type:n,list:[s]}:(e[s[a]].list.push(s),s.rank>e[s[a]].rank&&(e[s[a]].rank=s.rank)):e["nomerge"+t++]=s,e),{})).sort((t,e)=>e.rank-t.rank))}this.searchresult=e,this.searchmode=t.meta.mode}else this.error=this.$p.t("search/error_general");this.searching=!1,this.retry=0}).catch(t=>"ERR_CANCELED"==t.code?this.retry=0:"ECONNABORTED"==t.code&&this.retry?(this.retry--,this.callsearchapi()):(this.error=this.$p.t("search/error_general",t),this.searching=!1,void(this.retry=0)))},refreshsearch:function(){this.search(),this.togglesettings()},hideresult:function(){this.showresult=!1,window.removeEventListener("resize",this.calcSearchResultExtent)},showsearchresult:function(){this.searchsettings.searchstr.length>=2&&(this.showresult=!0,window.addEventListener("resize",this.calcSearchResultExtent),this.calcSearchResultExtent())},searchfocusin:function(t){t.preventDefault(),t.stopPropagation(),null!==this.hidetimer&&clearTimeout(this.hidetimer),this.searchsettings.searchstr.length>=2&&0===this.searchresult.length&&this.search()},searchfocusout:function(t){t.preventDefault(),t.stopPropagation(),this.hidetimer=setTimeout(this.hideresult,100)},dash2camelCase:t=>t.replace(/-([a-z])/g,t=>t[1].toUpperCase()),isValidRenderer(t){const e=this.dash2camelCase(t);return Object.keys(this.$.components).includes(e)},getActions(t){let e=this.searchoptions.actions[this.dash2camelCase(t.renderer)];return e||this.searchoptions.actions[t.type]}}},rt={search:t=>({method:"post",url:"/api/frontend/v1/searchbar/search",params:t}),searchCis:t=>({method:"post",url:"/api/frontend/v1/searchbar/searchCis",params:t}),searchStv:t=>({method:"post",url:"/api/frontend/v1/searchbar/searchStv",params:t})};let nt=FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router;const at={cssclass:"position-relative",origin:"pv21",types:["person","raum","mitarbeiter","mitarbeiter_ohne_zuordnung","organisationunit"],actions:{person:{defaultaction:{type:"link",action:function(t){return t.profil}},childactions:[{label:"testchildaction1",icon:"fas fa-check-circle",type:"function",action:function(t){alert("person testchildaction 01 "+JSON.stringify(t))}},{label:"testchildaction2",icon:"fas fa-file-csv",type:"function",action:function(t){alert("person testchildaction 02 "+JSON.stringify(t))}}]},raum:{defaultaction:{type:"link",renderif:function(t){return"N/A"!==t.content_id},action:function(t){return FHC_JS_DATA_STORAGE_OBJECT.app_root+"cms/content.php?content_id="+t.content_id}},childactions:[{label:"LV-Plan",icon:"fas fa-bookmark",type:"link",action:function(t){return FHC_JS_DATA_STORAGE_OBJECT.app_root+"cis/private/lvplan/stpl_week.php?type=ort&ort_kurzbz="+t.ort_kurzbz}},{label:"Rauminformation",icon:"fas fa-info-circle",type:"link",renderif:function(t){return"N/A"!==t.content_id},action:function(t){return FHC_JS_DATA_STORAGE_OBJECT.app_root+"cms/content.php?content_id="+t.content_id}}]},employee:{defaultaction:{type:"link",action:t=>`${nt}/extensions/FHC-Core-Personalverwaltung/Employees/${t.person_id}/${t.uid}/summary`},childactions:[{label:"Dienstverhältnis",icon:"fas fa-address-book",type:"link",action:function(t){return`${nt}/extensions/FHC-Core-Personalverwaltung/Employees/${t.person_id}/${t.uid}/contract`}},{label:"Stammdaten",icon:"fas fa-address-card",type:"link",action:function(t){return`${nt}/extensions/FHC-Core-Personalverwaltung/Employees/${t.person_id}/${t.uid}`}},{label:"Vertragshistorie",icon:"fas fa-address-book",type:"link",action:function(t){return`${nt}/extensions/FHC-Core-Personalverwaltung/Employees/${t.person_id}/${t.uid}/contract#dvhistory`}}]},organisationunit:{defaultaction:{type:"function",action:function(t){const e={filterUniqueId:"extensions/FHC-Core-Personalverwaltung/Employees/index",filterType:"EmployeeViewer",filterFields:[{name:"OE Key",operation:"equal",condition:t.oe_kurzbz}]};let r=FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router;axios.post(r+"/api/frontend/v1/filter/applyFilterFields",e).then(function(){window.location.href=`${r}/extensions/FHC-Core-Personalverwaltung/Employees`})}},childactions:[]}}},st={name:"Modal",props:{type:String,title:String,noscroll:Boolean},expose:["show","hide"],setup(t,{emit:e}){let r,n=Vue.ref(null);Vue.onMounted(()=>{r=new bootstrap.Modal(n.value)});return{modalEle:n,show:()=>{r.show()},hide:function(){r.hide()}}},template:'\n    <div class="modal fade " id="customModal" tabindex="-1" aria-labelledby=""\n        aria-hidden="true" ref="modalEle">\n        <div class="modal-dialog modal-lg" :class="(!noscroll) ? \'modal-dialog-scrollable\' : \'\'">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title" id="customModalLabel">{{ title }}</h5>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <slot name="body" />\n                </div>\n                <div class="modal-footer">\n                    <slot name="footer"></slot>\n                    \x3c!-- button type="button" class="btn btn-secondary" data-bs-dismiss="modal">\n                        OK\n                    </button--\x3e\n                </div>\n            </div>\n        </div>\n    </div>'},it={},ot={};function lt(t,e){return t.filter(t=>t.category==e).reduce((t,e)=>(t[e.phrase]||(t[e.phrase]=e.text),t),{})}function ct(t){for(;ot[t].length;){var e=ot[t].pop();e[0].value=dt(t,e[1],e[2]),Vue.triggerRef(e[0])}}function dt(t,e,r){let n=it[t][e];return n?(r&&(n=n.replace(/\{([^}]*)\}/g,(t,e)=>void 0===r[e]?t:r[e])),n):"<< PHRASE "+e+">>"}const ut={t_ref(t,e,r){if(void 0===r&&(Array.isArray(t)&&2==t.length||t.split&&2==t.split("/").length)&&(r=e,[t,e]=t.split?t.split("/"):t),void 0===e)return console.error("invalid input"),"";if(!it[t]){var n="";if(void 0!==window.FHC_JS_PHRASES_STORAGE_OBJECT){var a=lt(FHC_JS_PHRASES_STORAGE_OBJECT,t);void 0!==a[e]&&(n=a[e])}if(!it[t]||0===Object.keys(it[t]).length){it[t]=void 0;let a=Vue.ref(n);return function(t,e,r,n){if(ot[t])return ot[t].push([e,r,n]),void(it[t]&&ct(t));ot[t]=[[e,r,n]],axios.get(FHC_JS_DATA_STORAGE_OBJECT.app_root+FHC_JS_DATA_STORAGE_OBJECT.ci_router+"/components/Phrasen/loadModule/"+t).then(e=>{e.data.retval?it[t]=lt(e.data.retval,t):it[t]={},ct(t)}).catch(t=>console.error(t))}(t,a,e,r),a}}var s=dt(t,e,r);return Vue.ref(s)},t(t,e,r){return Vue.unref(this.t_ref(t,e,r))}};function pt(){return{t:function(t,e,r){return ut.t(t,e,r)}}}const ht={name:"ModalDialog",props:{type:String,title:String},expose:["show","hide"],setup(t,{emit:e}){let r,n,a=Vue.ref(null);const{t:s}=pt();Vue.onMounted(()=>{r=new bootstrap.Modal(a.value)});return{modalConfirmEle:a,show:async()=>(r.show(),new Promise(function(t,e){n=t})),hide:function(){r.hide()},ok:()=>{n(!0)},cancel:()=>{n(!1)},t:s}},template:'\n    <div class="modal fade " id="customModalDialog" tabindex="-1" aria-labelledby=""\n        aria-hidden="true" ref="modalConfirmEle">\n        <div class="modal-dialog modal-lg">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h5 class="modal-title" id="customModalDialogLabel">{{ title }}</h5>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <slot name="body" />\n                </div>\n                <div class="modal-footer">\n                    <slot name="footer"></slot>\n                    <button type="button" class="btn btn-secondary" @click="cancel" data-bs-dismiss="modal">\n                      {{ t(\'ui\',\'abbrechen\') }}\n                    </button>\n                    <button type="button" class="btn btn-primary" @click="ok" data-bs-dismiss="modal">\n                        {{ t(\'ui\',\'ok\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>'},ft={name:"ProgressBar",props:{percent:{type:Number,default:0,validator:t=>t>=0&&t<=100},bgType:{type:String,default:"bg-success"}},setup(t,{emit:e}){},template:'\n    <div \n        class="progress" \n        role="progressbar"         \n        :aria-valuenow="percent"\n        aria-valuemin="0"\n        aria-valuemax="100">\n        <div class="progress-bar"  :class="bgType" :style="\'width: \' + percent+\'%;\'"></div>\n    </div>'};var gt={getAll:t=>({method:"get",url:"/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/SalaryRange/getAll",params:null!=t?{von:t[0],bis:t[1]}:null}),getSalaryRangeList:()=>({method:"get",url:"/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/SalaryRange/getSalaryRangeList"}),deleteSalaryRange:t=>({method:"post",url:`/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/SalaryRange/deleteBetrag/${t}`}),upsertSalaryRange:t=>({method:"post",url:"/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/SalaryRange/upsertBetrag",params:t})};const vt={name:"BetragDialog",components:{Modal:st,ModalDialog:ht,Toast:{name:"Toast",props:{title:{text:String,default:"<<Text goes here>>"},type:{text:String,default:"success"}},expose:["show","hide"],setup(t){let e,r=Vue.ref(null);Vue.onMounted(()=>{e=new bootstrap.Toast(r.value)});const n=Vue.computed(()=>"success"==t.type?"bg-primary":"bg-danger");return{show:()=>{e.show()},hide:()=>{e.hide()},toastEle:r,backgroundColor:n}},template:'\n    <div class="toast align-items-center text-white border-0 " :class="backgroundColor" role="alert" aria-live="assertive" aria-atomic="true" ref="toastEle">\n        <div class="d-flex">\n            <div class="toast-body">\n            <slot name="body"></slot>\n            </div>\n            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>\n        </div>\n    </div>'},datepicker:VueDatePicker},props:{},setup(t){const{watch:e,ref:r,inject:n,toRefs:a,onMounted:s,defineExpose:i,toRaw:o,reactive:l}=Vue,{t:c}=pt(),d=r([]),u=r(!1),p=Vue.inject("$api");n("$fhcAlert");let h,f=r();const g=r({gehaltsband_betrag_id:0,gehaltsband_kurzbz:"",von:"",bis:"",betrag_von:0,betrag_bis:0}),v=r({gehaltsband_betrag_id:0,gehaltsband_kurzbz:"",von:"",bis:"",betrag_von:0,betrag_bis:0}),m=()=>{f.value.hide()};s(async()=>{(async()=>{try{u.value=!0;const t=await p.call(gt.getSalaryRangeList());d.value="success"==t.meta.status?t.data:[],u.value=!1}catch(t){console.log(t),u.value=!1}})()});const b=Vue.ref(),_=Vue.reactive({bezeichnungBlurred:!1,vonBlurred:!1,bisBlurred:!1,betragVonBlurred:!1,betragBisBlurred:!1,wasValidated:!1}),A=t=>void 0!==t&&""!==t,y=t=>!!t&&""!=t.trim(),$=t=>!!t&&""!=t.trim(),S=()=>{return _.vonBlurred=!0,_.bisBlurred=!0,_.betragVonBlurred=!0,_.betragBisBlurred=!0,_.gehaltsbandKurzbzBlurred=!0,!!(y(g.value?.gehaltsband_kurzbz)&&$(g.value?.von)&&A(g.value?.betrag_von)&&A(g.value?.betrag_bis)&&(r=g.value.betrag_von,n=g.value.betrag_bis,""!==r&&""!==n&&null!==n&&null!==r?n>=r?(_.bisBlurred=!1,1):(_.bisBlurred=!0,0):(_.bisBlurred=!1,1))&&(t=g.value.von,e=g.value.bis,""!==t&&""!==e&&null!==e&&null!==t?(t=new Date(t),(e=new Date(e))>=t?(_.bisBlurred=!1,1):(_.bisBlurred=!0,0)):(_.bisBlurred=!1,1)));var t,e,r,n},k=Vue.computed(()=>Object.keys(g.value).some(t=>g.value[t]!==v.value[t]));return{modalRef:f,salaryRangeList:d,salaryRangeDataFrm:b,currentValue:g,t:c,showModal:t=>(g.value=void 0!==t?t:{gehaltsband_betrag_id:0,gehaltsband_kurzbz:"",von:"",bis:"",betrag_von:0,betrag_bis:0},v.value={...g.value},_.vonBlurred=!1,_.bisBlurred=!1,_.gehaltsbandKurzbzBlurred=!1,f.value.show(),new Promise((t,e)=>{h=t})),hideModal:m,validInput:A,validDatum:$,validBezeichnung:y,frmState:_,okHandler:async()=>{if(S())try{h({type:"OK",payload:g.value})}catch(t){console.log(t)}finally{u.value=!1,m()}else console.log("form invalid")},hasChanged:k}},template:'\n    <Modal :title="t(\'gehaltsband\',\'gehaltsband\')" ref="modalRef">\n        <template #body>\n            <form class="row g-3" v-if="currentValue != null"  ref="salaryRangeDataFrm" id="salaryRangeDataFrm">\n                        \n                <div class="col-md-6">\n                    <label for="gehaltsband_kurzbz" class="form-label required">Bezeichnung</label>\n                    <select  id="gehaltsband_kurzbz" class="form-select form-select-sm" aria-label=".form-select-sm " \n                        @blur="frmState.gehaltsbandKurzbzBlurred = true"   v-model="currentValue.gehaltsband_kurzbz" \n                        :class="{\'is-invalid\': !validBezeichnung(currentValue.gehaltsband_kurzbz) && frmState.gehaltsbandKurzbzBlurred}">\n                        <option v-for="(item, index) in salaryRangeList" :value="item.gehaltsband_kurzbz" >\n                            {{ item.bezeichnung }}\n                        </option>\n                    </select>\n\n                </div>    \n\n                <div class="col-md-6"></div>\n\n                <div class="col-md-3">\n                    <label for="von" class="required form-label">{{ t(\'gehaltsband\',\'gueltig_von\') }}</label>\n                    <datepicker id="von" \n                        :teleport="true" \n                        @blur="frmState.vonBlurred = true" \n                        :input-class-name="(!validDatum(currentValue.von) && frmState.vonBlurred) ? \'dp-invalid-input\' : \'\'"  \n                        v-model="currentValue.von"\n                        v-bind:enable-time-picker="false"\n                        text-input \n                        locale="de"\n                        format="dd.MM.yyyy"\n                        auto-apply \n                        model-type="yyyy-MM-dd"></datepicker>\n                </div> \n                \n                <div class="col-md-3">\n                    <label for="bis" class="form-label">{{ t(\'gehaltsband\',\'gueltig_bis\') }}</label>\n                    <datepicker id="bis" \n                        :teleport="true" \n                        @blur="frmState.bisBlurred = true"                         \n                        v-model="currentValue.bis"\n                        v-bind:enable-time-picker="false"\n                        text-input \n                        locale="de"\n                        format="dd.MM.yyyy"\n                        auto-apply \n                        model-type="yyyy-MM-dd"></datepicker>\n                </div>\n\n                <div class="col-md-6"></div>\n\n                <div class="col-md-3">\n                    <label for="betrag_von" class="required form-label">{{ t(\'gehaltsband\',\'betrag_von\') }}</label>\n                    <input type="number" \n                        class="form-control form-control-sm" :class="{ \'is-invalid\': !validInput(currentValue.betrag_von) && frmState.betragVonBlurred}"  \n                        id="betrag_von" maxlength="256" min="0" step="0.01"\n                        @blur="frmState.betragVonBlurred = true" \n                        v-model="currentValue.betrag_von">\n                </div>\n\n                <div class="col-md-3">\n                    <label for="betrag_bis" class="required form-label">{{ t(\'gehaltsband\',\'betrag_bis\') }}</label>\n                    <input type="number" \n                        class="form-control form-control-sm" :class="{ \'is-invalid\': !validInput(currentValue.betrag_bis) && frmState.betragBisBlurred}"  \n                        id="betrag_bis" maxlength="256" min="0" step="0.01"\n                        @blur="frmState.betragBisBlurred = true" \n                        v-model="currentValue.betrag_bis">\n                </div>\n                                                \n                <div class="col-8" v-if="currentValue.frist_id != 0">\n                    <div class="modificationdate">{{ currentValue.insertamum }}/{{ currentValue.insertvon }}, {{ currentValue.updateamum }}/{{ currentValue.updatevon }}</div>\n                </div>\n            </form>        \n\n        </template>\n        <template #footer>\n            <button type="button" class="btn btn-primary" :disabled="!hasChanged"  @click="okHandler()" >\n                {{ t(\'ui\',\'speichern\') }}\n            </button>\n        </template>\n    </Modal>\n    '};function mt(t,e,r){let n=document.createElement("div"),a=null,s=t.getValue();if(Array.isArray(s)){const t=s[0]?new Date(s[0]):null,e=s[1]?new Date(s[1]):null;a=[t,e]}return Vue.createApp({components:{PrimevueCalendar:primevue.calendar},data:()=>({val:a}),watch:{val(t){r(t)}},template:'<primevue-calendar \n\t\t\t\t\tv-model="val" \n\t\t\t\t\tselection-mode="range" \n\t\t\t\t\t:manual-input="false" \n\t\t\t\t\tshow-button-bar \n\t\t\t\t\t:showIcon="true"\n\t\t\t\t\tdateFormat="dd.mm.yy">\n\t\t\t\t   </primevue-calendar>'}).use(primevue.config.default).mount(n),n}primevue||console.error("PrimeVue not loaded!"),Tabulator.extendModule("filter","filters",{dates:(t,e)=>{if(!t)return!0;let r=new Date(e);if(Array.isArray(t)){let e=new Date(t[0]);if(t[1]){let n=new Date(t[1]);return n.setHours(23,59,59,999),r>=e&&r<=n}return r.toDateString()===e.toDateString()}let n=new Date(t);return r.toDateString()===n.toDateString()}});const bt={name:"SalaryRange",components:{datepicker:VueDatePicker,"p-skeleton":primevue.skeleton,progressbar:ft,Modal:st,ModalDialog:ht,BetragDialog:vt},props:{},setup(t,e){const{toRefs:r,ref:n,inject:a}=Vue,s=n(),i=n([]),o=n(),l=n(!1),{t:c}=pt(),d=n(),u=n(),p=n(!1),h=n(0),f=n(null),g=n(null),v=n([]),m=Vue.inject("$api"),b=a("$fhcAlert"),_=()=>{const t=new Date(E.value),e=new Date(E.value);return e.setFullYear(t.getFullYear(),0,1),e.setHours(0,0,0,0),e},A=()=>{const t=new Date(E.value),e=t.getFullYear();return t.setFullYear(e+1,0,0),t.setHours(23,59,59,999),t},y=()=>{const t=new Date(E.value);return t.setDate(1),t.setHours(0,0,0,0),t},$=()=>{const t=new Date(E.value),e=t.getMonth();return t.setFullYear(t.getFullYear(),e+1,0),t.setHours(23,59,59,999),t},S=t=>{let e=t=>t<10?"0"+t:t;if(null==t)return"";var r=new Date(t);return r.getFullYear()+"-"+e(r.getMonth()+1)+"-"+e(r.getDate())},k=t=>null!=t&&""!=t?t.substring(8,10)+"."+t.substring(5,7)+"."+t.substring(0,4):"",E=n(S(new Date)),C=n(),T=(t,e,r)=>{const n=new Date(t);if(isNaN(e))return n;if(!e)return n;const a=n.getDate(),s=new Date(t);s.setMonth(n.getMonth()+e+1,0);return a>=s.getDate()||r?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)},P=n([{label:"Heute",value:[new Date,new Date]},{label:"Aktuelles Monat",value:[y(),$()]},{label:"Aktuelles Jahr",value:[_(),A()]}]);FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/(https:|)(^|\/\/)(.*?\/)/g,""),FHC_JS_DATA_STORAGE_OBJECT.ci_router;const w=async()=>{l.value=!0;try{const t=await m.call(gt.getAll(C.value));i.value="success"==t?.meta?.status?t.data:[]}catch(t){b.handleSystemError(t)}finally{l.value=!1}},D=t=>t.getValue()?.replace(/(.*)-(.*)-(.*)/,"$3.$2.$1"),O=(t,e)=>{const r=new Date(t);return r.setDate(r.getDate()+e),r},F=(t,e)=>12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth());Vue.onMounted(async()=>{await w();let t={height:"100%",width:"100%",layout:"fitColumns",reactiveData:!0,selectable:!0,index:"gehaltsband_betrag_id",columns:[{title:"Bezeichnung",field:"bezeichnung",sorter:"string",headerFilter:"list",width:250,headerFilterParams:{valuesLookup:!0,autocomplete:!0}},{title:"Gültig von",field:"von",hozAlign:"center",sorter:"string",formatter:D,headerFilter:mt,width:150,headerFilterFunc:"dates"},{title:"Gültig bis",field:"bis",hozAlign:"center",sorter:"string",formatter:D,headerFilter:mt,width:150,headerFilterFunc:"dates"},{title:"Betrag von",field:"betrag_von",sorter:"string",headerFilter:"list",hozAlign:"right",formatter:"money",formatterParams:{decimal:",",thousand:".",negativeSign:!0,precision:2},width:150,headerFilterParams:{valuesLookup:!0,autocomplete:!0}},{title:"Betrag bis",field:"betrag_bis",sorter:"string",headerFilter:"list",hozAlign:"right",formatter:"money",formatterParams:{decimal:",",thousand:".",negativeSign:!0,precision:2},width:150,headerFilterParams:{valuesLookup:!0,autocomplete:!0}},{title:"Aktionen",field:"actions",width:145,minWidth:105,maxWidth:145,formatter:(t,e,r)=>{let n=document.createElement("div");n.className="d-flex gap-2";let a=document.createElement("button");return a.className="btn btn-sm btn-outline-secondary",a.innerHTML='<i class="fa fa-edit"></i>',a.addEventListener("click",e=>(async t=>{let e={...t};const r=await s.value.showModal(e);if("OK"==r.type){console.log("dialogRes=",r);try{const t=await m.call(gt.upsertSalaryRange(r.payload));"success"==t?.meta?.status&&(w(),b.alertSuccess(c("gehaltsband","gehaltsband_gespeichert")))}catch(t){b.handleSystemError(t)}finally{l.value=!1}}})(t.getRow().getData())),n.append(a),a=document.createElement("button"),a.className="btn btn-sm btn-outline-secondary",a.innerHTML='<i class="fa fa-xmark"></i>',a.addEventListener("click",()=>R(t.getRow().getIndex())),n.append(a),n}}],data:i.value};g.value=new Tabulator(f.value,t),g.value.on("rowSelectionChanged",t=>{v.value=t})}),Vue.watch(i,(t,e)=>{console.log("salaryRangeList changed"),g.value?.setData(i.value)},{deep:!0});const R=async t=>{if(o.value=i.value.find(e=>e.gehaltsband_betrag_id==t),!1!==await b.confirm({message:c("gehaltsband","gehaltsband")+" "+o?.value?.bezeichnung+" ("+k(o?.value?.von)+"-"+k(o?.value?.von)+") "+c("person","wirklichLoeschen")+"?",acceptLabel:c("global","Warnung"),acceptClass:"p-button-danger"}))try{const e=await m.call(gt.deleteSalaryRange(t));"success"==e?.meta?.status?(i.value=i.value.filter(e=>e.gehaltsband_betrag_id!=t),b.alertSuccess(c("gehaltsband","gehaltsband_geloescht"))):i.value=[]}catch(t){b.handleSystemError(t)}finally{l.value=!1}};return{t:c,isFetching:l,tableRef:f,tabulator:g,currentDate:E,presetDates:P,filterDate:C,formatDateISO:S,filterDateHandler:t=>{console.log("filter date set: ",t),C.value=null==t?null:t,w()},modalRef:d,confirmDeleteRef:u,currentBetrag:o,addSalaryRange:async()=>{const t=await s.value.showModal();if("OK"==t.type){console.log("dialogRes=",t);try{const e=await m.call(gt.upsertSalaryRange(t.payload));"success"==e?.meta?.status&&(w(),b.alertSuccess(c("gehaltsband","gehaltsband_erstellt")))}catch(t){b.handleSystemError(t)}finally{l.value=!1}}},betragDialogRef:s,decFilter:()=>{let t=new Date(C.value[0]),e=new Date(C.value[1]),r=F(t,e);-11==r?(t=T(t,-12,!1),e=T(e,-12,!0),C.value=[S(t),S(e)]):0==r&&t.getDate()==e.getDate()?(t=O(t,-1),e=O(e,-1),C.value=[S(t),S(e)]):C.value=[S(T(t,-1,!1)),S(T(e,-1,!0))],w()},incFilter:()=>{let t=new Date(C.value[0]),e=new Date(C.value[1]),r=F(t,e);-11==r?(t=T(t,12,!1),e=T(e,12,!0),C.value=[S(t),S(e)]):0==r&&t.getDate()==e.getDate()?(t=O(t,1),e=O(e,1),C.value=[S(t),S(e)]):C.value=[S(T(t,1,!1)),S(T(e,1,!0))],w()},cancelHandler:async()=>{p.value=!0,d.value.hide()},formatDateGerman:k,progressValue:h,startOfMonth:y,startOfYear:_,endOfMonth:$,endOfYear:A}},template:'    \n\n        <div v-if="isFetching" class="d-flex justify-content-center container-fluid px-0 " >\n            <div  class="spinner-border"  role="status">\n                <span class="visually-hidden">Loading...</span>\n            </div>           \n        </div>\n       \n        <div class="flex-grow-1 d-flex flex-column" style="width:100%"  >\n            <div class="d-flex">\n                <div class="me-auto">\n                    <button type="button" class="btn btn-sm btn-primary me-3" @click="addSalaryRange()"><i class="fa fa-plus"></i> hinzufügen</button>\n                </div>\n                <div class="d-grid d-sm-flex gap-2 mb-2 flex-nowrap">      \n                    <button type="button" class="btn btn-sm btn-primary" @click="decFilter()"  :disabled="filterDate==null"><i class="fa fa-minus"></i></button>  \n                    <datepicker id="filter" :modelValue="filterDate" \n                        @update:model-value="filterDateHandler"\n                        v-bind:enable-time-picker="false"   \n                        :clearable="true"                                 \n                        range :preset-dates="presetDates"\n                        auto-apply \n                        locale="de"\n                        format="dd.MM.yyyy"\n                        model-type="yyyy-MM-dd"\n                        input-class-name="dp-custom-input"\n                        style="max-width:240px;min-width:240px" >\n                        \n                        <template #preset-date-range-button="{ label, value, presetDate }">\n                            <span \n                                role="button"\n                                :tabindex="0"\n                                @click="presetDate(value)"\n                                @keyup.enter.prevent="presetDate(value)"\n                                @keyup.space.prevent="presetDate(value)">\n                            {{ label }}\n                            </span>\n                        </template>\n                    </datepicker>\n                    <button type="button" class="btn btn-sm btn-primary me-2" @click="incFilter()" :disabled="filterDate==null"><i class="fa fa-plus"></i></button>  \n                </div>\n            </div>\n            \x3c!-- TABULATOR --\x3e\n            <div ref="tableRef" class="fhc-tabulator" style="height:300px"></div>\n        </div>\n\n        <betrag-dialog  ref="betragDialogRef"></betrag-dialog>\n\n        <Modal title="DV beenden" ref="modalRef">\n            <template #body>\n                <div >\n                    <progressbar :percent="progressValue" bgType="bg-info"></progressbar>\n                </div>\n            </template>\n            <template #footer>                \n                <button class="btn btn-primary"  @click="cancelHandler()">Abbrechen</button>\n            </template>\n        </Modal>\n    '},_t=Vue.createApp({name:"PV21SalaryRange",components:{searchbar:et,CoreNavigationCmpt:G,SalaryRange:bt},inject:["$api","$fhcAlert"],data(){return{searchbaroptions:at,searchfunction:t=>this.$api.call(rt.search(t)),appSideMenuEntries:{}}},methods:{newSideMenuEntryHandler:function(t){this.appSideMenuEntries=t}}});_t.use(primevue.config.default),_t.use(J),_t.mount("#wrapper");
//# sourceMappingURL=SalaryRange.js.map
