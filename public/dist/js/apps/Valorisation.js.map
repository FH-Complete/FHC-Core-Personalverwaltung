{"version":3,"file":"Valorisation.js","sources":["../../../../../js/api/search.js","../../../../../js/api/phrasen.js","../../../../../js/api/navigation.js","../../../../../js/api/filter.js","../../../../../js/api/studstatus.js","../../../../../js/api/profil.js","../../../../../js/api/profilUpdate.js","../../../../../js/api/lvPlan.js","../../../../../js/api/stv.js","../../../../../js/api/stv/verband.js","../../../../../js/api/stv/students.js","../../../../../js/api/stv/filter.js","../../../../../js/api/stv/konto.js","../../../../../js/api/stv/group.js","../../../../../js/api/stv/kontakt.js","../../../../../js/api/stv/prestudent.js","../../../../../js/api/stv/status.js","../../../../../js/api/stv/details.js","../../../../../js/api/stv/exam.js","../../../../../js/api/stv/abschlusspruefung.js","../../../../../js/api/stv/grades.js","../../../../../js/api/stv/mobility.js","../../../../../js/api/stv/archiv.js","../../../../../js/api/stv/documents.js","../../../../../js/api/stv/exemptions.js","../../../../../js/api/stv/jointstudies.js","../../../../../js/api/stv/courselist.js","../../../../../js/api/notiz.js","../../../../../js/api/notiz/person.js","../../../../../js/api/betriebsmittel.js","../../../../../js/api/betriebsmittel/person.js","../../../../../js/api/checkperson.js","../../../../../js/api/ort.js","../../../../../js/api/cms.js","../../../../../js/api/lehre.js","../../../../../js/api/addons.js","../../../../../js/api/messages.js","../../../../../js/api/messages/person.js","../../../../../js/api/vorlagen.js","../../../../../js/api/studium.js","../../../../../js/api/fhcapifactory.js","../../../../../js/api/dashboard.js","../../../../../js/api/bookmark.js","../../../../../js/api/ampeln.js","../../../../../js/api/studiengang.js","../../../../../js/api/menu.js","../../../../../js/api/authinfo.js","../../../../../js/api/language.js","../../../../../js/plugin/OldFhcApi.js","../../../../../js/RESTClient.js","../../../../../js/plugins/FhcAlert.js","../../../../../js/plugins/Api.js","../../../../../js/api/factory/phrasen.js","../../../../../js/plugins/Phrasen.js","../../../../../js/components/Fetch.js","../../../../../js/api/factory/navigation.js","../../../../../js/components/navigation/Navigation.js","../../../../../js/components/filter/Filter/Config.js","../../../../../js/components/filter/Filter/Columns.js","../../../../../js/components/filter/Table/Download.js","../../../../../js/directives/collapseAutoClose.js","../../../../../js/tabulator/layouts/fitDataStretchFrozen.js","../../../../../js/api/factory/filter.js","../../../../../js/components/filter/Filter.js","../../../../../js/components/searchbar/result/template/action.js","../../../../../js/components/searchbar/result/template/frame.js","../../../../../js/components/searchbar/result/template/actions.js","../../../../../js/components/searchbar/result/person.js","../../../../../js/components/searchbar/result/room.js","../../../../../js/components/searchbar/result/employee.js","../../../../../js/components/searchbar/result/organisationunit.js","../../../../../js/components/searchbar/result/student.js","../../../../../js/components/searchbar/result/prestudent.js","../../../../../js/components/searchbar/result/dms.js","../../../../../js/components/searchbar/result/cms.js","../../../../../js/components/searchbar/result/mergedstudent.js","../../../../../js/components/searchbar/result/mergedperson.js","../../../../../js/components/searchbar/searchbar.js","../../../../../extensions/FHC-Core-Personalverwaltung/js/apps/common.js","../../../../../extensions/FHC-Core-Personalverwaltung/js/components/Modal.js","../../../../../extensions/FHC-Core-Personalverwaltung/js/components/bulk/valorisationformathelper.js","../../../../../js/api/factory/searchbar.js","../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/valorisierung.js","../../../../../extensions/FHC-Core-Personalverwaltung/js/components/bulk/ValorisationSelection.js","../../../../../extensions/FHC-Core-Personalverwaltung/js/api/factory/valorisierungcheck.js","../../../../../extensions/FHC-Core-Personalverwaltung/js/components/bulk/ValorisationCheck.js","../../../../../extensions/FHC-Core-Personalverwaltung/js/apps/Valorisation.js"],"sourcesContent":["/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/search';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchAdvanced(searchsettings, config) {\n\t\tconst url = '/api/frontend/v1/searchbar/searchAdvanced';\n\t\treturn this.$fhcApi.post(url, searchsettings, config);\n\t},\n\tsearchdummy(searchsettings) {\n\t\tconst url = 'public/js/apps/api/dummyapi.php/Search';\n\t\treturn this.$fhcApi.post(url, searchsettings);\n\t}\n};\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/loadModule/' + category);\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst payload = {categories, language}\n\t\treturn this.$fhcApi.post('/api/frontend/v1/phrasen/setLanguage', payload);\n\t},\n\tgetLanguage() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getLanguage', {});\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/phrasen/getAllLanguages', {});\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/header',\n\t\t\t{ navigation_page }\n\t\t);\n\t},\n\tgetMenu: function(navigation_page) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/navigation/menu',\n\t\t\t{ navigation_page }\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/saveCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t);\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeCustomFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/applyFilterFields',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t);\n\t},\n\taddFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/addFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/filter/removeFilterField',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t);\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t);\n\t},\n\tgetFilter(wsParams) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/filter/getFilter',\n\t\t\t{\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t);\n\t}\n};\n\n","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tabmeldung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/abmeldung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(stdsem, prestudent_id, grund) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/abmeldung/createAntrag', {\n\t\t\t\tstudiensemester: stdsem,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\tif (!Array.isArray(antrag_id))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t\t{ antrag_id }\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag_id.map(antrag => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/abmeldung/cancelAntrag',\n\t\t\t\t{ antrag_id: antrag.studierendenantrag_id },\n\t\t\t\t{ errorHeader: '#' + antrag.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t},\n\tunterbrechung: {\n\t\tgetDetails(antrag_id, prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/unterbrechung/'\n\t\t\t\t+ (antrag_id !== undefined ? 'getDetailsForAntrag/' + antrag_id : 'getDetailsForNewAntrag/' + prestudent_id);\n\t\t\treturn this.$fhcApi.get(url);\n\t\t},\n\t\tcreate(studiensemester, prestudent_id, grund, datum_wiedereinstieg, attachment) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/createAntrag', {\n\t\t\t\tstudiensemester,\n\t\t\t\tprestudent_id,\n\t\t\t\tgrund,\n\t\t\t\tdatum_wiedereinstieg,\n\t\t\t\tattachment\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(antrag_id) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/unterbrechung/cancelAntrag', {\n\t\t\t\tantrag_id\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t}\n\t},\n\twiederholung: {\n\t\tgetDetails(prestudent_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getDetailsForNewAntrag/' + prestudent_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tgetLvs(antrag_id) {\n\t\t\tconst url = '/api/frontend/v1/studstatus/wiederholung/getLvs/' + antrag_id;\n\t\t\treturn this.$fhcApi.get(url)\n\t\t},\n\t\tcreate(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/createAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tcancel(prestudent_id, studiensemester) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/cancelAntrag', {\n\t\t\t\tprestudent_id,\n\t\t\t\tstudiensemester\n\t\t\t}, {\n\t\t\t\terrorHandling: 'strict'\n\t\t\t});\n\t\t},\n\t\tsaveLvs(forbiddenLvs, mandatoryLvs) {\n\t\t\treturn this.$fhcApi.post('/api/frontend/v1/studstatus/wiederholung/saveLvs', {\n\t\t\t\tforbiddenLvs,\n\t\t\t\tmandatoryLvs\n\t\t\t});\n\t\t}\n\t},\n\tleitung: {\n\t\tgetStgs() {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getActiveStgs');\n\t\t},\n\t\tgetAntraege(url, config, params) {\n\t\t\treturn this.$fhcApi\n\t\t\t\t.get('/api/frontend/v1/studstatus/leitung/getAntraege/' + url)\n\t\t\t\t.then(res => res.data); // Return data for tabulator\n\t\t},\n\t\tgetHistory(antrag_id) {\n\t\t\treturn this.$fhcApi.get('/api/frontend/v1/studstatus/leitung/getHistory/' + antrag_id)\n\t\t},\n\t\tgetPrestudents(query, signal) {\n\t\t\treturn this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/getPrestudents',\n\t\t\t\t{ query },\n\t\t\t\t{\n                                    signal: signal,\n                                    timeout: 30000\n                                }\n\t\t\t);\n\t\t},\n\t\tapprove(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/rejectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\treopen(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/reopenAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/pauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tunpause(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/unpauseAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tobject(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/objectAntrag',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tapproveObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/approveObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t},\n\t\tdenyObjection(antrag) {\n\t\t\tif (!Array.isArray(antrag))\n\t\t\t\treturn this.$fhcApi.post(\n\t\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\t\tantrag\n\t\t\t\t);\n\t\t\treturn Promise.allSettled(antrag.map(a => this.$fhcApi.post(\n\t\t\t\t'/api/frontend/v1/studstatus/leitung/denyObjection',\n\t\t\t\ta,\n\t\t\t\t{ errorHeader: '#' + a.studierendenantrag_id }\n\t\t\t)));\n\t\t}\n\t}\n};","export default {\n\n  getView: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getView/${uid}`,{}\n    );\n  },\n\n  fotoSperre: function (value) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/fotoSperre/${value}`,\n      {}\n    );\n    \n  },\n\n  isStudent: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isStudent`,\n      {\n        uid:uid,\n      }\n    );\n  },\n\n  isMitarbeiter: function (uid) {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/isMitarbeiter/${uid}`,\n      {}\n    );\n  },\n\n  getZustellAdresse: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellAdresse`,{}\n    );\n  },\n\n  getZustellKontakt: function () {\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getZustellKontakt`,{}\n    );\n  },\n\n  getGemeinden: function(nation,zip){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      `/api/frontend/v1/Profil/getGemeinden/${nation}/${zip}`,\n      {}\n    );\n    \n  },\n  getAllNationen:function(){\n    return this.$fhcApi.get(\n      FHC_JS_DATA_STORAGE_OBJECT.app_root + \n      FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n      \"/api/frontend/v1/Profil/getAllNationen\",{}\n    );\n  },\n}","export default {\n    //! API calls for profil update requests\n  \n    getStatus: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getStatus`,{});\n    },\n  \n    getTopic: function () {\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getTopic`,{});\n    },\n  \n    acceptProfilRequest: function ({profil_update_id, uid, status_message, topic, requested_change}) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/acceptProfilRequest\",{profil_update_id, uid, status_message, topic, requested_change});\n    },\n  \n    denyProfilRequest: function ({profil_update_id, uid, topic, status_message}) {\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/denyProfilRequest\",{profil_update_id,uid,topic,status_message});\n    },\n  \n    insertFile: function (dms, replace = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/insertFile/${replace}`,\n        dms);\n\n    },\n    \n    getProfilRequestFiles: function (requestID) {\n      return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/getProfilRequestFiles/${requestID}`,{});\n    },\n  \n    selectProfilRequest: function (uid = null, id = null) {\n\n        return this.$fhcApi.get(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/selectProfilRequest`,\n        {...(uid?{uid}:{}),\n          ...(id?{id}:{})\n        });\n    },\n  \n    insertProfilRequest: function (topic, payload, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        \"/api/frontend/v1/ProfilUpdate/insertProfilRequest\",\n        {\n          topic,\n          payload,\n          ...(fileID ? { fileID } : {}),\n        });\n    },\n  \n    updateProfilRequest: function (topic, payload, ID, fileID = null) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/updateProfilRequest`,\n        {\n          topic,\n          payload,\n          ID,\n          ...(fileID ? { fileID: fileID } : {}),\n        });\n    },\n  \n    deleteProfilRequest: function (requestID) {\n\n      return this.$fhcApi.post(\n        FHC_JS_DATA_STORAGE_OBJECT.app_root +\n        FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n        `/api/frontend/v1/ProfilUpdate/deleteProfilRequest`,\n        {\n          requestID,\n        });\n    },\n  };\n  ","\nexport default {\n\tgetRoomInfo(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getRoomplan',\n\t\t\t{  ort_kurzbz, start_date, end_date}\n\t\t);\n\t},\n\tgetStunden() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/Stunden',\n\t\t\t{}\n\t\t);\n\t},\n\tgetOrtReservierungen(ort_kurzbz, start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/LvPlan/getReservierungen/${ort_kurzbz}`,\n\t\t\t{ start_date, end_date}\n\t\t);\n\t},\n\tgetLvPlanReservierungen(start_date, end_date) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'/api/frontend/v1/LvPlan/getReservierungen',\n\t\t\t{ start_date, end_date }\n\t\t);\n\t},\n\tgetLehreinheitStudiensemester(lehreinheit_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLehreinheitStudiensemester/${lehreinheit_id}`,\n\t\t\t{}\n\t\t);\n\t},\n\tstudiensemesterDateInterval(date) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/studiensemesterDateInterval/${date}`,\n\t\t\t{}\n\t\t);\n\t},\n\tLvPlanEvents(start_date, end_date, lv_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/LvPlan/LvPlanEvents',\n\t\t\t{ start_date, end_date, lv_id }\n\t\t);\n\t},\n\t\n\t\n};","import verband from './stv/verband.js';\nimport students from './stv/students.js';\nimport filter from './stv/filter.js';\nimport konto from './stv/konto.js';\nimport group from './stv/group.js';\nimport kontakt from './stv/kontakt.js';\nimport prestudent from './stv/prestudent.js';\nimport status from './stv/status.js';\nimport details from './stv/details.js';\nimport exam from './stv/exam.js';\nimport abschlusspruefung from './stv/abschlusspruefung.js';\nimport grades from './stv/grades.js';\nimport mobility from './stv/mobility.js';\nimport archiv from './stv/archiv.js';\nimport documents from './stv/documents.js';\nimport exemptions from './stv/exemptions.js';\nimport jointstudies from \"./stv/jointstudies.js\";\nimport courselist from './stv/courselist.js';\n\nexport default {\n\tverband,\n\tstudents,\n\tfilter,\n\tkonto,\n\tgroup,\n\tkontakt,\n\tprestudent,\n\tstatus,\n\tdetails,\n\texam,\n\tabschlusspruefung,\n\tgrades,\n\tmobility,\n\tarchiv,\n\tdocuments,\n\texemptions,\n\tjointstudies,\n\tcourselist,\n\tconfigStudent() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/student');\n\t},\n\tconfigStudents() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/config/students');\n\t}\n};\n","export default {\n\tget() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/verband');\n\t},\n\tfavorites: {\n\t\tget() {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/stv/favorites');\n\t\t},\n\t\tset(favorites) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/stv/favorites/set', {\n\t\t\t\tfavorites\n\t\t\t});\n\t\t}\n\t}\n}","export default {\n\tuid(uid, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/uid/'\n\t\t\t+ encodeURIComponent(uid);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tprestudent(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/prestudent/'\n\t\t\t+ encodeURIComponent(prestudent_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tperson(person_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/students/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t+ '/person/'\n\t\t\t+ encodeURIComponent(person_id);\n\t\treturn this.$fhcApi.getUri(url);\n\t},\n\tverband(relative_path) {\n\t\treturn this.$fhcApi.getUri('api/frontend/v1/stv/students/' + relative_path);\n\t}\n}","export default {\n\tgetStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/filter/getStg');\n\t},\n\tsetStg(studiengang_kz) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/filter/setStg', {\n\t\t\tstudiengang_kz\n\t\t});\n\t}\n};","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/konto/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id),\n\t\t\t\tonly_open: self.filter,\n\t\t\t\tstudiengang_kz: self.studiengang_kz_intern ? self.stg_kz : ''\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tcheckDoubles(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/checkDoubles', data, {\n\t\t\tconfirmErrorHandler: error => true\n\t\t});\n\t},\n\tinsert(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/insert', data);\n\t},\n\tcounter(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/counter', data);\n\t},\n\tedit(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/konto/update', data);\n\t},\n\tdelete(buchungsnr) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/konto/delete', {buchungsnr});\n\t},\n\tgetBuchungstypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/konto/getBuchungstypen');\n\t}\n};","export default {\n\tgetGruppen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/Gruppen/getGruppen/' + params.id);\n\t},\n\tdeleteGroup(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/Gruppen/deleteGruppe/', params);\n\t}\n}","export default {\n\t//------------- address.js-----------\n\tgetAdressen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressen/' + params.id);\n\t},\n\taddNewAddress(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewAddress/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadAddress(address_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadAddress/', {address_id});\n\t},\n\tupdateAddress(form, address_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateAddress/' + address_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteAddress(address_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteAddress/', {address_id});\n\t},\n\tgetPlaces(plz) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getPlaces/' + plz);\n\t},\n\tgetFirmen(searchString) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getFirmen/' + searchString);\n\t},\n\tgetNations() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/address/getNations/');\n\t},\n\tgetAdressentypen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getAdressentypen/');\n\t},\n\n\t//------------- bankverbindung.js-----------\n\tgetBankverbindung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getBankverbindung/' + params.id);\n\t},\n\taddNewBankverbindung(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewBankverbindung/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadBankverbindung(bankverbindung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadBankverbindung/', {bankverbindung_id});\n\t},\n\tupdateBankverbindung(form, bankverbindung_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateBankverbindung/' + bankverbindung_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteBankverbindung(bankverbindung_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteBankverbindung/', {bankverbindung_id});\n\t},\n\n\t//------------- contact.js-----------\n\tgetKontakte (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakte/' + params.id);\n\t},\n\taddNewContact(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/addNewContact/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadContact(kontakt_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/loadContact/', {kontakt_id});\n\t},\n\tupdateContact(form, kontakt_id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/kontakt/updateContact/' + kontakt_id,\n\t\t\tdata\n\t\t);\n\t},\n\tdeleteContact(kontakt_id) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/kontakt/deleteContact/', {kontakt_id});\n\t},\n\tgetStandorteByFirma(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getStandorteByFirma/' + searchString);\n\t},\n\tgetKontakttypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/kontakt/getKontakttypen/');\n\t}\n};","export default {\n\n//------------- Prestudent.js------------------------------------------------------\n\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\treturn \tthis.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/prestudent/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz)\n\t\t\t);\n\t},\n\tupdatePrestudent(form, prestudent_id, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/prestudent/updatePrestudent/' + prestudent_id,\n\t\t\tdata\n\t\t);\n\t},\n\tgetBezeichnungZGV() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungZGV/');\n\t},\n\tgetBezeichnungMZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungMZgv/');\n\t},\n\tgetBezeichnungDZgv() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBezeichnungDZgv/');\n\t},\n\tgetStgs() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStgs/');\n\t},\n\tgetAusbildung() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAusbildung/');\n\t},\n\tgetAufmerksamdurch() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getAufmerksamdurch/');\n\t},\n\tgetBerufstaetigkeit() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBerufstaetigkeit/');\n\t},\n\tgetTypenStg() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getTypenStg/');\n\t},\n\tgetBisstandort() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getBisstandort/');\n\t},\n\n//------------- MultiStatus.js------------------------------------------------------\n\tgetHistoryPrestudent (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getHistoryPrestudent/' + params.id);\n\t},\n\tgetMaxSem(studiengang_kzs) {\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/status/getMaxSemester/', {studiengang_kzs});\n\t},\n\tadvanceStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/advanceStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tconfirmStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/confirmStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tisLastStatus(id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/isLastStatus/' + id);\n\t},\n\tdeleteStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/deleteStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tgetLastBismeldestichtag() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getLastBismeldestichtag/');\n\t},\n\n//------------- History.js------------------------------------------------------\n\tgetHistoryPrestudents (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getHistoryPrestudents/' + params.id);\n\t},\n\n}","export default {\n\n//------------- Modal.js------------------------------------------------------\n\n\tinsertStatus(form, id, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/status/insertStatus/' + id,\n\t\t\tdata\n\t\t);\n\t},\n\tloadStatus({prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/status/loadStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester\n\t\t);\n\t},\n\tupdateStatus(form, {prestudent_id, status_kurzbz, studiensemester_kurzbz, ausbildungssemester}, data) {\n\t\treturn this.$fhcApi.post(\n\t\t\tform,\n\t\t\t'api/frontend/v1/stv/status/updateStatus/'\n\t\t\t+ prestudent_id + '/'\n\t\t\t+ status_kurzbz + '/'\n\t\t\t+ studiensemester_kurzbz + '/'\n\t\t\t+ ausbildungssemester,\n\t\t\tdata\n\t\t);\n\t},\n\tgetStudienplaene(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudienplaene/' + prestudent_id);\n\t},\n\tgetStudiengang(prestudent_id) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/prestudent/getStudiengang/' + prestudent_id);\n\t},\n\tgetStatusgruende() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusgruende/');\n\t},\n\tgetStati() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/lists/getStati/');\n\t},\n\n//------------- Dropdown.js------------------------------------------------------\n\n\taddStudent(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/addStudent/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tchangeStatus(id, data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/status/changeStatus/' + id,\n\t\t\tdata,\n\t\t\t{errorHeader: id}\n\t\t);\n\t},\n\tgetStatusarray() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/status/getStatusarray/');\n\t}\n}","export default {\n\tget(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/student/get/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(url);\n\t},\n\tsave(form, prestudent_id, studiensemester_kurzbz, data) {\n\t\tlet url = 'api/frontend/v1/stv/student/save/'\n\t\t\t+ encodeURIComponent(prestudent_id)\n\t\t\t+ '/'\n\t\t\t+ encodeURIComponent(studiensemester_kurzbz);\n\t\treturn this.$fhcApi.post(form, url, data);\n\t},\n}\n","export default {\n\tgetPruefungen(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getPruefungen/' + params.id);\n\t},\n\tloadPruefung(pruefung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/loadPruefung/' + pruefung_id);\n\t},\n\tgetTypenPruefungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getTypenPruefungen');\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/getAllLehreinheiten/', data)\n\t},\n\tgetLvsByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsByStudent/' + uid)\n\t},\n\tgetLvsandLesByStudent(uid, semester){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsandLesByStudent/' + uid + '/' + semester);\n\t},\n\tgetLvsAndMas(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getLvsAndMas/' + uid)\n\t},\n\tgetMitarbeiterLv(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getMitarbeiterLv/' + id)\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/pruefung/getNoten');\n\t},\n\tcheckZeugnisnoteLv(data){\n\t\treturn \tthis.$fhcApi.post('api/frontend/v1/stv/pruefung/checkZeugnisnoteLv/', data)\n\t},\n\taddPruefung(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/insertPruefung/',  data);\n\t},\n\tupdatePruefung(form, id, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/pruefung/updatePruefung/' + id,  data);\n\t},\n\tdeletePruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/pruefung/deletePruefung/' + id)\n\t}\n}","export default {\n\n\tgetAbschlusspruefung (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getAbschlusspruefung/' + params.id);\n\t},\n\taddNewAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/insertAbschlusspruefung/', data\n\t\t);\n\t},\n\tloadAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/loadAbschlusspruefung/', {id});\n\t},\n\tupdateAbschlusspruefung(form, data) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/abschlusspruefung/updateAbschlusspruefung/', data\n\t\t);\n\t},\n\tdeleteAbschlusspruefung(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/deleteAbschlusspruefung/', {id});\n\t},\n\tgetTypenAbschlusspruefung(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAbschlusspruefung/');\n\t},\n\tgetTypenAntritte(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getTypenAntritte/');\n\t},\n\tgetBeurteilungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getBeurteilungen/');\n\t},\n\tgetAkadGrade(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getAkadGrade/', {studiengang_kz});\n\t},\n\tgetTypStudiengang(studiengang_kz){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/getTypStudiengang/', {studiengang_kz});\n\t},\n\tgetMitarbeiter(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getMitarbeiter/' + searchString);\n\t},\n\tgetPruefer(searchString){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getPruefer/' + searchString);\n\t},\n\tgetNoten(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/abschlusspruefung/getNoten/');\n\t},\n\tcheckForExistingExams(uids) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/abschlusspruefung/checkForExistingExams/', {uids}\n\t\t);\n\t}\n}","export default {\n\tlist() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/grades/list');\n\t},\n\tgetCertificate(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getCertificate/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetTeacherProposal(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getTeacherProposal/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tgetRepeaterGrades(prestudent_id, studiensemester_kurzbz) {\n\t\tlet url = 'api/frontend/v1/stv/grades/getRepeaterGrades/' + encodeURIComponent(prestudent_id);\n\t\tif (!!studiensemester_kurzbz) {\n\t\t\turl = url + '/' + encodeURIComponent(studiensemester_kurzbz);\n\t\t}\n\t\treturn this.$fhcApi.get(url);\n\t},\n\tupdateCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, note, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/updateCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz,\n\t\t\t\tnote\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tdeleteCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/deleteCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyTeacherProposalToCertificate({lehrveranstaltung_id, student_uid, studiensemester_kurzbz, lehrveranstaltung_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyTeacherProposalToCertificate',\n\t\t\t{\n\t\t\t\tlehrveranstaltung_id,\n\t\t\t\tstudent_uid,\n\t\t\t\tstudiensemester_kurzbz\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lehrveranstaltung_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tcopyRepeaterGradeToCertificate({studierendenantrag_lehrveranstaltung_id, lv_bezeichnung}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/stv/grades/copyRepeaterGradeToCertificate',\n\t\t\t{\n\t\t\t\tstudierendenantrag_lehrveranstaltung_id\n\t\t\t},\n\t\t\t{\n\t\t\t\terrorHeader: lv_bezeichnung\n\t\t\t}\n\t\t);\n\t},\n\tgetGradeFromPoints(points, lehrveranstaltung_id, studiensemester_kurzbz, manualErrorHandling) {\n\t\tconst config = manualErrorHandling ? {errorHandling: false} : {};\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/grades/getGradeFromPoints',\n\t\t\t{\n\t\t\t\t\"points\": points,\n\t\t\t\t\"lehrveranstaltung_id\": lehrveranstaltung_id,\n\t\t\t\t\"studiensemester_kurzbz\": studiensemester_kurzbz\n\t\t\t},\n\t\t\tconfig\n\t\t\t);\n\t}\n}","export default {\n\tgetMobilitaeten (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getMobilitaeten/' + params.id);\n\t},\n\tgetProgramsMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getProgramsMobility/');\n\t},\n\taddNewMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/insertMobility/', data);\n\t},\n\tloadMobility(bisio_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/loadMobility/' + bisio_id);\n\t},\n\tupdateMobility(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/mobility/updateMobility/', data);\n\t},\n\tdeleteMobility(bisio_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobility/' + bisio_id);\n\t},\n\tgetLVList(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLVList/' + studiengang_kz);\n\t},\n\tgetAllLehreinheiten(data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/getAllLehreinheiten/', data)\n\t},\n\tgetLvsandLesByStudent(uid){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getLvsandLesByStudent/' + uid);\n\t},\n\tgetPurposes(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getPurposes/' + params.id);\n\t},\n\tgetSupports(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getSupports/' + params.id);\n\t},\n\tgetListPurposes() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListPurposes/');\n\t},\n\tgetListSupports() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/mobility/getListSupports/');\n\t},\n\tdeleteMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilityPurpose/' + params.bisio_id, params);\n\t},\n\taddMobilityPurpose(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilityPurpose/' + params.bisio_id, params);\n\t},\n\tdeleteMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/deleteMobilitySupport/' + params.bisio_id, params);\n\t},\n\taddMobilitySupport(params) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/mobility/addMobilitySupport/' + params.bisio_id, params);\n\t},\n\n}","export default {\n\ttabulatorConfig(config, self) {\n\t\tconfig.ajaxURL = 'api/frontend/v1/stv/archiv/get';\n\t\tconfig.ajaxParams = () => {\n\t\t\tconst params = {\n\t\t\t\tperson_id: self.modelValue.person_id || self.modelValue.map(e => e.person_id)\n\t\t\t};\n\t\t\treturn params;\n\t\t};\n\t\tconfig.ajaxRequestFunc = (url, config, params) => this.$fhcApi.post(url, params, config);\n\t\tconfig.ajaxResponse = (url, params, response) => response.data;\n\n\t\treturn config;\n\t},\n\tgetArchivVorlagen() {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/getArchivVorlagen');\n\t},\n\tarchive(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archive',\n\t\t\tdata\n\t\t);\n\t},\n\tarchiveSigned(data) {\n\t\treturn this.$fhcApi.post(\n\t\t\t'api/frontend/v1/documents/archiveSigned',\n\t\t\tdata\n\t\t);\n\t},\n\tupdate(data) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/update', data);\n\t},\n\tdelete({akte_id, studiengang_kz}) {\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/archiv/delete', {akte_id, studiengang_kz});\n\t}\n};\n","export default {\n\tgetDocumentsUnaccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsUnaccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tgetDocumentsAccepted(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDocumentsAccepted/' + params.id + '/' + params.studiengang_kz);\n\t},\n\tdeleteZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteZuordnung/' + params.prestudent_id + '/' + params.dokument_kurzbz);\n\t},\n\tcreateZuordnung(params){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/createZuordnung/'\n\t\t\t+ params.prestudent_id + '/'\n\t\t\t+ params.dokument_kurzbz);\n\t},\n\tloadAkte(akte_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/loadAkte/' + akte_id);\n\t},\n\tgetDoktypen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/dokumente/getDoktypen/');\n\t},\n\tupdateFile(akte_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/updateAkte/' + akte_id,\n\t\t\tdata);\n\t},\n\tdeleteFile(akte_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/deleteAkte/' + akte_id);\n\t},\n\tuploadFile(prestudent_id, data){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/dokumente/uploadDokument/' + prestudent_id,\n\t\t\tdata);\n\t},\n}","export default {\n\tgetAnrechnungen(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getAnrechnungen/' + params.id);\n\t},\n\tgetLehrveranstaltungen(prestudent_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLehrveranstaltungen/' + prestudent_id);\n\t},\n\tgetBegruendungen(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getBegruendungen/');\n\t},\n\tgetLvsKompatibel(lv_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLvsKompatibel/' + lv_id);\n\t},\n\tgetLektoren(studiengang_kz){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/getLektoren/' + studiengang_kz);\n\t},\n\taddNewAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/insertAnrechnung/', data);\n\t},\n\tloadAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/anrechnungen/loadAnrechnung/' + anrechnung_id);\n\t},\n\teditAnrechnung(form, data){\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/stv/anrechnungen/updateAnrechnung/', data);\n\t},\n\tdeleteAnrechnung(anrechnung_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/anrechnungen/deleteAnrechnung/' + anrechnung_id);\n\t},\n}","export default {\n\tgetStudies(url, config, params) {\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudien/' + params.id);\n\t},\n\tgetTypenMobility(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getTypenMobility/');\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudiensemester/');\n\t},\n\tgetStudyprograms(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStudienprogramme/');\n\t},\n\tgetListPartner(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getPartnerfirmen/');\n\t},\n\tgetStatiPrestudent(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/getStatiPrestudent/');\n\t},\n\tloadStudy(id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/GemeinsameStudien/loadStudie/' + id);\n\t},\n\tinsertStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/insertStudie/', data);\n\t},\n\tupdateStudy(form, data){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/stv/GemeinsameStudien/updateStudie/', data);\n\t},\n\tdeleteStudy(id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/stv/GemeinsameStudien/deleteStudie/' + id);\n\t},\n\n}","export default {\n\tgetCourselist(url, config, params) {\n\t\t//corresponding logic controller Stundenplan.php\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStundenplan/'\n\t\t\t+ params.student_uid + '/'\n\t\t\t+ params.start_date + '/'\n\t\t\t+ params.end_date + '/'\n\t\t\t+ params.group_consecutiveHours + '/'\n\t\t\t+ params.dbStundenplanTable\n\t\t);\n\t},\n\tgetStudiensemester(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/stv/LvTermine/getStudiensemester/');\n\t},\n}","import person from \"./notiz/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetNotizen (url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getNotizen/' + params.id + '/' + params.type);\n\t},\n\tgetUid(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getUid/');\n\t},\n\taddNewNotiz(form, id, formData) {\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/addNewNotiz/' + id,\n\t\t\tformData\n\t\t);\n\t},\n\tloadNotiz(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadNotiz/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tloadDokumente(notiz_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/loadDokumente/', {\n\t\t\tnotiz_id\n\t\t});\n\t},\n\tdeleteNotiz(notiz_id, type_id, id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/notiz/notizPerson/deleteNotiz/', {\n\t\t\tnotiz_id,\n\t\t\ttype_id,\n\t\t\tid\n\t\t});\n\t},\n\tupdateNotiz(form, notiz_id, formData){\n\t\treturn this.$fhcApi.post(form,'api/frontend/v1/notiz/notizPerson/updateNotiz/' + notiz_id,\n\t\t\tformData\n\t\t);\n\t},\n\tgetMitarbeiter(event){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/getMitarbeiter/' + event);\n\t},\n\tisBerechtigt(id, type_id){\n\t\treturn this.$fhcApi.get('api/frontend/v1/notiz/notizPerson/isBerechtigt/');\n\t}\n}","import person from \"./betriebsmittel/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\tgetAllBetriebsmittel(url, config, params){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getAllBetriebsmittel/' + params.type + '/' + params.id);\n\t},\n\taddNewBetriebsmittel(form, person_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/addNewBetriebsmittel/' +\n\t\t\tperson_id, formData\n\t\t);\n\t},\n\tloadBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/loadBetriebsmittel/' + betriebsmittelperson_id);\n\t},\n\tupdateBetriebsmittel(form, betriebsmittelperson_id, formData) {\n\t\treturn this.$fhcApi.post(form, 'api/frontend/v1/betriebsmittel/betriebsmittelP/updateBetriebsmittel/' + betriebsmittelperson_id,\n\t\t\tformData);\n\t},\n\tdeleteBetriebsmittel(betriebsmittelperson_id){\n\t\treturn this.$fhcApi.post('api/frontend/v1/betriebsmittel/betriebsmittelP/deleteBetriebsmittel/' +\tbetriebsmittelperson_id);\n\t},\n\tgetTypenBetriebsmittel(){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/getTypenBetriebsmittel/');\n\t},\n\tloadInventarliste(query){\n\t\treturn this.$fhcApi.get('api/frontend/v1/betriebsmittel/betriebsmittelP/loadInventarliste/' +\tquery);\n\t}\n}","export default {\n\tupdatePersonUnrulyStatus(person_id, unrulyParam) {\n\n\t\ttry {\n\t\t\tconst payload = {person_id, unruly: unrulyParam}\n\t\t\tconst url = '/api/frontend/v1/checkperson/CheckPerson/updatePersonUnrulyStatus';\n\t\t\treturn this.$fhcApi.post(url, payload, null);\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t},\n\tfilterPerson(payload, base = ''){\n\n\t\ttry {\n\t\t\tconst url = base + '/api/frontend/v1/checkperson/CheckPerson/filterPerson';\n\t\t\treturn axios.post(url, payload)\n\t\t} catch (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t}\n}","export default {\n  getContentID(ort_kurbz) {\n\t\treturn this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            \"/api/frontend/v1/Ort/ContentID\",\n\t\t\t{ ort_kurzbz: ort_kurbz }\n\t\t);\n\t},\n\tgetRooms(datum, von, bis, typ, personenanzahl = 0) {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getRooms\",\n\t\t\t{ datum, von, bis, typ, personenanzahl }\n\t\t);\n\t},\n\tgetRoomTypes() {\n\t\treturn this.$fhcApi.get(\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\"/api/frontend/v1/Ort/getTypes\"\n\t\t);\n\t}\n}","export default {\n    content(content_id, version=null, sprache=null, sichtbar=null) {\n        return this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/content\",\n\t\t\t{ \n\t\t\t\tcontent_id: content_id,\n\t\t\t\t...(version?{version}:{}),\n\t\t\t\t...(sprache?{sprache}:{}),\n\t\t\t\t...(sichtbar?{sichtbar}:{}),\n            }\n        );\n    },\n\t//api function used for the news View that renders the html\n\tgetNews(page = 1, page_size = 10, sprache) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNews\",\n\t\t\t{\n\t\t\t\tpage,\n\t\t\t\tpage_size,\n\t\t\t\tsprache,\n\t\t\t},\n\t\t);\n\t},\n\t//api function used for the widget component\n\tnews(limit) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/news\",\n\t\t\t{\n\t\t\t\tlimit: limit\n\t\t\t}\n\t\t);\n\t},\n\tgetNewsRowCount: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getNewsRowCount\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetNewsExtra: function(){\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Cms/getStudiengangInfoForNews\",\n\t\t\t{}\n\t\t);\n\t}\n  }","export default {\n    getStudentenMail(lehreinheit_id) {\n          return this.$fhcApi.get(\n              FHC_JS_DATA_STORAGE_OBJECT.app_root +\n              FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n              \"/api/frontend/v1/Lehre/lvStudentenMail\",\n              { lehreinheit_id: lehreinheit_id }\n          );\n      },\n\tgetLvInfo(studiensemester_kurzbz, lehrveranstaltung_id) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/LV/${studiensemester_kurzbz}/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentPruefungen(lehrveranstaltung_id){\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/Pruefungen/${lehrveranstaltung_id}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektarbeiten(uid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektarbeiten/${uid}`\n\t\t\t, {}\n\t\t);\n\t},\n\tgetStudentProjektabgaben(detail) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getStudentProjektabgaben`\n\t\t\t, {\n\t\t\t\tprojektarbeit_id: detail.projektarbeit_id,\n\t\t\t\tstudent_uid: detail.student_uid\n\t\t\t}\n\t\t);\n\t},\n\tpostStudentProjektarbeitEndupload(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitEndupload';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tpostStudentProjektarbeitZwischenabgabe(formData) {\n\t\tconst url = '/api/frontend/v1/Lehre/postStudentProjektarbeitZwischenabgabe';\n\t\tconst headers = {Headers: { \"Content-Type\": \"multipart/form-data\" }}\n\t\treturn this.$fhcApi.post(url, formData, headers)\n\t},\n\tgetStudentProjektarbeitAbgabeFile(paabgabe_id, student_uid) {\n\t\tconst url = `/Cis/Abgabetool/getStudentProjektarbeitAbgabeFile?paabgabe_id=${paabgabe_id}&student_uid=${student_uid}`;\n\n\t\twindow.location = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + url\n\t},\n\tgetMitarbeiterProjektarbeiten(uid, all) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Lehre/getMitarbeiterProjektarbeiten?showall=${all}`\n\t\t\t, {}\n\t\t);\n\t},\n\tpostProjektarbeitAbgabe(termin) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id: termin.paabgabe_id,\n\t\t\tpaabgabetyp_kurzbz: termin.bezeichnung.paabgabetyp_kurzbz,\n\t\t\tdatum: termin.datum,\n\t\t\tfixtermin: termin.fixtermin,\n\t\t\tinsertvon: termin.insertvon,\n\t\t\tkurzbz: termin.kurzbz,\n\t\t\tprojektarbeit_id: termin.projektarbeit_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t\t\n\t},\n\tdeleteProjektarbeitAbgabe(paabgabe_id) {\n\t\tconst payload = {\n\t\t\tpaabgabe_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/deleteProjektarbeitAbgabe';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tpostSerientermin(datum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids) {\n\t\tconst payload = {\n\t\t\tdatum, paabgabetyp_kurzbz, bezeichnung, kurzbz, projektarbeit_ids\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/postSerientermin';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t},\n\tfetchDeadlines(person_id) {\n\t\tconst payload = {\n\t\t\tperson_id\n\t\t}\n\t\tconst url = '/api/frontend/v1/Lehre/fetchDeadlines';\n\n\t\treturn this.$fhcApi.post(url, payload, null)\n\t}\n  }","export default {\n    getLvMenu(lvid, studiensemester_kurzbz) {\n        return this.$fhcApi.get(\n            FHC_JS_DATA_STORAGE_OBJECT.app_root +\n            FHC_JS_DATA_STORAGE_OBJECT.ci_router +\n            `/api/frontend/v1/LvMenu/getLvMenu/${lvid}/${studiensemester_kurzbz}`,\n            {}\n        );\n    },\n\n      \n  }","import person from \"./messages/person.js\";\n\nexport default {\n\tperson\n}","export default {\n\t\tgetMessages(url, config, params) {\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessages/' + params.id + '/' + params.type + '/' + params.size + '/' + params.page);\n\t\t},\n\t\tgetVorlagen(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getVorlagen/');\n\t\t},\n\t\tgetMsgVarsLoggedInUser(){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsLoggedInUser/');\n\t\t},\n\t\tgetMessageVarsPerson(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMessageVarsPerson/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetMsgVarsPrestudent(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getMsgVarsPrestudent/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPersonId(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getPersonId/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetUid(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getUid/'+ params.id + '/' + params.type_id);\n\t\t},\n\t\tgetDataVorlage(vorlage_kurzbz){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getDataVorlage/' + vorlage_kurzbz);\n\t\t},\n\t\tgetNameOfDefaultRecipient(params){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getNameOfDefaultRecipient/' + params.id + '/' + params.type_id);\n\t\t},\n\t\tgetPreviewText(params, data){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/getPreviewText/' + params.id + '/' + params.type_id,\n\t\t\t\tdata);\n\t\t},\n\t\tgetReplyData(messageId){\n\t\t\treturn this.$fhcApi.get('api/frontend/v1/messages/messages/getReplyData/' + messageId);\n\t\t},\n\t\tsendMessageFromModalContext(form, id, data) {\n\t\t\treturn this.$fhcApi.post(form,'api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tsendMessage(id, data) {\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/sendMessage/' + id,\n\t\t\t\tdata);\n\t\t},\n\t\tdeleteMessage(messageId){\n\t\t\treturn this.$fhcApi.post('api/frontend/v1/messages/messages/deleteMessage/' + messageId);\n\t\t}\n}","export default {\n\tgetVorlagen() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagen/');\n\t},\n\tgetVorlagenByLoggedInUser() {\n\t\treturn this.$fhcApi.get('api/frontend/v1/vorlagen/vorlagen/getVorlagenByLoggedInUser/');\n\t}\n}","export default {\n\n\tgetStudiensemester: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/components/Cis/Mylv/Studiensemester',\n\t\t\t{}\n\t\t);\n\t},\n\n\tgetAllStudienSemester: function (studiensemester=undefined, studiengang=undefined, semester=undefined, studienplan=undefined) {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/Studium/getStudienAllSemester',\n\t\t\t{studiensemester, studiengang, semester, studienplan}\n\t\t);\n\t},\n\n\tgetStudiengaengeForStudienSemester: function (studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudiengaengeForStudienSemester/${studiensemester}`,\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudienplaeneBySemester: function (studiengang, studiensemester) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getStudienplaeneBySemester`,\n\t\t\t{\n\t\t\t\tstudiengang,\n\t\t\t\tstudiensemester,\n\t\t\t}\n\t\t);\n\t},\n\tgetLvPlanForStudiensemester: function (studiensemester, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/LvPlan/getLvPlanForStudiensemester/${studiensemester}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\tgetLvEvaluierungInfo: function (studiensemester_kurzbz, lvid) {\n\t\treturn this.$fhcApi.get(\n\t\t\t`/api/frontend/v1/Studium/getLvEvaluierungInfo/${studiensemester_kurzbz}/${lvid}`,\n\t\t\t{\n\t\t\t}\n\t\t);\n\t},\n\t\n}","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport search from \"./search.js\";\nimport phrasen from \"./phrasen.js\";\nimport navigation from \"./navigation.js\";\nimport filter from \"./filter.js\";\nimport studstatus from \"./studstatus.js\";\nimport profil from \"./profil.js\";\nimport profilUpdate from \"./profilUpdate.js\";\nimport lvPlan from \"./lvPlan.js\";\nimport bookmark from \"./bookmark.js\";\nimport stv from \"./stv.js\";\nimport notiz from \"./notiz.js\";\nimport betriebsmittel from \"./betriebsmittel.js\";\nimport checkperson from \"./checkperson.js\";\nimport ampeln from \"./ampeln.js\";\nimport ort from \"./ort.js\";\nimport cms from \"./cms.js\";\nimport lehre from \"./lehre.js\";\nimport addons from \"./addons.js\";\nimport messages from \"./messages.js\";\nimport vorlagen from \"./vorlagen.js\";\nimport studiengang from \"./studiengang.js\";\nimport menu from \"./menu.js\";\nimport dashboard from \"./dashboard.js\";\nimport authinfo from \"./authinfo.js\";\nimport studium from \"./studium.js\";\nimport language from \"./language.js\";\n\nexport default {\n    search,\n    phrasen,\n    navigation,\n    dashboard,\n    filter,\n    studstatus,\n    profil,\n    profilUpdate,\n    lvPlan,\n    bookmark,\n    stv,\n    notiz,\n    betriebsmittel,\n    checkperson,\n    ampeln,\n    ort,\n    cms,\n    lehre,\n    addons,\n    messages,\n    vorlagen,\n    addons,\n\tstudiengang,\n\tmenu,\n\tauthinfo,\n\tstudium,\n    language\n};\n","export default {\n\tasync getViewData() {\n\t\tconst url = `/api/frontend/v1/Cis4FhcApi/getViewData`;\n\t\treturn this.$fhcApi.get(url, null, null)\n\t},\n}","export default {\n\n    getBookmarks: function () {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/getBookmarks`\n        ,{}\n      );\n    },\n  \n    delete: function (bookmark_id) {\n      return this.$fhcApi.get(\n        `/api/frontend/v1/Bookmark/delete/${bookmark_id}`\n        ,{}\n      ); \n    },\n\n\tupdate: function ({ bookmark_id, url, title, tag=null}) {\n\t\treturn this.$fhcApi.post(\n\t\t\t`/api/frontend/v1/Bookmark/update/${bookmark_id}`\n\t\t\t, {\n\t\t\t\turl: url,\n\t\t\t\ttitle: title\n\t\t\t}\n\t\t);\n\t},\n\n    insert: function ({url, title, tag}) {\n      return this.$fhcApi.post(\n        `/api/frontend/v1/Bookmark/insert`\n        ,{\n          url: url,\n          title: title,\n          tag: tag\n        }\n      ); \n    },\n}","export default {\n    \n    open: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/open`,{});\n    },\n\n    all: function () {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/all`,{});\n    },\n\n    confirm: function (ampel_id) {\n        return this.$fhcApi.get(\n        `/api/frontend/v1/Ampeln/confirm/${ampel_id}`,{});\n    },\n\n}","export default {\n\tstudiengangInformation: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/Studgang/getStudiengangInfo\",\n\t\t\t{}\n\t\t);\n\t},\n\tgetStudiengangByKz: function (studiengang_kz) {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/organisation/StudiengangEP/getStudiengangByKz\",\n\t\t\t{\n\t\t\t\t\"studiengang_kz\": studiengang_kz\n\t\t\t}\n\t\t);\n\t}\n}","export default {\n\tgetMenu: function () {\n\t\treturn this.$fhcApi.get(\n\t\t\t\"/api/frontend/v1/CisMenu/getMenu\",\n\t\t\t{}\n\t\t);\n\t}\n\n}","\nexport default {\n\tgetAuthUID() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthUID',\n\t\t\t{ }\n\t\t);\n\t},\n\tgetAuthInfo() {\n\t\treturn this.$fhcApi.get(\n\t\t\t'/api/frontend/v1/AuthInfo/getAuthInfo',\n\t\t\t{}\n\t\t);\n\t},\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetAll() {\n\t\treturn this.$fhcApi.get('/api/frontend/v1/language/get');\n\t}\n};","/** TODO(chris):\n * when deleting this file be sure to\n * remove line 1 & 90 from ../plugins/Phrasen.js\n */\nimport FhcApiFactory from '../api/fhcapifactory.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$fhcApi) {\n\t\t\t/* Deprecated Code start */\n\t\t\tif (options?.factory) {\n\t\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\t\tapp.config.globalProperties.$fhcApi.factory.addEndpoints(options.factory);\n\t\t\t}\n\t\t\t/* Deprecated Code end */\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\n\t\tfunction _clean_return_value(response) {\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = {response};\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tconst baseURL = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\";\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(response => {\n\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\treturn _clean_return_value(response);\n\n\t\t\t// NOTE(chris): loop through errors\n\t\t\tif (response.data.errors)\n\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t);\n\n\t\t\treturn _clean_return_value(response);\n\t\t}, error => {\n\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\n\t\t\tif (error.config?.errorHandling == 'off'\n\t\t\t\t|| error.config?.errorHandling === false\n\t\t\t\t|| error.config?.errorHandling == 'success')\n\t\t\t\treturn Promise.reject(error);\n\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL, true);\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t\t}\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\terror.response.data.errors = error.response.data.errors.filter(\n\t\t\t\t\terr => (error.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$fhcApi._defaultErrorHandlers[err.type])(err, error.config)\n\t\t\t\t);\n\t\t\t\tif (!error.response.data.errors.length)\n\t\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else if (error.request) {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('error', error.message, error.request.responseURL);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t} else {\n\t\t\t\tapp.config.globalProperties.$fhcAlert.alertError(error.message);\n\t\t\t\treturn Promise.reject({...{handled: true}, ...error});\n\t\t\t}\n\n\t\t\treturn Promise.reject(error);\n\t\t});\n\n\t\tapp.config.globalProperties.$fhcApi = {\n\t\t\tgetUri(url) {\n\t\t\t\tconsole.warn('$fhcApi.getUri is DEPRECATED! Use $api.getUri instead.');\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\tconsole.warn('$fhcApi.get is DEPRECATED! Use $api.get instead.');\n\t\t\t\t[uri, params, config] = _get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\tconsole.warn('$fhcApi.post is DEPRECATED! Use $api.post instead.');\n\t\t\t\t[uri, data, config] = _get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\t_defaultErrorHandlers: {\n\t\t\t\tvalidation(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form) {\n\t\t\t\t\t\tconfig.form.clearValidation();\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.messages);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\tif (Array.isArray(error.messages)) {\n\t\t\t\t\t\terror.messages.forEach($fhcAlert.alertError);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (typeof error.messages == 'object') {\n\t\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t\tObject.values(error.messages).forEach(\n\t\t\t\t\t\t\t\tvalue => $fhcAlert.alertDefault(\n\t\t\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tObject.entries(error.messages).forEach(\n\t\t\t\t\t\t\t\t([key, value]) => $fhcAlert.alertDefault('error', key, value, true)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\tgeneral(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tif (config?.form)\n\t\t\t\t\t\tconfig.form.setFeedback(false, error.message);\n\t\t\t\t\telse if (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertError(error.message);\n\t\t\t\t},\n\t\t\t\tphp(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('warn', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t$fhcAlert.alertDefault('info', 'PHP ' + error.severity, message, true);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\texception(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tdb(error) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t$fhcAlert.alertSystemError(message);\n\t\t\t\t},\n\t\t\t\tauth(error, config) {\n\t\t\t\t\tconst $fhcAlert = app.config.globalProperties.$fhcAlert;\n\n\t\t\t\t\tvar message = '';\n\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\t\t\t\t\tif (config?.errorHeader)\n\t\t\t\t\t\t$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\tArray.isArray(config.errorHeader) ? app.config.globalProperties.$p.t.apply(null, config.errorHeader) : config.errorHeader,\n\t\t\t\t\t\t\terror.message,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\t$fhcAlert.alertDefault('error', error.message, message);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/* Deprecated Code start */\n\t\tclass FhcApiFactoryWrapper {\n\t\t\tconstructor(factorypart, root) {\n\t\t\t\tif (root === undefined) {\n\t\t\t\t\tthis.$fhcApi = {\n\t\t\t\t\t\tgetUri(url) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.getUri(url);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tget(form, uri, params, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.get(form, uri, params, config);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpost(form, uri, data, config) {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.post(form, uri, data, config);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tObject.defineProperty(this.$fhcApi, 'factory', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tconsole.warn('$fhcApi.factory is DEPRECATED!');\n\t\t\t\t\t\t\treturn app.config.globalProperties.$fhcApi.factory;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tapp.config.globalProperties.$fhcApi.factory = this;\n\t\t\t\t} else {\n\t\t\t\t\tObject.defineProperty(this, '$fhcApi', {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\treturn (root || this).$fhcApi;\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\n\t\t\t\tthis.addEndpoints(factorypart, true)\n\t\t\t}\n\n\t\t\taddEndpoints(factorypart, noWarn) {\n\t\t\t\tObject.keys(factorypart).forEach(key => {\n\t\t\t\t\tObject.defineProperty(this, key, {\n\t\t\t\t\t\tget() {\n\t\t\t\t\t\t\tif (typeof factorypart[key] == 'function')\n\t\t\t\t\t\t\t\treturn factorypart[key].bind(this);\n\t\t\t\t\t\t\treturn new FhcApiFactoryWrapper(factorypart[key], this.$fhcApi.factory);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tif (!noWarn) console.warn('$fhcApi.factory.addEndpoints() is DEPRECATED!');\n\t\t\t}\n\t\t}\n\n\t\tconst factory = new FhcApiFactoryWrapper(FhcApiFactory);\n\t\tif (options?.factory) {\n\t\t\tconsole.warn(\"$fhcApi is DEPRECATED!\");\n\t\t\tfactory.addEndpoints(options.factory);\n\t\t}\n\n\t\tapp.config.globalProperties.$fhcApi.factory = factory;\n\t\t/* Deprecated Code end */\n\t\t\n\t\tapp.provide('$fhcApi', app.config.globalProperties.$fhcApi);\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n//--------------------------------------------------------------------------------------------------------------------\n// Configs\n\n// To see debug messages into the browser console set this parameter as true\nconst CORE_REST_CLIENT_DEBUG = false;\n\n// Default timeout (milliseconds)\nconst CORE_REST_CLIENT_TIMEOUT = 5000;\n\n//--------------------------------------------------------------------------------------------------------------------\n// Constants\n\n// Success\nconst CORE_REST_CLIENT_SUCCESS = 0;\n\n// Properties present in a response\nconst CORE_REST_CLIENT_ERROR = \"error\";\nconst CORE_REST_CLIENT_RETVAL = \"retval\";\n\n// HTTP method parameters\nconst CRC_HTTP_GET_METHOD = \"get\";\nconst CRC_HTTP_POST_METHOD = \"post\";\n\n/**\n * Definition and initialization of the object CoreRESTClient\n */\nexport const CoreRESTClient = {\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Public methods\n\n\t/**\n\t * Performs a call using the HTTP GET method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tget: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_GET_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Performs a call using the HTTP POST method\n\t * wsParameters is an object\n\t * axiosParameters is an object\n\t */\n\tpost: function(wsURL, wsParameters, axiosParameters = null) {\n\t\treturn CoreRESTClient._axiosCall(wsURL, wsParameters, CRC_HTTP_POST_METHOD, axiosParameters);\n\t},\n\n\t/**\n\t * Checks if the response is a success\n\t */\n\tisSuccess: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR)\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL) && response.error == CORE_REST_CLIENT_SUCCESS)\n\t\t{\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Checks if the response is an error\n\t */\n\tisError: function(response) {\n\t\treturn !CoreRESTClient.isSuccess(response);\n\t},\n\n\t/**\n\t * Checks if the response has data\n\t */\n\thasData: function(response) {\n\n\t\tif (CoreRESTClient.isSuccess(response))\n\t\t{\n\t\t\tif ((typeof response[CORE_REST_CLIENT_RETVAL] === \"object\" && Object.keys(response[CORE_REST_CLIENT_RETVAL]).length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"array\" && response[CORE_REST_CLIENT_RETVAL].length > 0)\n\t\t\t\t|| (typeof response[CORE_REST_CLIENT_RETVAL] === \"string\" && response[CORE_REST_CLIENT_RETVAL].trim() != \"\")\n\t\t\t\t|| typeof response[CORE_REST_CLIENT_RETVAL] === \"number\")\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Retrives data from response object\n\t */\n\tgetData: function(response) {\n\n\t\tif (CoreRESTClient.hasData(response))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * Retrives error message from response object\n\t */\n\tgetError: function(response) {\n\n\t\tif (typeof response === \"object\"\n\t\t\t&& Object.keys(response).length > 0\n\t\t\t&& response.hasOwnProperty(CORE_REST_CLIENT_RETVAL))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_RETVAL];\n\t\t}\n\n\t\treturn \"Generic error\";\n\t},\n\n\t/**\n\t * Retrives code from response object\n\t */\n\tgetErrorCode: function(response) {\n\n\t\tif (typeof response === \"object\" && response.hasOwnProperty(CORE_REST_CLIENT_ERROR))\n\t\t{\n\t\t\treturn response[CORE_REST_CLIENT_ERROR];\n\t\t}\n\n\t\treturn 1; // Generic error\n\t},\n\n\t//------------------------------------------------------------------------------------------------------------------\n\t// Private methods\n\n\t/**\n\t * Generate the router URI using the connection parameters\n\t */\n\t_generateRouterURI: function(wsURL) {\n\t\tvar uri = null;\n\n\t\t// Checks if global JS object FHC_JS_DATA_STORAGE_OBJECT exists\n\t\tif (typeof FHC_JS_DATA_STORAGE_OBJECT !== \"undefined\")\n\t\t{\n\t\t\turi = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router + \"/\" + wsURL;\n\t\t}\n\n\t\treturn uri;\n\t},\n\n\t/**\n\t * Method to print debug info after a controller has been called\n\t */\n\t_printDebug: function(parameters, response, errorThrown) {\n\n\t\tif (CORE_REST_CLIENT_DEBUG === true) // If global const CORE_REST_CLIENT_DEBUG is true, but really true!\n\t\t{\n\t\t\t// Print info about called controller\n\t\t\tconsole.log(\"Called controller: \" + parameters.remoteController);\n\t\t\tconsole.log(\"Call parameters:\"); // parameters given to this call\n\t\t\tconsole.log(parameters);\n\n\t\t\tif (response != null) // if there is a response...\n\t\t\t{\n\t\t\t\tconsole.log(\"Controller Response:\");\n\t\t\t\tconsole.log(response); // ...print it\n\t\t\t}\n\t\t\tif (errorThrown != null) // if there is a jQuery error...\n\t\t\t{\n\t\t\t\tconsole.log(\"jQuery error:\");\n\t\t\t\tconsole.log(errorThrown); // ...print it\n\t\t\t}\n\t\t\tconsole.log(\"--------------------------------------------------------------------------------------------\");\n\t\t}\n\t},\n\n\t/**\n\t * Performs a call to the server were the CI PHP layer is running\n\t * - wsURL: alias of the core controller to call\n\t * - wsParameters: parameters to give to the called controller\n\t * - type: POST or GET HTTP method\n\t * - axiosParameters: an object to configure the axios call\n\t */\n\t_axiosCall: function(wsURL, wsParameters, type, axiosParameters) {\n\n\t\t// Axios config object\n\t\tlet axiosCallObj = {\n\t\t\tmethod: type,\n\t\t\turl: CoreRESTClient._generateRouterURI(wsURL),\n\t\t\ttimeout: CORE_REST_CLIENT_TIMEOUT // default time out\n\t\t};\n\n\t\t// The ajax call is HTTP GET\n\t\tif (type == CRC_HTTP_GET_METHOD)\n\t\t{\n\t\t\taxiosCallObj.params = wsParameters;\n\t\t}\n\t\t// The ajax call is HTTP POST\n\t\telse\n\t\t{\n\t\t\taxiosCallObj.data = wsParameters;\n\t\t}\n\n\t\t// Check if axiosParameters is an object\n\t\tif (typeof axiosParameters === \"object\")\n\t\t{\n\t\t\t// And then copies the its properties into axiosCallObj\n\t\t\tfor (var prop in axiosParameters) axiosCallObj[prop] = axiosParameters[prop];\n\t\t}\n\n\t\t// Perform the ajax call via axios\n\t\treturn axios(axiosCallObj);\n\t}\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n * \n * @usage:\n * Preperations:\n * Be sure to have PrimeVue loaded  with the toast and confirmdialog\n * components as primevue variable\n * Install:\n * Import this Plugin and install it with the app.use() function.\n * Use:\n * In your component you can call now the global property $fhcAlert\n * which has the following functions:\n * \n * alertSuccess\n * ------------\n * Displays a success message\n * @param string\tmessage\n * @return void\n * \n * alertInfo\n * ---------\n * Displays an info message\n * @param string\tmessage\n * @return void\n * \n * alertWarning\n * ------------\n * Displays a warning\n * @param string\tmessage\n * @return void\n * \n * alertError\n * ----------\n * Displays an error\n * @param string\tmessage\n * @return void\n * \n * alertSystemError\n * ----------------\n * Displays an alert with the error details and a button to mail\n * the error to the Support Team\n * @param string\tmessage\n * @return void\n * \n * confirmDelete\n * -------------\n * Displays a confirmation dialog and returns a Promise which resolves\n * with true or false depending und the pressed button.\n * @return Promise\n * \n * alertDefault\n * ------------\n * Displays an alert\n * @param string\tseverity\t\tcan be 'success', 'info', 'warning', 'error'\n * @param string\ttitle\n * @param string\tmessage\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * alertMultiple\n * -------------\n * Displays multiple alerts\n * @param array\t\tmessageArray\n * @param string\tseverity\t\t(optional) defaults to 'info'\n * @param string\ttitle\t\t\t(optional) defaults to 'Info'\n * @param boolean\tsticky\t\t\t(optional) defaults to false\n * @return void\n * \n * handleSystemError\n * -----------------\n * Automatiticly determine how to display an system error and display it.\n * This would be used in a catch block of an ajax call.\n * @param mixed\t\terror\n * @return void\n * \n * handleSystemMessage\n * -------------------\n * Automatiticly determine how to display a message and display it.\n * @param mixed\t\tmessage\n * @return void\n */\nimport PvConfig from \"../../../index.ci.php/public/js/components/primevue/config/config.esm.min.js\";\nimport PvToast from \"../../../index.ci.php/public/js/components/primevue/toast/toast.esm.min.js\";\nimport PvConfirm from \"../../../index.ci.php/public/js/components/primevue/confirmdialog/confirmdialog.esm.min.js\";\nimport PvConfirmationService from \"../../../index.ci.php/public/js/components/primevue/confirmationservice/confirmationservice.esm.min.js\";\nimport FhcPhrasen from \"./Phrasen.js\";\n\nimport {CoreRESTClient} from '../RESTClient.js';\n\nconst helperAppContainer = document.createElement('div');\n\nconst helperApp = Vue.createApp({\n\tname: \"FhcAlertApp\",\n\tcomponents: {\n\t\tPvToast,\n\t\tPvConfirm\n\t},\n\tmethods: {\n\t\tmailToUrl(slotProps) {\n\t\t\tlet mailTo = FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto;\n\t\t\tlet subject = 'Meldung%20Systemfehler';\n\t\t\tlet body = `\n\t\t\t\tDanke, dass Sie uns den Fehler melden. %0D%0A %0D%0A\n\t\t\t\tBitte beschreiben Sie uns ausfhrlich das Problem.%0D%0A\n\t\t\t\tBsp: Ich habe X ausgewhlt und Y angelegt. Beim Speichern erhielt ich die Fehlermeldung. [Optional: Ich habe den Browser Z verwendet.]%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tPROBLEM: ... %0D%0A %0D%0A %0D%0A\n\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A\n\t\t\t\tFehler URL: ` + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method + `%0D%0A\n\t\t\t\tFehler Meldung: ` + slotProps.message.detail + `%0D%0A\n\t\t\t\t-----------------------------------------------------------------------------------------------------------------------------------%0D%0A %0D%0A\n\t\t\t\tWir kmmern uns um eine rasche Behebung des Problems!`\n\n\t\t\treturn \"mailto:\" + mailTo + \"?subject=\" + subject + \"&body=\" + body;\n\t\t},\n\t\topenMessagecard(e) {\n\t\t\tbootstrap.Collapse.getOrCreateInstance(e.target.getAttribute('href')).toggle();\n\t\t}\n\t},\n\tunmounted() {\n\t\thelperAppContainer.parentElement.removeChild(helperAppContainer);\n\t},\n\tcomputed: {\n\t\tshowmaillink: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.systemerror_mailto !== '';\n\t\t}\n\t},\n\ttemplate: /* html */`\n\t<pv-toast ref=\"toast\" class=\"fhc-alert\" :base-z-index=\"99999\">\n\t\t<template #message=\"{ message }\">\n\t\t\t<!--span :class=\"slotProps.iconClass\"></span-->\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{ message.summary }}</span>\n\t\t\t\t<div v-if=\"message.detail && message.html\" class=\"p-toast-detail\" v-html=\"message.detail\"></div>\n\t\t\t\t<div v-else-if=\"message.detail\" class=\"p-toast-detail\">{{ message.detail }}</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-toast ref=\"alert\" class=\"fhc-alert\" :base-z-index=\"99999\" position=\"center\">\n\t\t<template #message=\"slotProps\">\n\t\t\t<i class=\"fa fa-circle-exclamation fa-2xl mt-3\"></i>\n\t\t\t<div class=\"p-toast-message-text\">\n\t\t\t\t<span class=\"p-toast-summary\">{{slotProps.message.summary}}</span>\n\t\t\t\t<div class=\"p-toast-detail my-3\">Sorry! Ein interner technischer Fehler ist aufgetreten.</div>\n\t\t\t\t<div class=\"d-flex justify-content-between align-items-center\">\n\t\t\t\t\t<a\n\t\t\t\t\t\tclass=\"align-bottom flex-fill me-2\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\t:href=\"'#fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t\t:aria-controls=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\"\n\t\t\t\t\t\t@click=\"openMessagecard\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler anzeigen\n\t\t\t\t\t</a>\n\t\t\t\t\t<a\n\t\t\t\t\t\tv-if=\"showmaillink\"\n\t\t\t\t\t\tclass=\"btn btn-primary flex-fill\"\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t:href=\"mailToUrl(slotProps)\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\tFehler melden\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t\t<div ref=\"messageCard\" :id=\"'fhcAlertCollapseMessageCard' + slotProps.message.id\" class=\"collapse mt-3\">\n\t\t\t\t\t<div class=\"card card-body text-body small alertCollapseText\">\n\t\t\t\t\t\t{{slotProps.message.detail}}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</template>\n\t</pv-toast>\n\t<pv-confirm group=\"fhcAlertConfirm\"></pv-confirm>`\n});\n\nhelperApp.use(PvConfig);\nhelperApp.use(PvConfirmationService);\n//helperApp.use(FhcPhrasen);\n\nconst helperAppInstance = helperApp.mount(helperAppContainer);\n\ndocument.body.appendChild(helperAppContainer);\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (!app.config.globalProperties.$p)\n\t\t\tapp.use(FhcPhrasen);\n\n\t\tconst $fhcAlert = {\n\t\t\talertSuccess(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSuccess);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'success', summary: 'Info', detail: message, life: 1000});\n\t\t\t},\n\t\t\talertInfo(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertInfo);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'info', summary: 'Info', detail: message, life: 3000 });\n\t\t\t},\n\t\t\talertWarning(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertWarning);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'warn', summary: 'Achtung', detail: message});\n\t\t\t},\n\t\t\talertError(message) {\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertError);\n\t\t\t\thelperAppInstance.$refs.toast.add({ severity: 'error', summary: 'Achtung', detail: message });\n\t\t\t},\n\t\t\talertSystemError(message) {\n\t\t\t\t//TODO(Manu) for translation of content of template: restructure in data\n\t\t\t\t//and update definitions with  translations\n\n\t\t\t\tif (Array.isArray(message))\n\t\t\t\t\treturn message.forEach(this.alertSystemError);\n\t\t\t\thelperAppInstance.$refs.alert.add({\n\t\t\t\t\tseverity: 'error',\n\t\t\t\t\tsummary: Vue.computed(() => app.config.globalProperties.$p.t('alert/systemerror')),\n\t\t\t\t\tdetail: message});\n\t\t\t},\n\t\t\tconfirmDelete() {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: 'fhcAlertConfirm',\n\t\t\t\t\t\theader: Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: Vue.computed(() => app.config.globalProperties.$p.t('alert/confirm_delete')),\n\t\t\t\t\t\tacceptLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/loeschen')),\n\t\t\t\t\t\tacceptClass: 'p-button-danger',\n\t\t\t\t\t\trejectLabel: Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: 'p-button-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\tconfirm(options) {\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\thelperAppInstance.$confirm.require({\n\t\t\t\t\t\tgroup: options?.group ?? 'fhcAlertConfirm',\n\t\t\t\t\t\theader: options?.header ?? Vue.computed(() => app.config.globalProperties.$p.t('alert/attention')),\n\t\t\t\t\t\tmessage: options?.message ?? '',\n\t\t\t\t\t\tacceptLabel: options?.acceptLabel ?? 'Ok',\n\t\t\t\t\t\tacceptClass: options?.acceptClass ?? 'btn btn-primary',\n\t\t\t\t\t\trejectLabel: options?.rejectLabel ?? Vue.computed(() => app.config.globalProperties.$p.t('ui/abbrechen')),\n\t\t\t\t\t\trejectClass: options?.rejectClass ?? 'btn btn-outline-secondary',\n\t\t\t\t\t\taccept() {\n\t\t\t\t\t\t\tresolve(true);\n\t\t\t\t\t\t},\n\t\t\t\t\t\treject() {\n\t\t\t\t\t\t\tresolve(false);\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t},\n\t\t\talertDefault(severity, title, message, sticky = false, html = false) {\n\t\t\t\tlet options = { severity: severity, summary: title, detail: message, html };\n\t\t\t\t\n\t\t\t\tif (!sticky)\n\t\t\t\t\toptions.life = 3000;\n\n\t\t\t\thelperAppInstance.$refs.toast.add(options);\n\t\t\t},\n\t\t\talertMultiple(messageArray, severity = 'info', title = 'Info', sticky = false, html = false){\n\t\t\t\t// Check, if array has only string values\n\t\t\t\tif (messageArray.every(message => typeof message === 'string')) {\n\t\t\t\t\tmessageArray.forEach(message => this.alertDefault(severity, title, message, sticky, html));\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\thandleSystemError(error) {\n\t\t\t\t// don't show an error message to the user if the error was an aborted request\n\t\t\t\tif(error.hasOwnProperty('name') && error.name.toLowerCase() === \"AbortError\".toLowerCase())\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is string\n\t\t\t\tif (typeof error === 'string')\n\t\t\t\t\treturn $fhcAlert.alertSystemError(error);\n\n\t\t\t\t// Error is array of strings\n\t\t\t\tif (Array.isArray(error) && error.every(err => typeof err === 'string'))\n\t\t\t\t\treturn error.every($fhcAlert.alertSystemError);\n\n\t\t\t\t// Error has been handled already\n\t\t\t\tif (error.hasOwnProperty('handled') && error.handled)\n\t\t\t\t\treturn;\n\t\t\t\t\n\t\t\t\t// Error is object\n\t\t\t\tif (typeof error === 'object' && error !== null) {\n\t\t\t\t\tlet errMsg = '';\n\n\n\t\t\t\t\tif (error.hasOwnProperty('response') && error.response?.data?.retval)\n\t\t\t\t\t\terrMsg += 'Error Message: ' + (error.response.data.retval.message || error.response.data.retval) + '\\r\\n';\n\t\t\t\t\telse if (error.hasOwnProperty('message'))\n\t\t\t\t\t\terrMsg += 'Error Message: ' + error.message.toUpperCase() + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('config') && error.config.hasOwnProperty('url'))\n\t\t\t\t\t\terrMsg += 'Error ConfigURL: ' + error.config.url + '\\r\\n';\n\n\t\t\t\t\tif (error.hasOwnProperty('stack'))\n\t\t\t\t\t\terrMsg += 'Error Stack: ' + error.stack + '\\r\\n';\n\t\t\t\t\t\n\t\t\t\t\t// Fallback object error message\n\t\t\t\t\tif (errMsg == '')\n\t\t\t\t\t\terrMsg = 'Error Message: ' + JSON.stringify(error) + '\\r\\n';\n\n\t\t\t\t\terrMsg += 'Error Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\n\t\t\t\t\treturn $fhcAlert.alertSystemError(errMsg);\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' + FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\thandleSystemMessage(message) {\n\t\t\t\t// Message is string\n\t\t\t\tif (typeof message === 'string')\n\t\t\t\t\treturn $fhcAlert.alertWarning(message);\n\n\t\t\t\t// Message is array of strings\n\t\t\t\tif (Array.isArray(message)) {\n\t\t\t\t\t// If Array has only Strings\n\t\t\t\t\tif (message.every(msg => typeof msg === 'string'))\n\t\t\t\t\t\treturn message.every($fhcAlert.alertWarning);\n\n\t\t\t\t\t// If Array has only Objects\n\t\t\t\t\tif (message.every(msg => typeof msg === 'object') && msg !== null) {\n\t\t\t\t\t\treturn message.every(msg => {\n\t\t\t\t\t\t\tif (msg.hasOwnProperty('data') && msg.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(msg.data.retval));\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(msg));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Message is Object with data property\n\t\t\t\tif (typeof message === 'object' && message !== null){\n\t\t\t\t\tif (message.hasOwnProperty('data') && message.data.hasOwnProperty('retval')) {\n\t\t\t\t\t\t// NOTE(chris): changed: alertSystemError => alertWarning\n\t\t\t\t\t\t$fhcAlert.alertWarning(JSON.stringify(message.data.retval));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t$fhcAlert.alertSystemError(JSON.stringify(message));\n\t\t\t\t\t}\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// Fallback\n\t\t\t\t$fhcAlert.alertSystemError('alertSystemError throws Generic Error\\r\\nError Controller Path: ' + FHC_JS_DATA_STORAGE_OBJECT.called_path + '/' +  FHC_JS_DATA_STORAGE_OBJECT.called_method);\n\t\t\t},\n\t\t\tresetFormValidation(form) {\n\t\t\t\tconst event = new Event('fhc-form-reset');\n\t\t\t\tform.querySelectorAll(['[data-fhc-form-validate],[data-fhc-form-error]']).forEach(el => el.dispatchEvent(event));\n\t\t\t\t/*const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\tif (alert) {\n\t\t\t\t\talert.innerHTML = '';\n\t\t\t\t\talert.classList.add('d-none');\n\t\t\t\t}\n\t\t\t\tform.querySelectorAll('.invalid-feedback').forEach(n => n.remove());\n\t\t\t\tform.querySelectorAll('.is-invalid').forEach(n => n.classList.remove('is-invalid'));\n\t\t\t\tform.querySelectorAll('.is-valid').forEach(n => n.classList.remove('is-valid'));*/\n\t\t\t},\n\t\t\thandleFormValidation(error, form) {\n\t\t\t\tif (form === undefined) {\n\t\t\t\t\tif (error && error.nodeType === Node.ELEMENT_NODE)\n\t\t\t\t\t\treturn err => $fhcAlert.handleFormValidation(err, error);\n\t\t\t\t} else {\n\t\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t\tif (typeof errors !== \"object\")\n\t\t\t\t\t\t\terrors = error.response.data;\n\n\t\t\t\t\t\t// NOTE(chris): reset form validation\n\t\t\t\t\t\t$fhcAlert.resetFormValidation(form);\n\t\t\t\t\t\t\n\t\t\t\t\t\t// NOTE(chris): set form input validation\n\t\t\t\t\t\tconst notFound = Object.entries(errors).filter(([key, detail]) => {\n\t\t\t\t\t\t\tconst input = form.querySelector('[data-fhc-form-validate=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\n\t\t\t\t\t\t\tinput.dispatchEvent(new CustomEvent('fhc-form-invalidate', {detail}));\n\n\t\t\t\t\t\t\t/*const input = form.querySelector('[name=\"' + key + '\"]');\n\t\t\t\t\t\t\tif (!input)\n\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\tinput.classList.add('is-invalid');\n\t\t\t\t\t\t\tconst feedback = document.createElement('div');\n\t\t\t\t\t\t\tfeedback.classList.add('invalid-feedback');\n\t\t\t\t\t\t\tfeedback.innerHTML = detail;\n\t\t\t\t\t\t\tinput.after(feedback);*/\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}).map(arr => arr[1]);\n\n\n\t\t\t\t\t\t//const alert = form.querySelector('div.alert.alert-danger[role=\"alert\"]');\n\t\t\t\t\t\tconst alert = form.querySelector('[data-fhc-form-error]');\n\t\t\t\t\t\tif (alert && notFound.length) {\n\t\t\t\t\t\t\talert.dispatchEvent(new CustomEvent('fhc-form-error', {detail: notFound}));\n\t\t\t\t\t\t\t/*notFound.forEach(txt => {\n\t\t\t\t\t\t\t\tconst p = document.createElement('p');\n\t\t\t\t\t\t\t\tp.innerHTML = txt;\n\t\t\t\t\t\t\t\talert.append(p);\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\tif (notFound.length) {\n\t\t\t\t\t\t\t\talert.lastChild.classList.add('mb-0');\n\t\t\t\t\t\t\t\talert.classList.remove('d-none');\n\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnotFound.forEach($fhcAlert.alertError);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (error?.response?.status == 400) {\n\t\t\t\t\tlet errors = CoreRESTClient.getError(error.response.data);\n\t\t\t\t\t$fhcAlert.alertError((typeof errors === 'object') ? Object.values(errors) : errors);\n\t\t\t\t} else {\n\t\t\t\t\t$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\tapp.config.globalProperties.$fhcAlert = $fhcAlert;\n\t\tapp.provide('$fhcAlert', app.config.globalProperties.$fhcAlert);\n\t}\n}","import FhcAlert from './FhcAlert.js';\n\n\nexport default {\n\tinstall: (app, options) => {\n\t\tif (app.config.globalProperties.$api) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!app.config.globalProperties.$fhcAlert)\n\t\t\tapp.use(FhcAlert);\n\n\t\tfunction _send_array_or_object(errors, func) {\n\t\t\tif (Array.isArray(errors))\n\t\t\t\terrors.forEach(func);\n\t\t\telse\n\t\t\t\tObject.entries(errors).forEach(\n\t\t\t\t\t([title, errs]) => errs.forEach(\n\t\t\t\t\t\terror => func(error, title)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t}\n\t\tlet DEFAULT_ERROR_CONFIG = {\n\t\t\tsuccess: true,\n\t\t\tfail: true,\n\t\t\tcombine: {\n\t\t\t\tform: ['validation', 'general'],\n\t\t\t\ttoast: ['validation', 'general', 'not_found', 'site_failed']\n\t\t\t},\n\t\t\thandler: {\n\t\t\t\tform(form, errors) {\n\t\t\t\t\tform.clearValidation();\n\t\t\t\t\terrors.forEach(err => form.setFeedback(\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\terr.messages || err.message\n\t\t\t\t\t));\n\t\t\t\t},\n\t\t\t\tasync toast(errors) {\n\t\t\t\t\tconst $p = app.config.globalProperties.$p;\n\t\t\t\t\tif (!$p)\n\t\t\t\t\t\treturn Promise.reject('Phrasen plugin not loaded!');\n\t\t\t\t\n\t\t\t\t\tasync function _format_toast(errors) {\n\t\t\t\t\t\terrors = errors.reduce((result, err) => {\n\t\t\t\t\t\t\tswitch (err.type) {\n\t\t\t\t\t\t\tcase 'not_found':\n\t\t\t\t\t\t\tcase 'site_failed':\n\t\t\t\t\t\t\t\tif (err.message)\n\t\t\t\t\t\t\t\t\tresult[err.message] = [err.url];\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tresult._default = [err.url];\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'general':\n\t\t\t\t\t\t\t\tif (!result._default)\n\t\t\t\t\t\t\t\t\tresult._default = [];\n\t\t\t\t\t\t\t\tresult._default.push(err.message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'validation':\n\t\t\t\t\t\t\t\tObject.entries(err.messages)\n\t\t\t\t\t\t\t\t\t.forEach(([field, msg]) => {\n\t\t\t\t\t\t\t\t\t\tif (!result[field])\n\t\t\t\t\t\t\t\t\t\t\tresult[field] = [];\n\t\t\t\t\t\t\t\t\t\tif (Array.isArray(msg))\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(...msg);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\t\tresult[field].push(msg);\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}, {});\n\t\t\t\t\t\tlet counter = 0;\n\t\t\t\t\t\tconst msgs = await Promise.all(Object.entries(errors)\n\t\t\t\t\t\t\t.sort((a, b) => ['_default'].indexOf(b[0]) - ['_default'].indexOf(a[0])) // sort _default first\n\t\t\t\t\t\t\t.map(async ([field, msgs]) => {\n\t\t\t\t\t\t\t\tif (field == '_default') {\n\t\t\t\t\t\t\t\t\tawait $p.loadCategory('dashboard');\n\t\t\t\t\t\t\t\t\tconst general = $p.t('dashboard/general');\n\t\t\t\t\t\t\t\t\tfield = '<dt class=\"d-none\">' + general + '</dt>';\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tfield = '<dt>' + field + '</dt>';\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcounter += msgs.length;\n\t\t\t\t\t\t\t\treturn field\n\t\t\t\t\t\t\t\t\t+ '<dd>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('</dd><dd>')\n\t\t\t\t\t\t\t\t\t+ '</dd>';\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcounter,\n\t\t\t\t\t\t\tmsgs\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tlet counter, msgs;\n\t\t\t\t\tif (Array.isArray(errors)) {\n\t\t\t\t\t\t({ counter, msgs } = await _format_toast(errors));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t({ counter, msgs } = await Object.entries(errors)\n\t\t\t\t\t\t\t.reduce(async (res, [title, errs]) => {\n\t\t\t\t\t\t\t\tconst result = await res;\n\t\t\t\t\t\t\t\tconst { counter, msgs } = await _format_toast(errs);\n\t\t\t\t\t\t\t\tresult.counter += counter;\n\t\t\t\t\t\t\t\tresult.msgs.push('<dt>'\n\t\t\t\t\t\t\t\t\t+ title\n\t\t\t\t\t\t\t\t\t+ '</dt><dd><dl>'\n\t\t\t\t\t\t\t\t\t+ msgs.join('')\n\t\t\t\t\t\t\t\t\t+ '</dl></dd>');\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}, Promise.resolve({ counter: 0, msgs: []})));\n\t\t\t\t\t}\n\n\t\t\t\t\tawait $p.loadCategory('ui');\n\t\t\t\t\tconst n_errors = $p.t('ui/n_errors', { n: counter });\n\n\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t'error',\n\t\t\t\t\t\tn_errors,\n\t\t\t\t\t\t'<dl>' + msgs.join('') + '</dl>',\n\t\t\t\t\t\ttrue,\n\t\t\t\t\t\ttrue\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t\tphp(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tswitch (error.severity) {\n\t\t\t\t\t\t\tcase 'Warning':\n\t\t\t\t\t\t\tcase 'Core Warning':\n\t\t\t\t\t\t\tcase 'Compile Warning':\n\t\t\t\t\t\t\tcase 'User Warning':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('warn', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'Notice':\n\t\t\t\t\t\t\tcase 'User Notice':\n\t\t\t\t\t\t\tcase 'Runtime Notice':\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\ttitle += ': PHP ' + error.severity;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttitle = 'PHP ' + error.severity;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault('info', title, message, true);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tmessage = 'Type: PHP ' + error.severity + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\t\t\tmessage = title + '\\n\\n' + message;\n\t\t\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\texception(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Type: ' + error.class + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\t\t\t\t\t\tif (error.backtrace && error.backtrace.length) {\n\t\t\t\t\t\t\tmessage += '\\nBacktrace: ';\n\t\t\t\t\t\t\terror.backtrace.forEach(err => {\n\t\t\t\t\t\t\t\tmessage += '\\n\\tFile: ' + err.file + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tLine: ' + err.line + '\\n';\n\t\t\t\t\t\t\t\tmessage += '\\tFunction: ' + err.function + '\\n';\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tdb(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\tmessage += title + '\\n\\n';\n\t\t\t\t\t\tif (error.heading !== undefined)\n\t\t\t\t\t\t\tmessage += error.heading + '\\n\\n';\n\t\t\t\t\t\tif (error.code !== undefined)\n\t\t\t\t\t\t\tmessage += 'Code: ' + error.code + '\\n\\n';\n\t\t\t\t\t\tif (error.sql !== undefined)\n\t\t\t\t\t\t\tmessage += 'SQL: ' + error.sql + '\\n\\n';\n\t\t\t\t\t\tif (error.message !== undefined)\n\t\t\t\t\t\t\tmessage += 'Message: ' + error.message + '\\n\\n';\n\t\t\t\t\t\telse if (error.messages !== undefined)\n\t\t\t\t\t\t\tmessage += 'Messages: ' + error.messages.join('\\n\\t') + '\\n\\n';\n\t\t\t\t\t\tif (error.filename !== undefined)\n\t\t\t\t\t\t\tmessage += 'Filename: ' + error.filename + '\\n';\n\t\t\t\t\t\tif (error.line !== undefined)\n\t\t\t\t\t\t\tmessage += 'Line Number: ' + error.line + '\\n';\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertSystemError(message);\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t\tauth(errors) {\n\t\t\t\t\t_send_array_or_object(errors, (error, title) => {\n\t\t\t\t\t\tif (title)\n\t\t\t\t\t\t\ttitle += ': ' + error.message;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\ttitle = error.message;\n\n\t\t\t\t\t\tvar message = '';\n\t\t\t\t\t\tmessage += 'Controller name: ' + error.controller + '\\n';\n\t\t\t\t\t\tmessage += 'Method name: ' + error.method + '\\n';\n\t\t\t\t\t\tmessage += 'Required permissions: ' + error.required_permissions;\n\n\t\t\t\t\t\tapp.config.globalProperties.$fhcAlert.alertDefault(\n\t\t\t\t\t\t\t'error',\n\t\t\t\t\t\t\ttitle,\n\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (options?.errorHandling !== undefined)\n\t\t\tDEFAULT_ERROR_CONFIG = _merge_error_config(options.errorHandling);\n\t\t\n\t\tfunction get_config(form, uri, data, config) {\n\t\t\tif (typeof form == 'string' && config === undefined) {\n\t\t\t\t[uri, data, config] = [form, uri, data];\n\t\t\t\tform = undefined;\n\t\t\t} else if (form) {\n\t\t\t\tif (typeof form != 'object')\n\t\t\t\t\tthrow new TypeError('Parameter 1 of _get_config must be an object or a string');\n\t\t\t\tif (uri === undefined && data === undefined && config === undefined) {\n\t\t\t\t\tconfig = form;\n\t\t\t\t\tform = undefined;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (form) {\n\t\t\t\t// NOTE(chris): check if form is fhc-form\n\t\t\t\tif (!form.clearValidation || !form.setFeedback)\n\t\t\t\t\tthrow new TypeError(\"'form' is not a Form Component\");\n\n\t\t\t\tform = {\n\t\t\t\t\tclearValidation: form.clearValidation,\n\t\t\t\t\tsetFeedback: form.setFeedback\n\t\t\t\t};\n\n\t\t\t\tif (config)\n\t\t\t\t\tconfig.form = form;\n\t\t\t\telse\n\t\t\t\t\tconfig = {form};\n\t\t\t}\n\n\t\t\treturn [uri, data, config];\n\t\t}\n\t\tfunction clean_return_value(response) {\n\t\t\tif (typeof response.data === 'string' || response.data instanceof String)\n\t\t\t\treturn clean_return_value({ data: response });\n\n\t\t\tconst result = response.data;\n\t\t\tdelete response.data;\n\t\t\tif (!result)\n\t\t\t\treturn {meta: {response}, data: null};\n\t\t\tif (!result.meta)\n\t\t\t\tresult.meta = { response };\n\t\t\telse\n\t\t\t\tresult.meta.response = response;\n\t\t\treturn result;\n\t\t}\n\t\tfunction _merge_error_config(config) {\n\t\t\tif (config === false || config === 'off')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false, fail: false };\n\t\t\t\n\t\t\tif (!config || config === true)\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tif (config === 'success')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, fail: false };\n\t\t\t\n\t\t\tif (config === 'fail')\n\t\t\t\treturn { ...DEFAULT_ERROR_CONFIG, success: false };\n\t\t\t\n\t\t\tconst { success, fail, handler, combine } = config;\n\t\t\t\n\t\t\tconfig = { ...DEFAULT_ERROR_CONFIG };\n\n\t\t\tObject.entries({ fail, success }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = value;\n\t\t\t});\n\t\t\tObject.entries({ handler, combine }).forEach(([key, value]) => {\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tconfig[key] = { ...config[key], ...value };\n\t\t\t});\n\n\t\t\treturn config;\n\t\t}\n\t\tfunction get_error_handler(config) {\n\t\t\tconst result = _merge_error_config(config?.errorHandling);\n\n\t\t\tif (!config?.form) {\n\t\t\t\tresult.combine = { ...result.combine, form: [] };\n\t\t\t} else {\n\t\t\t\tconst formHandler = result.handler.form;\n\t\t\t\tresult.handler = { ...result.handler, form: errors => formHandler(config.form, errors) };\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\t\tfunction get_error_list(error) {\n\t\t\tif (error.response) {\n\t\t\t\tif (error.response.status == 404) {\n\t\t\t\t\treturn [{\n\t\t\t\t\t\ttype: 'not_found',\n\t\t\t\t\t\tmessage: error.message,\n\t\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t\t}];\n\t\t\t\t} else {\n\t\t\t\t\tif (error.response.data.errors == undefined) return [];\n\t\t\t\t\treturn error.response.data.errors;\n\t\t\t\t}\n\t\t\t} else if (error.request) {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'site_failed',\n\t\t\t\t\tmessage: error.message,\n\t\t\t\t\turl: error.request.responseURL\n\t\t\t\t}];\n\t\t\t} else {\n\t\t\t\treturn [{\n\t\t\t\t\ttype: 'script',\n\t\t\t\t\tmessage: error.message\n\t\t\t\t}];\n\t\t\t}\n\t\t}\n\t\tfunction popHandleableErrors(errorHandling, errors) {\n\t\t\tconst result = {};\n\t\t\tconst copy = [];\n\n\t\t\tif (errors == undefined) return {};\n\n\t\t\twhile (errors.length)\n\t\t\t\tcopy.push(errors.pop());\n\t\t\tfor (var error of copy) {\n\t\t\t\tlet type = error.type;\n\t\t\t\tlet newType = null;\n\t\t\t\tfor (var t in errorHandling.combine) {\n\t\t\t\t\tlet newTypeCombinesType = errorHandling\n\t\t\t\t\t\t.combine[t]\n\t\t\t\t\t\t.includes(type);\n\t\t\t\t\tlet newTypeHasHandler = errorHandling.handler[t];\n\t\t\t\t\tif (newTypeCombinesType && newTypeHasHandler) {\n\t\t\t\t\t\tnewType = t;\n\t\t\t\t\t\tif (newType == 'form')\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (newType)\n\t\t\t\t\ttype = newType;\n\t\t\t\tconst handler = errorHandling.handler[type];\n\t\t\t\tif (handler) {\n\t\t\t\t\tif (!result[type])\n\t\t\t\t\t\tresult[type] = [];\n\t\t\t\t\tif (Array.isArray(error))\n\t\t\t\t\t\tresult[type].push(...error);\n\t\t\t\t\telse\n\t\t\t\t\t\tresult[type].push(error);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\terrors.push(error);\n\t\t\t}\n\t\t\treturn result;\n\t\t}\n\n\t\tconst fhcApiAxios = axios.create({\n\t\t\ttimeout: 500000,\n\t\t\tbaseURL: FHC_JS_DATA_STORAGE_OBJECT.app_root\n\t\t\t\t+ FHC_JS_DATA_STORAGE_OBJECT.ci_router\n\t\t\t\t+ \"/\"\n\t\t});\n\n\t\tfhcApiAxios.interceptors.request.use(config => {\n\t\t\tif (config.method != 'post' || !config.data)\n\t\t\t\treturn config;\n\n\t\t\tif (config.data instanceof FormData)\n\t\t\t\treturn config;\n\n\t\t\tif (!Object.values(config.data).every(item => {\n\t\t\t\tif (item instanceof FileList)\n\t\t\t\t\treturn false;\n\t\t\t\tif (Array.isArray(item))\n\t\t\t\t\treturn item.every(i => !(i instanceof File));\n\t\t\t\treturn true;\n\t\t\t})) {\n\t\t\t\tconst newData = Object.entries(config.data).reduce((nd, [key, item]) => {\n\t\t\t\t\tif (item instanceof FileList) {\n\t\t\t\t\t\tfor (const file of item)\n\t\t\t\t\t\t\tnd.FormData.append(key + (item.length > 1 ? '[]' : ''), file);\n\t\t\t\t\t} else if (Array.isArray(item)) {\n\t\t\t\t\t\tif (item.every(i => !(i instanceof File))) {\n\t\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\titem.forEach(file => nd.FormData.append(key + (item.length > 1 ? '[]' : ''), file));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnd.jsondata[key] = item;\n\t\t\t\t\t}\n\t\t\t\t\treturn nd;\n\t\t\t\t}, {\n\t\t\t\t\tFormData: new FormData(),\n\t\t\t\t\tjsondata: {}\n\t\t\t\t});\n\t\t\t\tnewData.FormData.append('_jsondata', JSON.stringify(newData.jsondata));\n\t\t\t\tconfig.data = newData.FormData;\n\t\t\t}\n\n\t\t\treturn config;\n\t\t});\n\n\t\tfhcApiAxios.interceptors.response.use(\n\t\t\tresponse => {\n\t\t\t\tif (response.config?.errorHandling == 'off'\n\t\t\t\t\t|| response.config?.errorHandling === false\n\t\t\t\t\t|| response.config?.errorHandling == 'fail')\n\t\t\t\t\treturn clean_return_value(response);\n\n\t\t\t\t// NOTE(chris): loop through errors\n\t\t\t\tif (response.data.errors)\n\t\t\t\t\tresponse.data.errors = response.data.errors.filter(\n\t\t\t\t\t\terr => (response.config[err.type + 'ErrorHandler'] || app.config.globalProperties.$api._defaultErrorHandlers[err.type])(err, response.config)\n\t\t\t\t\t);\n\n\t\t\t\treturn clean_return_value(response);\n\t\t\t},\n\t\t\terror => {\n\t\t\t\tif (error.code == 'ERR_CANCELED')\n\t\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\n\t\t\t\tconst errorConfig = get_error_handler(error.config);\n\n\t\t\t\tif (!errorConfig.fail)\n\t\t\t\t\treturn Promise.reject(error);\n\n\t\t\t\tconst remaining = get_error_list(error);\n\n\t\t\t\tconst errors = popHandleableErrors(errorConfig, remaining);\n\n\t\t\t\tfor (var type in errors) {\n\t\t\t\t\terrorConfig.handler[type](errors[type]);\n\t\t\t\t}\n\n\t\t\t\tif (remaining.length)\n\t\t\t\t\treturn Promise.reject(error);\n\t\t\t\t\n\t\t\t\treturn Promise.reject({ handled: true, ...error });\n\t\t\t}\n\t\t);\n\n\t\tapp.config.globalProperties.$api = {\n\t\t\tgetUri(url) {\n\t\t\t\treturn fhcApiAxios.getUri({url});\n\t\t\t},\n\t\t\tget(form, uri, params, config) {\n\t\t\t\t[uri, params, config] = get_config(form, uri, params, config);\n\t\t\t\tif (params) {\n\t\t\t\t\tif (config)\n\t\t\t\t\t\tconfig.params = params;\n\t\t\t\t\telse\n\t\t\t\t\t\tconfig = {params};\n\t\t\t\t}\n\t\t\t\treturn fhcApiAxios.get(uri, config);\n\t\t\t},\n\t\t\tpost(form, uri, data, config) {\n\t\t\t\t[uri, data, config] = get_config(form, uri, data, config);\n\t\t\t\treturn fhcApiAxios.post(uri, data, config);\n\t\t\t},\n\t\t\tcall(factory, configoverwrite, form) {\n\t\t\t\tif (Array.isArray(factory)) {\n\t\t\t\t\tconst $api = app.config.globalProperties.$api;\n\n\t\t\t\t\treturn Promise\n\t\t\t\t\t\t.allSettled(factory.map((config, index) => {\n\t\t\t\t\t\t\tif (!Array.isArray(config))\n\t\t\t\t\t\t\t\tconfig = ['#' + index, config];\n\t\t\t\t\t\t\treturn $api.call(config[1], {\n\t\t\t\t\t\t\t\terrorHeader: config[0],\n\t\t\t\t\t\t\t\terrorHandling: false\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}))\n\t\t\t\t\t\t.then(result => {\n\t\t\t\t\t\t\tconst [ , , config ] = get_config(form, undefined, undefined, configoverwrite || {});\n\t\t\t\t\t\t\tconst errorConfig = get_error_handler(config);\n\n\t\t\t\t\t\t\tif (!errorConfig.success && !errorConfig.fail) {\n\t\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst typedErrors = {};\n\t\t\t\t\t\t\tfor (var res of result) {\n\t\t\t\t\t\t\t\tconst [ allowed, item ] = res.status === 'fulfilled'\n\t\t\t\t\t\t\t\t\t? [ errorConfig.success, res.value ]\n\t\t\t\t\t\t\t\t\t: [ errorConfig.fail, res.reason ];\n\t\t\t\t\t\t\t\tif (!allowed)\n\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\tconst errors = popHandleableErrors(errorConfig, get_error_list(item));\n\n\t\t\t\t\t\t\t\tfor (var type in errors) {\n\t\t\t\t\t\t\t\t\tif (!typedErrors[type])\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type] = {\n\t\t\t\t\t\t\t\t\t\t\t[item.config.errorHeader]: errors[type]\n\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\ttypedErrors[type][item.config.errorHeader] = errors[type];\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tfor (var errType in typedErrors) {\n\t\t\t\t\t\t\t\terrorConfig.handler[errType](typedErrors[errType]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tlet { method, url, params, config } = factory;\n\t\t\t\tif (configoverwrite !== undefined) {\n\t\t\t\t\tconfig = configoverwrite;\n\t\t\t\t}\n\t\t\t\tif (!method) {\n\t\t\t\t\tmethod = 'get';\n\t\t\t\t}\n\t\t\t\tif (method.toLowerCase)\n\t\t\t\t\tmethod = method.toLowerCase();\n\t\t\t\tif (method == 'get') {\n\t\t\t\t\treturn this.get(form, url, params, config);\n\t\t\t\t} else if (method == 'post') {\n\t\t\t\t\treturn this.post(form, url, params, config);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.error(\"FhcApi: method not allowed:\", method);\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetErrorHandler(config) {\n\t\t\t\treturn get_error_handler(config);\n\t\t\t}\n\t\t};\n\n\t\tapp.provide('$api', app.config.globalProperties.$api);\n\t}\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tloadCategory(category) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/loadModule/' + category\n\t\t};\n\t},\n\tsetLanguage(categories,language) {\n\t\tconst params = {categories, language}\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/phrasen/setLanguage',\n\t\t\tparams\n\t\t};\n\t},\n\tgetLanguage() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getLanguage'\n\t\t};\n\t},\n\tgetActiveDbLanguages() {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/phrasen/getAllLanguages'\n\t\t};\n\t}\n};","import OldFhcApi from '../plugin/OldFhcApi.js'; // TODO(chris): remove at some point\nimport PluginsApi from './Api.js';\nimport ApiPhrasen from '../api/factory/phrasen.js';\n\nconst categories = Vue.reactive({});\nconst loadingModules = {};\nlet user_language = Vue.ref(FHC_JS_DATA_STORAGE_OBJECT.user_language);\nexport let user_locale = Vue.computed(()=>{\n\tif(!user_language.value) return null;\n\treturn FHC_JS_DATA_STORAGE_OBJECT.server_languages.find(language => language.sprache == user_language.value).LC_Time;\n});\n\nfunction extractCategory(obj, category) {\n\treturn obj.filter(e => e.category == category).reduce((res, elem) => {\n\t\tif (!res[elem.phrase])\n\t\t\tres[elem.phrase] = elem.text;\n\t\treturn res;\n\t}, {});\n}\nfunction getValueForLoadedPhrase(category, phrase, params) {\n\tlet result = categories[category][phrase];\n\tif (!result)\n\t\treturn '<< PHRASE ' + phrase + '>>';\n\tif (params)\n\t\tresult = result.replace(/\\{([^}]*)\\}/g, (match, p1) => params[p1] === undefined ? match : params[p1]);\n\treturn result;\n}\n\nconst phrasen = {\n\tuser_language,\n\tuser_locale,\n\tsetLanguage(language) {\n\t\tconst catArray = Object.keys(categories)\n\t\treturn this.config.globalProperties.$api\n\t\t\t.call(ApiPhrasen.setLanguage(catArray, language))\n\t\t\t.then(res => {\n\t\t\t\tres.data.forEach(row => {\n\t\t\t\t\tcategories[row.category][row.phrase] = row.text\n\t\t\t\t})\n\n\t\t\t\t// update the reactive data that holds the current active user_language\n\t\t\t\tuser_language.value = language;\n\n\t\t\t\treturn res\n\t\t\t})\n\t},\n\tloadCategory(category) {\n\t\tif (Array.isArray(category))\n\t\t\treturn Promise.all(category.map(this.config.globalProperties\n\t\t\t\t.$p.loadCategory));\n\n\t\tif (!loadingModules[category])\n\t\t\tloadingModules[category] = this.config.globalProperties.$api\n\t\t\t\t.call(ApiPhrasen.loadCategory(category))\n\t\t\t\t.then(res => res?.data ? extractCategory(res.data, category) : {})\n\t\t\t\t.then(res => {\n\t\t\t\t\tcategories[category] = res;\n\t\t\t\t});\n\t\treturn loadingModules[category];\n\t},\n\tt_ref(category, phrase, params) {\n\t\tconsole.warn('deprecated');\n\t\treturn Vue.computed(() => this.t(category, phrase, params));\n\t},\n\tt(category, phrase, params) {\n\t\tif (params === undefined && (\n\t\t\t(Array.isArray(category) && category.length == 2) ||\n\t\t\t(category.split && category.split('/').length == 2))\n\t\t\t) {\n\t\t\tparams = phrase;\n\t\t\t[category, phrase] = category.split ? category.split('/') : category;\n\t\t}\n\t\tif (phrase === undefined) {\n\t\t\tconsole.error('invalid input', category, phrase, params);\n\t\t\treturn '';\n\t\t}\n\t\tlet val = Vue.computed(() => {\n\t\t\tif (!categories[category])\n\t\t\t\treturn '';\n\t\t\treturn getValueForLoadedPhrase(category, phrase, params);\n\t\t});\n\t\tif (!categories[category])\n\t\t\tthis.loadCategory(category);\n\t\treturn val.value;\n\t}\n};\n\nexport default {\n\tinstall(app, options) {\n\t\tif (!app.config.globalProperties.$fhcApi)\n\t\t\tapp.use(OldFhcApi); // TODO(chris): remove at some point\n\t\tif (!app.config.globalProperties.$api)\n\t\t\tapp.use(PluginsApi);\n\t\tapp.config.globalProperties.$p = {\n\t\t\tt: phrasen.t,\n\t\t\tloadCategory: cat => phrasen.loadCategory.call(app, cat),\n\t\t\tsetLanguage: lang => phrasen.setLanguage.call(app, lang),\n\t\t\tuser_language: user_language,\n\t\t\tuser_locale,\n\t\t\tt_ref: phrasen.t_ref\n\t\t};\n\t\tapp.provide('$p', app.config.globalProperties.$p);\n\t}\n}","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport const CoreFetchCmpt = {\n\temits: ['dataFetched'], // this component can emit the event dataFetched that it is catched by this component itself\n\tprops: {\n\t\trefresh: { // to refresh this component\n\t\t\ttype: Boolean\n\t\t},\n\t\tapiFunction: { // the function to call, must return a Promise\n\t\t\trequired: true,\n\t\t\ttype: Function\n\t\t},\n\t\tapiFunctionParameters: {} // parameters for the apiFunction, type mixed, optional\n\t},\n\twatch: {\n\t\t/**\n\t\t * If the refresh property is changed then call fetchData\n\t\t */\n\t\trefresh: function (newValue, oldValue) {\n\t\t\tthis.fetchData();\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tloading: false, // if in loading or not\n\t\t\terror: false, // if an error occurred while loading data\n\t\t\terrorMessage: null // the error message\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.fetchData();\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchData: function() {\n\t\t\tthis.loading = true; // loader started\n\t\t\tthis.error = false;\n\t\t\tthis.errorMessage = null;\n\n\t\t\t// Checks if the apifunction is a callable function\n\t\t\tif (typeof this.apiFunction == \"function\")\n\t\t\t{\n\t\t\t\t// Call the function stored in apiFunction\n\t        \t\tlet apiFunctionResult = this.apiFunction(this.apiFunctionParameters);\n\n\t\t\t\t// It is expected that the function returns a Promise\n\t\t\t\tif (apiFunctionResult instanceof Promise)\n\t\t\t\t{\n\t\t\t\t\tapiFunctionResult\n\t\t\t\t\t\t.then(this.successHandler) // on success\n\t\t\t\t\t\t.catch(this.errorHandler) // on error\n\t\t\t\t\t\t.finally(this.finallyHandler); // finally in any case\n\t\t\t\t}\n\t\t\t\telse // otherwise display an error\n\t\t\t\t{\n\t\t\t\t\tthis.setError(\"The called apiFunction does not return a Promise\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // otherwise display an error\n\t\t\t{\n\t\t\t\tthis.setError(\"Property apiFunction is not a function\");\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsetError: function(errorMessage) {\n\t\t\tthis.loading = false; // loading ended\n\t\t\tthis.error = true; // error occurred\n\t\t\tthis.errorMessage = errorMessage; // save the error message\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsuccessHandler: function(response) {\n\t\t\tthis.$emit('dataFetched', response ? response.data : undefined); // trigger the event dataFetched\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\terrorHandler: function(error) {\n\t\t\tif (error.response?.data?.retval)\n\t\t\t\tthis.setError(error.response.data.retval);\n\t\t\telse if (error.data?.message)\n\t\t\t\tthis.setError(error.data.message);\n\t\t\telse\n\t\t\t\tthis.setError(error.message);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfinallyHandler: function() {\n\t\t\tthis.loading = false; // loading ended\n\t\t}\n\t},\n\ttemplate: `\n\t\t<slot v-if=\"loading\" name=\"loading\">\n\t\t\t<div class=\"fetch-loader\">Loading...</div>\n\t\t</slot>\n\t\t<slot v-else-if=\"error\" name=\"error\" :error-message=\"errorMessage\">\n\t\t\t<div class=\"fetch-error\">{{ errorMessage }}</div>\n\t\t</slot>\n\t\t<slot v-else></slot>\n\t`\n};\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tgetHeader(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/header',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t},\n\tgetMenu(navigation_page) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/navigation/menu',\n\t\t\tparams: { navigation_page }\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2024 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport ApiNavigation from '../../api/factory/navigation.js';\n\n/**\n *\n */\nexport const CoreNavigationCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt\n\t},\n\tprops: {\n\t\taddHeaderMenuEntries: Object, // property used to add new header menu entries from another app/component\n\t\taddSideMenuEntries: Object, // property used to add new side menu entries from another app/component\n\t\thideTopMenu: Boolean,\n\t\tleftNavCssClasses: {\n\t\t\ttype: String,\n\t\t\tdefault: 'navbar navbar-left-side'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\theaderMenu: {}, // header menu entries\n\t\t\tsideMenu: {} // side menu entries\n\t\t};\n\t},\n\tcomputed: {\n\t\t/**\n\t\t *\n\t\t */\n\t\theaderMenuEntries() {\n\t\t\t//\n\t\t\tlet hm = this.headerMenu ? {...this.headerMenu} : {};\n\t\t\tif (this.headerMenu != null && this.addHeaderMenuEntries != null && Object.keys(this.addHeaderMenuEntries).length > 0)\n\t\t\t{\n\t\t\t\thm[this.addHeaderMenuEntries.description] = this.addHeaderMenuEntries;\n\t\t\t}\n\t\t\treturn hm;\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tsideMenuEntries() {\n\t\t\t//\n\t\t\tlet sm = this.sideMenu ? {...this.sideMenu} : {};\n\t\t\tif (this.sideMenu != null && this.addSideMenuEntries != null && Object.keys(this.addSideMenuEntries).length > 0)\n\t\t\t{\n\t\t\t\tsm[this.addSideMenuEntries.description] = this.addSideMenuEntries;\n\t\t\t}\n\t\t\treturn sm;\n\t\t}\n\t},\n\tmethods: {\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetNavigationPage() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptApiFunctionHeader() {\n\t\t\treturn this.$api.call(ApiNavigation.getHeader(this.getNavigationPage()))\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptApiFunctionSideMenu() {\n\t\t\treturn this.$api.call(ApiNavigation.getMenu(this.getNavigationPage()))\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptDataFetchedHeader(data) {\n\t\t\tthis.headerMenu = data || {};\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tfetchCmptDataFetchedMenu(data) {\n\t\t\tthis.sideMenu = data || {};\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetDataBsToggle(header) {\n\t\t\treturn !header.children ? null : 'dropdown';\n\t\t}\n\t},\n\ttemplate: `\n\t\t<!-- Load head menu -->\n\t\t<core-fetch-cmpt v-bind:api-function=\"fetchCmptApiFunctionHeader\" @data-fetched=\"fetchCmptDataFetchedHeader\"></core-fetch-cmpt>\n\t\t<!-- Load side menu -->\n\t\t<core-fetch-cmpt v-bind:api-function=\"fetchCmptApiFunctionSideMenu\" @data-fetched=\"fetchCmptDataFetchedMenu\"></core-fetch-cmpt>\n\n\t\t<!-- Top menu -->\n\t\t<nav class=\"navbar navbar-expand-lg navbar-header\" v-if=\"!hideTopMenu\">\n\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t<!-- 1st level -->\n\t\t\t\t<template v-for=\"header in headerMenuEntries\">\n\t\t\t\t\t<li class=\"nav-item dropdown\">\n\t\t\t\t\t\t<a class=\"nav-link header-menu-link-entry\"\n\t\t\t\t\t\t\tv-bind:data-bs-toggle=\"this.getDataBsToggle(header)\"\n\t\t\t\t\t\t\tv-bind:class=\"{ 'dropdown-toggle': header.children }\"\n\t\t\t\t\t\t\tv-bind:href=\"header.link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<i class=\"fa-solid fa-fw header-menu-icon\" v-bind:class=\"'fa-' + header.icon\" v-if=\"header.icon\"></i> {{ header.description }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class=\"dropdown-menu\" v-if=\"header.children\">\n\t\t\t\t\t\t\t<!-- 2nd level -->\n\t\t\t\t\t\t\t<template v-for=\"child in header.children\">\n\t\t\t\t\t\t\t\t<li><a class=\"dropdown-item\" v-bind:href=\"child.link\">{{ child.description }}</a></li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</template>\n\t\t\t</ul>\n\t\t\t<slot></slot>\n\t\t</nav>\n\n\t\t<!-- Left side menu -->\n\t\t<nav :class=\"leftNavCssClasses\">\n\t\t\t<ul class=\"navbar-nav\">\n\t\t\t\t<!-- 1st level -->\n\t\t\t\t<template v-for=\"menu in sideMenuEntries\">\n\t\t\t\t\t<li class=\"nav-item\">\n\t\t\t\t\t\t<a class=\"nav-link left-side-menu-link-entry\" v-bind:href=\"menu.link\" @click=menu.onClickCall>\n\t\t\t\t\t\t\t<i class=\"fa fa-fw\" v-bind:class=\"'fa-'+ menu.icon\"></i> {{ menu.description }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<ul class=\"nav-link left-side-menu-second-level\" v-if=\"menu.children\">\n\t\t\t\t\t\t\t<!-- 2nd level -->\n\t\t\t\t\t\t\t<template v-for=\"child in menu.children\">\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t\t<a class=\"nav-link left-side-menu-link-entry\" v-bind:href=\"child.link\" @click=child.onClickCall>\n\t\t\t\t\t\t\t\t\t\t&emsp;&emsp;{{ child.description }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\tclass=\"nav-link left-side-menu-link-entry\"\n\t\t\t\t\t\t\t\t\t\tv-bind:class=\"child.subscriptLinkClass\"\n\t\t\t\t\t\t\t\t\t\tv-if=\"child.subscriptDescription\"\n\t\t\t\t\t\t\t\t\t\tv-bind:href=\"child.link\"\n\t\t\t\t\t\t\t\t\t\t@click=child.onClickSubscriptCall\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ child.subscriptDescription }}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t</template>\n\t\t\t</ul>\n\t\t</nav>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfilters: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tcolumns: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tfields: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t}\n\t},\n\temits: {\n\t\tswitchFilter: ['filterId'],\n\t\tapplyFilterConfig: ['filterFields'],\n\t\tsaveCustomFilter: ['customFilterName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tcurrentFields: []\n\t\t};\n\t},\n\tcomputed: {\n\t\ttypes() {\n\t\t\treturn this.columns.reduce((a,c) => {\n\t\t\t\tlet type = c.type.toLowerCase();\n\t\t\t\tif (type.indexOf('int') >= 0)\n\t\t\t\t\ta[c.name] = 'Numeric';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('varchar') >= 0 || \n\t\t\t\t\ttype.indexOf('text') >= 0 || \n\t\t\t\t\ttype.indexOf('bpchar') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Text';\n\t\t\t\telse if (\n\t\t\t\t\ttype.indexOf('timestamp') >= 0 || \n\t\t\t\t\ttype.indexOf('date') >= 0\n\t\t\t\t)\n\t\t\t\t\ta[c.name] = 'Date';\n\t\t\t\telse\n\t\t\t\t\ta[c.name] = '';\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t}\n\t},\n\twatch: {\n\t\tfields(n) {\n\t\t\tthis.currentFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\tswitchFilter(evt) {\n\t\t\tthis.$emit('switchFilter', evt.currentTarget.value);\n\t\t},\n\t\tapplyFilterConfig() {\n\t\t\tconst filteredFields = this.currentFields.filter(el => el.name != FILTER_COMPONENT_NEW_FILTER);\n\t\t\tif (filteredFields.filter(el => el.condition == \"\").length)\n\t\t\t\talert(\"Please fill all the filter options\");\n\t\t\telse\n\t\t\t\tthis.$emit('applyFilterConfig', filteredFields);\n\t\t},\n\t\taddField(evt) {\n\t\t\tthis.currentFields.push({\n\t\t\t\tname: FILTER_COMPONENT_NEW_FILTER\n\t\t\t});\n\t\t},\n\t\tremoveField(index) {\n\t\t\tthis.currentFields.splice(index, 1);\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-config\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div v-if=\"filters.length\" class=\"mb-4\">\n\t\t\t\t\t<select class=\"form-select\" @change=\"switchFilter\">\n\t\t\t\t\t\t<option value=\"\">Bitte auswhlen...</option>\n\t\t\t\t\t\t<option v-for=\"filter in filters\" :value=\"filter.id\">\n\t\t\t\t\t\t\t{{ filter.description }}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline-dark\" type=\"button\" @click=addField>\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span> Neuer Filter\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"filter-config-fields my-3\">\n\t\t\t\t\t<div v-for=\"(filterField, index) in currentFields\" class=\"filter-config-field row\">\n\n\t\t\t\t\t\t<div class=\"col-5\">\n\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t<span class=\"input-group-text\">Filter {{ index + 1 }}</span>\n\t\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\t\tclass=\"form-select\"\n\t\t\t\t\t\t\t\t\tv-model=\"filterField.name\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<option value=\"\">Feld zum Filter hinzufgen...</option>\n\t\t\t\t\t\t\t\t\t<option v-for=\"col in columns\" :value=\"col.name\">\n\t\t\t\t\t\t\t\t\t\t{{ col.title }}\n\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Numeric -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Numeric'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Grer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Text -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Text'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"equal\">Gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nequal\">Nicht gleich</option>\n\t\t\t\t\t\t\t\t\t<option value=\"contains\">Enthlt</option>\n\t\t\t\t\t\t\t\t\t<option value=\"ncontains\">Enthlt nicht</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-3\">\n\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<!-- Timestamp and date -->\n\t\t\t\t\t\t<template v-if=\"types[filterField.name] == 'Date'\">\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.operation\">\n\t\t\t\t\t\t\t\t\t<option value=\"gt\">Grer als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"lt\">Weniger als</option>\n\t\t\t\t\t\t\t\t\t<option value=\"set\">Eingestellt ist</option>\n\t\t\t\t\t\t\t\t\t<option value=\"nset\">Eingestellt nicht ist</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-1\">\n\t\t\t\t\t\t\t\t<input type=\"number\" class=\"form-control\" v-model=\"filterField.condition\">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class=\"col-2\">\n\t\t\t\t\t\t\t\t<select class=\"form-select\" v-model=\"filterField.option\">\n\t\t\t\t\t\t\t\t\t<option value=\"minutes\">Minuten</option>\n\t\t\t\t\t\t\t\t\t<option value=\"hours\">Stunden</option>\n\t\t\t\t\t\t\t\t\t<option value=\"days\">Tage</option>\n\t\t\t\t\t\t\t\t\t<option value=\"months\">Monate</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</template>\n\n\t\t\t\t\t\t<div class=\"col text-end\">\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"btn btn-outline-dark\"\n\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t@click=\"removeField(index)\"\n\t\t\t\t\t\t\t\ttitle=\"Filter entfernen\"\n\t\t\t\t\t\t\t\taria-title=\"Filter entfernen\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<span class=\"fa-solid fa-minus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Filter save options -->\n\t\t\t\t<div class=\"row\">\n\t\t\t\t\t<div class=\"col-7\">\n\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t<input ref=\"filterName\" type=\"text\" class=\"form-control\" placeholder=\"Filternamen eingeben...\">\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"$emit('saveCustomFilter', $refs.filterName.value)\">Filter speichern</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"col\">\n\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-outline-dark\" @click=\"applyFilterConfig\">Filter anwenden</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\tfields: Array,\n\t\tselected: {\n\t\t\ttype: Array,\n\t\t\tdefault: []\n\t\t},\n\t\tnames: {\n\t\t\ttype: Object,\n\t\t\tdefault: {}\n\t\t}\n\t},\n\temits: {\n\t\thide: ['fieldName'],\n\t\tshow: ['fieldName']\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tselectedFields: []\n\t\t};\n\t},\n\twatch: {\n\t\tselected(n) {\n\t\t\tthis.selectedFields = n;\n\t\t}\n\t},\n\tmethods: {\n\t\ttoggle(field) {\n\t\t\tif (this.selectedFields.indexOf(field) != -1)\n\t\t\t{\n\t\t\t\tthis.selectedFields.splice(this.selectedFields.indexOf(field), 1);\n\t\t\t\tthis.$emit('hide', field);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.selectedFields.push(field);\n\t\t\t\tthis.$emit('show', field);\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<div class=\"filter-columns\">\n\t\t<div class=\"card\">\n\t\t\t<div class=\"d-flex flex-wrap gap-2 p-3 justify-content-center\">\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"fieldToDisplay in fields\"\n\t\t\t\t\tclass=\"btn\"\n\t\t\t\t\t:class=\"selectedFields.indexOf(fieldToDisplay) != -1 ? 'btn-dark' : 'btn-outline-dark' \"\n\t\t\t\t\t@click=\"toggle(fieldToDisplay)\"\n\t\t\t\t>\n\t\t\t\t\t{{ names[fieldToDisplay] || fieldToDisplay }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t`\n};\n\n","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nconst DEFAULT_ICONS = {\n\tjsonLines: 'fa-file-lines',\n\txlsx: 'fa-file-excel',\n\tpdf: 'fa-file-pdf',\n\thtml: 'fa-file-code',\n\tjson: 'fa-file',\n\tcsv: 'fa-file-csv'\n};\nconst DEFAULT_LABELS = {\n\tjsonLines: 'Download as JSONLINES',\n\txlsx: 'Download as XLSX',\n\tpdf: 'Download as PDF',\n\thtml: 'Download as HTML',\n\tjson: 'Download as JSON',\n\tcsv: 'Download as CSV '\n};\n\n\n/**\n *\n */\nexport default {\n\tprops: {\n\t\ttabulator: Object,\n\t\tconfig: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\ticonClass: [String, Array, Object]\n\t},\n\tcomputed: {\n\t\tcurrentConfig() {\n\t\t\tif (!this.config)\n\t\t\t\treturn false;\n\n\t\t\tlet config = this.config;\n\n\t\t\tif (config instanceof Function)\n\t\t\t\treturn [config];\n\n\t\t\tif (config === null)\n\t\t\t\treturn [];\n\n\t\t\tif (this.config === true)\n\t\t\t\tconfig = ['csv'];\n\n\t\t\tif (Object.prototype.toString.call(config) === \"[object String]\")\n\t\t\t\tconfig = config.split(',');\n\n\t\t\tif (typeof config === 'object' && !Array.isArray(config)) {\n\t\t\t\tlet newConfig = [];\n\t\t\t\tfor (var k in config) {\n\t\t\t\t\tvar v = config[k], type;\n\t\t\t\t\t\n\t\t\t\t\tif (!v)\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\n\t\t\t\t\tif (Object.prototype.toString.call(v) === \"[object String]\") {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(v);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: v === k ? DEFAULT_LABELS[type] : k,\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\t\tif(type !== null) {\n\t\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\t\tlabel: v,\n\t\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\talert('neither ' + k + ' nor ' + v + ' are supported download file types');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof v === 'object' && !Array.isArray(v)) {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tif (v.formatter === undefined)\n\t\t\t\t\t\t\t\tv.formatter = type;\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = DEFAULT_LABELS[type];\n\t\t\t\t\t\t\tif (v.icon === undefined)\n\t\t\t\t\t\t\t\tv.icon = DEFAULT_ICONS[type];\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (v.label === undefined)\n\t\t\t\t\t\t\t\tv.label = k;\n\t\t\t\t\t\t\tnewConfig.push(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = this.stringToFileFormatter(k);\n\t\t\t\t\t\tif (type !== null) {\n\t\t\t\t\t\t\tnewConfig.push({\n\t\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[type],\n\t\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[type],\n\t\t\t\t\t\t\t\tformatter: type\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\talert(k + ' is not a supported download file type');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tconfig = newConfig;\n\t\t\t}\n\n\t\t\tif (Array.isArray(config))\n\t\t\t{\n\t\t\t\tconfig = config.map(el => {\n\t\t\t\t\tif (Object.prototype.toString.call(el) === \"[object String]\") {\n\t\t\t\t\t\tlet formatter = this.stringToFileFormatter(el);\n\t\t\t\t\t\tif (formatter === null)\n\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\ticon: 'fa-solid ' + DEFAULT_ICONS[formatter],\n\t\t\t\t\t\t\tlabel: DEFAULT_LABELS[formatter],\n\t\t\t\t\t\t\tformatter\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (el instanceof Function)\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tformatter: el\n\t\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (typeof el === 'object' && !Array.isArray(el) && el !== null) {\n\t\t\t\t\t\tif (el.formatter instanceof Function)\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t\tif (this.validateFileFormatter(el.formatter))\n\t\t\t\t\t\t\treturn el;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\treturn null;\n\t\t\t\t}).filter(el => el !== null);\n\n\t\t\t\tif (config.length < 2)\n\t\t\t\t\treturn config;\n\n\t\t\t\tif (config.filter(el => el.label || el.icon).length == config.length)\n\t\t\t\t\treturn config;\n\n\t\t\t\talert('Config not valid');\n\t\t\t}\n\n\t\t\treturn [];\n\t\t}\n\t},\n\tmethods: {\n\t\tstringToFileFormatter(input) {\n\t\t\tlet lcInput = input.toLowerCase();\n\t\t\t\n\t\t\tif (lcInput == 'jsonlines')\n\t\t\t\treturn 'jsonLines';\n\t\t\t\n\t\t\tif (['xlsx', 'pdf', 'html', 'json', 'csv'].includes(lcInput))\n\t\t\t\treturn lcInput;\n\n\t\t\treturn null;\n\t\t},\n\t\tvalidateFileFormatter(input) {\n\t\t\tlet formatter = this.stringToFileFormatter(input);\n\t\t\tif (!formatter) {\n\t\t\t\talert(input + ' is not a supported file formatter');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (formatter == 'xlsx') {\n\t\t\t\tif (!window.XLSX) {\n\t\t\t\t\talert('XLSX Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (formatter == 'pdf') {\n\t\t\t\tif (!window.jspdf) {\n\t\t\t\t\talert('jsPDF Library not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tvar doc = new jspdf.jsPDF({});\n\t\t\t\tif (!doc.autoTable) {\n\t\t\t\t\talert('jsPDF-AutoTable Plugin not loaded');\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdownload(config) {\n\t\t\tthis.tabulator.download(config.formatter, config.file, config.options)\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"currentConfig\">\n\t\t<template v-if=\"currentConfig.length == 1\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\t@click.prevent=\"download(currentConfig[0])\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t</template>\n\t\t<div v-else class=\"dropdown d-inline\">\n\t\t\t<a\n\t\t\t\thref=\"#\"\n\t\t\t\tclass=\"table-download\"\n\t\t\t\tv-bind=\"$attrs\"\n\t\t\t\ttitle=\"Download\"\n\t\t\t\taria-title=\"Download\"\n\t\t\t\trole=\"button\"\n\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\taria-expanded=\"false\"\n\t\t\t>\n\t\t\t\t<span :class=\"iconClass || 'fa-solid fa-xl fa-download'\" aria-hidden=\"true\"></span>\n\t\t\t</a>\n\t\t\t<ul class=\"dropdown-menu dropdown-menu-end\">\n\t\t\t\t<li v-for=\"(conf, i) in currentConfig\" :key=\"i\">\n\t\t\t\t\t<a class=\"dropdown-item\" href=\"#\" @click.prevent=\"download(conf)\">\n\t\t\t\t\t\t<span v-if=\"conf.icon\" :class=\"conf.icon\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{conf.label}}\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</template>\n\t`\n};\n\n","const elementDataMap = new WeakMap();\n\nexport default {\n\tmounted(el, binding) {\n\t\tlet open = false;\n\t\telementDataMap.set(el, evt => {\n\t\t\tif (!open)\n\t\t\t\treturn;\n\n\t\t\tif (el.contains(evt.target))\n\t\t\t\treturn;\n\n\t\t\tconst collapse = bootstrap.Collapse.getInstance(el)\n\t\t\tif (collapse)\n\t\t\t\tcollapse.hide();\n\t\t});\n\t\tel.addEventListener('shown.bs.collapse', () => {\n\t\t\topen = true;\n\t\t});\n\t\tel.addEventListener('hide.bs.collapse', () => {\n\t\t\topen = false;\n\t\t});\n\t\tdocument.addEventListener('click', elementDataMap.get(el), true);\n\t},\n\tbeforeUnmount(el, binding) {\n\t\tdocument.removeEventListener('click', elementDataMap.get(el));\n\t\tdelete el.collapsibleAutoHideFunc;\n\t}\n}","/**\n * This may need changes if Tabulator gets updated!\n *\n * Current working Version: 5.5.2\n * \n * This is a copy of the fitDataStretch function. The only difference\n * is the check for frozen columns on line 22.\n */\n\nexport default window.Tabulator?.extendModule(\"layout\", \"modes\", {\n\tfitDataStretchFrozen(columns, forced) {\n\t\tvar colsWidth = 0,\n\t\ttableWidth = this.table.rowManager.element.clientWidth,\n\t\tgap = 0,\n\t\tlastCol = false;\n\n\t\tcolumns.forEach((column, i) => {\n\t\t\tif (!column.widthFixed) {\n\t\t\t\tcolumn.reinitializeWidth();\n\t\t\t}\n\n\t\t\tif (this.table.options.responsiveLayout ? column.modules.responsive.visible : column.visible && !column.definition.frozen) {\n\t\t\t\tlastCol = column;\n\t\t\t}\n\n\t\t\tif (column.visible) {\n\t\t\t\tcolsWidth += column.getWidth();\n\t\t\t}\n\t\t});\n\n\t\tif (lastCol){\n\t\t\tgap = tableWidth - colsWidth + lastCol.getWidth();\n\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tlastCol.setWidth(0);\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\n\t\t\tif (gap > 0) {\n\t\t\t\tlastCol.setWidth(gap);\n\t\t\t} else {\n\t\t\t\tlastCol.reinitializeWidth();\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.table.options.responsiveLayout && this.table.modExists(\"responsiveLayout\", true)) {\n\t\t\t\tthis.table.modules.responsiveLayout.update();\n\t\t\t}\n\t\t}\n\t}\n});\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsaveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/saveCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tcustomFilterName: wsParams.customFilterName\n\t\t\t}\n\t\t};\n\t},\n\tremoveCustomFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeCustomFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tapplyFilterFields(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/applyFilterFields',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterFields: wsParams.filterFields\n\t\t\t}\n\t\t};\n\t},\n\taddFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/addFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tremoveFilterField(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/filter/removeFilterField',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterField: wsParams.filterField\n\t\t\t}\n\t\t};\n\t},\n\tgetFilterById(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType,\n\t\t\t\tfilterId: wsParams.filterId\n\t\t\t}\n\t\t};\n\t},\n\tgetFilter(wsParams) {\n\t\treturn {\n\t\t\tmethod: 'get',\n\t\t\turl: '/api/frontend/v1/filter/getFilter',\n\t\t\tparams: {\n\t\t\t\tfilterUniqueId: wsParams.filterUniqueId,\n\t\t\t\tfilterType: wsParams.filterType\n\t\t\t}\n\t\t};\n\t}\n};","/**\n * Copyright (C) 2022 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nimport {CoreFetchCmpt} from '../../components/Fetch.js';\nimport FilterConfig from './Filter/Config.js';\nimport FilterColumns from './Filter/Columns.js';\nimport TableDownload from './Table/Download.js';\nimport collapseAutoClose from '../../directives/collapseAutoClose.js';\n\nimport moduleLayoutFitDataStretchFrozen from '../../tabulator/layouts/fitDataStretchFrozen.js';\n\nimport ApiFilter from '../../api/factory/filter.js';\n\n//\nconst FILTER_COMPONENT_NEW_FILTER = 'Filter Component New Filter';\nconst FILTER_COMPONENT_NEW_FILTER_TYPE = 'Filter Component New Filter Type';\n\nvar _uuid = 0;\n\n/**\n *\n */\nexport const CoreFilterCmpt = {\n\tcomponents: {\n\t\tCoreFetchCmpt,\n\t\tFilterConfig,\n\t\tFilterColumns,\n\t\tTableDownload\n\t},\n\tdirectives: {\n\t\tcollapseAutoClose\n\t},\n\temits: [\n\t\t'nwNewEntry',\n\t\t'click:new',\n\t\t'tableBuilt',\n\t\t'uuidDefined'\n\t],\n\tprops: {\n\t\tonNwNewEntry: Function, // NOTE(chris): Hack to get the nwNewEntry listener into $props\n\t\ttitle: String,\n\t\tdescription: String,\n\t\tsideMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t},\n\t\tfilterType: {\n\t\t\ttype: String\n\t\t},\n\t\ttabulatorOptions: Object,\n\t\ttabulatorEvents: Array,\n\t\ttableOnly: Boolean,\n\t\tnoColumnFilter:Boolean,\n\t\treload: Boolean,\n\t\treloadBtnInfotext: String,\n\t\tdownload: {\n\t\t\ttype: [Boolean, String, Function, Array, Object],\n\t\t\tdefault: false\n\t\t},\n\t\tnewBtnShow: Boolean,\n\t\tnewBtnClass: [String, Array, Object],\n\t\tnewBtnDisabled: Boolean,\n\t\tnewBtnLabel: String,\n\t\tuniqueId: String,\n\n\t\tidField: String,\n\t\tparentIdField: String,\n\t\tcountOnly: Boolean,\n\t\tuseSelectionSpan: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true\n\t\t}\n\t},\n\tdata: function() {\n\t\treturn {\n\t\t\tuuid: 0,\n\t\t\t// FilterCmpt properties\n\t\t\tfilterName: null,\n\t\t\tfilterActive: false,\n\t\t\tfields: null,\n\t\t\tdataset: null,\n\t\t\tdatasetMetadata: null,\n\t\t\tselectedFields: null,\n\t\t\tfilterFields: null,\n\n\t\t\tavailableFilters: null,\n\t\t\tselectedFilter: null,\n\n\t\t\t// FetchCmpt binded properties\n\t\t\tfetchCmptRefresh: false,\n\t\t\tfetchCmptApiFunction: null,\n\t\t\tfetchCmptApiFunctionParams: null,\n\t\t\tfetchCmptDataFetched: null,\n\n\t\t\tfetchResult: null,\n\n\t\t\ttabulator: null,\n\t\t\ttableBuilt: false,\n\t\t\ttabulatorHasSelector: false,\n\t\t\tselectedData: [],\n\t\t\tpersistence: {\n\t\t\t\tsort: true,\n\t\t\t\tcolumns: true,\n\t\t\t\tfilter: false,\n\t\t\t\theaderFilter: false,\n\t\t\t\tgroup: false,\n\t\t\t\tpage: false,\n\t\t\t}\n\t\t};\n\t},\n\tcomputed: {\n\t\tnotSelectedFields() {\n\t\t\tif (!this.fields || !this.selectedFields)\n\t\t\t\treturn null;\n\t\t\treturn this.fields.filter(x => this.selectedFields.indexOf(x) === -1)\n\t\t},\n\t\tfilteredData() {\n\t\t\tif (!this.dataset)\n\t\t\t\treturn [];\n\t\t\treturn JSON.parse(JSON.stringify(this.dataset));\n\t\t},\n\t\tfilteredColumns() {\n\t\t\tlet fields = JSON.parse(JSON.stringify(this.fields)) || [];\n\t\t\tlet selectedFields = JSON.parse(JSON.stringify(this.selectedFields)) || [];\n\n\t\t\tlet columns = null;\n\n\t\t\t// If the tabulator options has been provided and it contains the property columns\n\t\t\tif (this.tabulatorOptions && this.tabulatorOptions.hasOwnProperty('columns'))\n\t\t\t\tcolumns = this.tabulatorOptions.columns;\n\n\t\t\t// If columns is not an array or it is an array with less elements then the array fields\n\t\t\tif (!Array.isArray(columns) || (Array.isArray(columns) && columns.length < fields.length))\n\t\t\t{\n\t\t\t\tcolumns = []; // set it as an empty array\n\n\t\t\t\t// Loop throught all the retrieved columns from database\n\t\t\t\tfor (let field of fields)\n\t\t\t\t{\n\t\t\t\t\t// Create a new column having the title equal to the field name\n\t\t\t\t\tlet column = {\n\t\t\t\t\t\ttitle: field,\n\t\t\t\t\t\tfield: field\n\t\t\t\t\t};\n\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\tcolumn.visible = selectedFields.indexOf(field) >= 0;\n\n\t\t\t\t\t// Add the new column to the list of columns\n\t\t\t\t\tcolumns.push(column);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse // the property columns has been provided in the tabulator options\n\t\t\t{\n\t\t\t\t// Loop throught the property columns of the tabulator options\n\t\t\t\tfor (let col of columns)\n\t\t\t\t{\n\t\t\t\t\t// If the column has to be displayed or not\n\t\t\t\t\t/* fields.indexOf(col.field) == -1; ensures displaying formatter colums\n\t\t\t\t\te.g. column with rowSelection checkboxes or with custom formatted action buttons */\n\t\t\t\t\tcol.visible = selectedFields.indexOf(col.field) >= 0 || fields.indexOf(col.field) == -1;\n\n\t\t\t\t\tif (col.hasOwnProperty('resizable'))\n\t\t\t\t\t\tcol.resizable = col.visible;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn columns;\n\t\t},\n\t\tfieldIdsForVisibilty() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn [];\n\t\t\treturn this.tabulator.getColumns().filter(col => {\n\t\t\t\tlet def = col.getDefinition();\n\t\t\t\treturn !def.frozen && def.title && def.formatter != \"responsiveCollapse\";\n\t\t\t}).map(col => col.getField());\n\t\t},\n\t\tfieldNames() {\n\t\t\tif (!this.tableBuilt)\n\t\t\t\treturn {};\n\t\t\treturn this.tabulator.getColumns().reduce((res, col) => {\n\t\t\t\tres[col.getField()] = col.getDefinition().title;\n\t\t\t\treturn res;\n\t\t\t}, {});\n\t\t},\n\t\tidExtra() {\n\t\t\tif (!this.uuid)\n\t\t\t\treturn '';\n\t\t\treturn '-' + this.uuid;\n\t\t},\n\t\tcolumnsForFilter() {\n\t\t\tif (!this.filteredColumns || !this.datasetMetadata)\n\t\t\t\treturn [];\n\t\t\tconst filterTitles = this.filteredColumns.reduce((a,c) => {\n\t\t\t\ta[c.field] = c.title;\n\t\t\t\treturn a;\n\t\t\t}, {});\n\t\t\treturn this.datasetMetadata.map(el => ({...el, ...{title: filterTitles[el.name]}}));\n\t\t}\n\t},\n\tmethods: {\n\t\treloadTable() {\n\t\t\tif (this.tableOnly)\n\t\t\t\tthis.tabulator.setData();\n\t\t\telse\n\t\t\t\tthis.getFilter();\n\t\t},\n\t\tasync initTabulator() {\n\t\t\tlet placeholder = '< Phrasen Plugin not loaded! >';\n\t\t\tif (this.$p) {\n\t\t\t\tawait this.$p.loadCategory('ui');\n\t\t\t\tplaceholder = this.$p.t('ui/keineDatenVorhanden');\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\t// prefetch data to get fields & selectedFields for filteredColumns & filteredData\n\t\t\t\tawait new Promise(resolve => {\n\t\t\t\t\tconst filterId = window.location.hash ? window.location.hash.slice(1) : null;\n\n\t\t\t\t\tconst resolvePromiseFunc = data => {\n\t\t\t\t\t\tthis.setRenderData(data);\n\t\t\t\t\t\tresolve();\n\t\t\t\t\t};\n\t\t\t\t\t// get the filter data\n\t\t\t\t\tif (filterId === null)\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t\t\t{ filterId },\n\t\t\t\t\t\t\tresolvePromiseFunc\n\t\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Define a default tabulator options in case it was not provided\n\t\t\tlet tabulatorOptions = {...{\n\t\t\t\t\tlayout: \"fitDataStretchFrozen\",\n\t\t\t\t\tmovableColumns: true,\n\t\t\t\t\tcolumnDefaults:{\n\t\t\t\t\t\ttooltip: true\n\t\t\t\t\t},\n\t\t\t\t\tplaceholder,\n\t\t\t\t\tpersistence: this.persistence,\n\t\t\t\t}, ...(this.tabulatorOptions || {})};\n\n\t\t\t// set default height if no height property is set\n\t\t\tif (tabulatorOptions.height === undefined &&\n\t\t\t\ttabulatorOptions.minHeight === undefined &&\n\t\t\t\ttabulatorOptions.maxHeight === undefined) {\n\t\t\t\ttabulatorOptions.height = 500;\n\t\t\t}\n\n\t\t\tif (!this.tableOnly) {\n\t\t\t\ttabulatorOptions.data = this.filteredData;\n\t\t\t\ttabulatorOptions.columns = this.filteredColumns;\n\t\t\t} else {\n\t\t\t\ttabulatorOptions.columns.forEach(col => {\n\t\t\t\t\tif (col.visible === undefined)\n\t\t\t\t\t\tcol.visible = true;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (tabulatorOptions.selectable || (tabulatorOptions.columns && tabulatorOptions.columns.filter(el => el.formatter == 'rowSelection').length))\n\t\t\t\tthis.tabulatorHasSelector = true;\n\n\t\t\tif (this.idField) {\n\t\t\t\t// enable nested tabulator if parent Id given\n\t\t\t\tif (this.parentIdField) tabulatorOptions.dataTree = true;\n\t\t\t\t// set tabulator index\n\t\t\t\ttabulatorOptions.index = this.idField;\n\t\t\t}\n\n\t\t\t// Start the tabulator with the build options\n\t\t\tthis.tabulator = new Tabulator(\n\t\t\t\tthis.$refs.table,\n\t\t\t\ttabulatorOptions\n\t\t\t);\n\t\t\t// If event handlers have been provided\n\t\t\tif (Array.isArray(this.tabulatorEvents) && this.tabulatorEvents.length > 0)\n\t\t\t{\n\t\t\t\t// Attach all the provided event handlers to the started tabulator\n\t\t\t\tfor (let evt of this.tabulatorEvents)\n\t\t\t\t\tthis.tabulator.on(evt.event, evt.handler);\n\t\t\t}\n\t\t\tthis.tabulator.on('tableBuilt', () => {this.tableBuilt = true; this.$emit('tableBuilt');});\n\t\t\tthis.tabulator.on(\"rowSelectionChanged\", data => {\n\t\t\t\tthis.selectedData = data;\n\t\t\t});\n\n\t\t\t// if nested tabulator, restructure data\n\t\t\tif (this.parentIdField && this.idField) {\n\t\t\t\tthis.tabulator.on(\"dataLoading\", data => {\n\t\t\t\t\tlet toDelete = [];\n\n\t\t\t\t\t// loop through all data\n\t\t\t\t\tfor (let childIdx = 0; childIdx < data.length; childIdx++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet child = data[childIdx];\n\n\t\t\t\t\t\t// if it has parent id, it is a child\n\t\t\t\t\t\tif (child[this.parentIdField])\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// append the child on the right place. If parent found, mark original sw child on 0 level for deleting\n\t\t\t\t\t\t\tif (this.appendChild(data, child)) toDelete.push(childIdx);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// delete the marked children from 0 level\n\t\t\t\t\tfor (let counter = 0; counter < toDelete.length; counter++)\n\t\t\t\t\t{\n\t\t\t\t\t\t// decrease index by counter as index of data array changes after every deletion\n\t\t\t\t\t\tdata.splice(toDelete[counter] - counter, 1);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (this.tableOnly) {\n\t\t\t\tthis.tabulator.on('tableBuilt', () => {\n\t\t\t\t\tconst cols = this.tabulator.getColumns();\n\t\t\t\t\tthis.fields = cols.map(col => col.getField());\n\t\t\t\t\tthis.selectedFields = cols.filter(col => col.isVisible()).map(col => col.getField());\n\t\t\t\t\tif (this.tabulator.options.persistence.headerFilter)\n\t\t\t\t\t\tthis._setHeaderFilter();\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t\tthis.tabulator.on(\"dataFiltered\", filters => {\n\t\t\t\tthis.filterActive = filters.length > 0;\n\t\t\t});\n\t\t},\n\t\tupdateTabulator() {\n\t\t\tif (this.tabulator) {\n\t\t\t\tif (this.tableBuilt)\n\t\t\t\t\tthis._updateTabulator();\n\t\t\t\telse\n\t\t\t\t\tthis.tabulator.on('tableBuilt', this._updateTabulator);\n\t\t\t}\n\t\t},\n\t\t_updateTabulator() {\n\t\t\tthis.tabulatorHasSelector = this.tabulatorOptions.selectable || this.filteredColumns.filter(el => el.formatter == 'rowSelection').length;\n\t\t\tthis.tabulator.setColumns(this.filteredColumns);\n\t\t\tthis.tabulator.setData(this.filteredData);\n\t\t\tthis._setHeaderFilter()\n\t\t},\n\t\tclearFilters()\n\t\t{\n\t\t\tlet existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, \"\");\n\t\t\t});\n\t\t\tthis.tabulator.clearFilter();\n\t\t\tthis.filterActive = false;\n\t\t},\n\t\t_setHeaderFilter()\n\t\t{\n\t\t\tconst existingFilters = this.tabulator.getHeaderFilters();\n\t\t\texistingFilters.forEach(filter => {\n\t\t\t\tthis.tabulator.setHeaderFilterValue(filter.field, filter.value);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\tgetFilter() {\n\t\t\tif (this.selectedFilter === null)\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilter(wsParams)),\n\t\t\t\t\tnull,\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t\telse\n\t\t\t\tthis.startFetchCmpt(\n\t\t\t\t\twsParams => this.$api.call(ApiFilter.getFilterById(wsParams)),\n\t\t\t\t\t{\n\t\t\t\t\t\tfilterId: this.selectedFilter\n\t\t\t\t\t},\n\t\t\t\t\tthis.render\n\t\t\t\t);\n\t\t},\n\t\tsetRenderData(data) {\n\t\t\tthis.fetchResult = data;\n\t\t\tthis.filterName = data.filterName;\n\t\t\tthis.dataset = data.dataset;\n\t\t\tthis.datasetMetadata = data.datasetMetadata;\n\n\t\t\tthis.fields = data.fields;\n\t\t\tthis.selectedFields = data.selectedFields;\n\t\t\tthis.filterFields = [];\n\n\t\t\tfor (let i = 0; i < data.datasetMetadata.length; i++)\n\t\t\t{\n\t\t\t\tfor (let j = 0; j < data.filters.length; j++)\n\t\t\t\t{\n\t\t\t\t\tif (data.datasetMetadata[i].name == data.filters[j].name)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet filter = data.filters[j];\n\t\t\t\t\t\tfilter.type = data.datasetMetadata[i].type;\n\n\t\t\t\t\t\tthis.filterFields.push(filter);\n\t\t\t\t\t\t//break;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\trender(response) {\n\t\t\tlet data = response;\n\n\t\t\tthis.setRenderData(data);\n\n\t\t\t// If the side menu is active\n\t\t\tif (this.sideMenu === true)\n\t\t\t{\n\t\t\t\tthis.setSideMenu(data);\n\t\t\t}\n\t\t\telse // otherwise use the dropdown in the filter options\n\t\t\t{\n\t\t\t\tthis.setDropDownMenu(data);\n\t\t\t}\n\t\t\tthis.updateTabulator();\n\t\t},\n\t\t/**\n\t\t * Set the menu\n\t\t */\n\t\tsetSideMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tlink: link + personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc,\n\t\t\t\t\tsubscriptDescription: personalFilters[filtersCount].subscriptDescription,\n\t\t\t\t\tsubscriptLinkClass: personalFilters[filtersCount].subscriptLinkClass,\n\t\t\t\t\tsubscriptLinkValue: personalFilters[filtersCount].subscriptLinkValue,\n\t\t\t\t\tsort: filtersCount,\n\t\t\t\t\tonClickCall: this.handlerGetFilterById,\n\t\t\t\t\tonClickSubscriptCall: this.handlerRemoveCustomFilter\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\n\t\t\tthis.$emit(\n\t\t\t\t'nwNewEntry',\n\t\t\t\t{\n\t\t\t\t\tlink: \"#\",\n\t\t\t\t\tdescription: \"Filters\",\n\t\t\t\t\ticon: \"filter\",\n\t\t\t\t\tchildren: filtersArray\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Set the drop down menu\n\t\t */\n\t\tsetDropDownMenu(data) {\n\t\t\tlet filters = data.sideMenu.filters;\n\t\t\tlet personalFilters = data.sideMenu.personalFilters;\n\t\t\tlet filtersArray = [];\n\n\t\t\tfor (let filtersCount = 0; filtersCount < filters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = filters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: filters[filtersCount].filter_id,\n\t\t\t\t\toption: filters[filtersCount].filter_id,\n\t\t\t\t\tdescription: filters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (let filtersCount = 0; filtersCount < personalFilters.length; filtersCount++)\n\t\t\t{\n\t\t\t\tlet link = personalFilters[filtersCount].link;\n\n\t\t\t\tif (link == null) link = '#';\n\n\t\t\t\tfiltersArray[filtersArray.length] = {\n\t\t\t\t\tid: personalFilters[filtersCount].filter_id,\n\t\t\t\t\toption: personalFilters[filtersCount].filter_id,\n\t\t\t\t\tdescription: personalFilters[filtersCount].desc\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tthis.availableFilters = filtersArray;\n\t\t},\n\t\t/**\n\t\t * Used to start/refresh the FetchCmpt\n\t\t */\n\t\tstartFetchCmpt(apiFunction, apiFunctionParameters, dataFetchedCallback) {\n\t\t\t// Assign the function api of the FetchCmpt binded property\n\t\t\tthis.fetchCmptApiFunction = apiFunction;\n\n\t\t\t// In case a null value is provided set the parameters as an empty object\n\t\t\tif (apiFunctionParameters == null) apiFunctionParameters = {};\n\n\t\t\t// Always needed parameters\n\t\t\tapiFunctionParameters.filterUniqueId = FHC_JS_DATA_STORAGE_OBJECT.called_path + \"/\" + FHC_JS_DATA_STORAGE_OBJECT.called_method;\n\t\t\tapiFunctionParameters.filterType = this.filterType;\n\n\t\t\tif (this.uniqueId)\n\t\t\t\tapiFunctionParameters.filterUniqueId += '_' + this.uniqueId;\n\n\t\t\t// Assign parameters to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptApiFunctionParams = apiFunctionParameters;\n\t\t\t// Assign data fetch callback to the FetchCmpt binded properties\n\t\t\tthis.fetchCmptDataFetched = dataFetchedCallback;\n\t\t\t// Set the FetchCmpt binded property refresh to have the component to refresh\n\t\t\t// NOTE: this should be the last one to be called because it triggers the FetchCmpt to start to refresh\n\t\t\tthis.fetchCmptRefresh === true ? this.fetchCmptRefresh = false : this.fetchCmptRefresh = true;\n\t\t},\n\n\t\t// ------------------------------------------------------------------------------------------------------------------\n\t\t// Event handlers\n\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerSaveCustomFilter(customFilterName) {\n\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.saveCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tcustomFilterName\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t *\n\t\t */\n\t\thandlerRemoveCustomFilter(event) {\n\t\t\tlet filterId = event.currentTarget.getAttribute(\"href\").substring(1);\n\t\t\tif (filterId === this.selectedFilter)\n\t\t\t\tthis.selectedFilter = null;\n\t\t\t//\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.removeCustomFilter(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterId: filterId\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t/*\n\t\t *\n\t\t */\n\t\thandlerGetFilterById: function(event) {\n\n\t\t\tlet filterId = null;\n\n\t\t\t// Get the attribute href if side menu is rendered\n\t\t\tlet attr = event.currentTarget.getAttribute(\"href\");\n\n\t\t\t// Otherwise get the value of the drop down menu\n\t\t\tif (attr == null)\n\t\t\t{\n\t\t\t\tfilterId = event.currentTarget.value;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfilterId = attr.substring(1);\n\t\t\t}\n\n\t\t\tthis.switchFilter(filterId);\n\t\t},\n\t\tswitchFilter(filterId) {\n\t\t\tthis.selectedFilter = filterId;\n\t\t\tthis.getFilter();\n\t\t},\n\t\tapplyFilterConfig(filterFields) {\n\t\t\tthis.selectedFilter = null;\n\t\t\tthis.startFetchCmpt(\n\t\t\t\twsParams => this.$api.call(ApiFilter.applyFilterFields(wsParams)),\n\t\t\t\t{\n\t\t\t\t\tfilterFields\n\t\t\t\t},\n\t\t\t\tthis.getFilter\n\t\t\t);\n\t\t},\n\n\t\t// append child to it's parent\n\t\tappendChild(data, child) {\n\t\t\t// get parent id\n\t\t\tlet parentId = child[this.parentIdField];\n\n\t\t\t// loop thorugh all data\n\t\t\tfor (let parentIdx = 0; parentIdx < data.length; parentIdx++)\n\t\t\t{\n\t\t\t\tlet parent = data[parentIdx];\n\n\t\t\t\t// if it's the parent\n\t\t\t\tif (parent[this.idField] == parentId)\n\t\t\t\t{\n\t\t\t\t\t// create children array if not done yet\n\t\t\t\t\tif (!parent._children) parent._children = [];\n\n\t\t\t\t\t// if child is not included in children array, append the child\n\t\t\t\t\tif (!parent._children.includes(child)) parent._children.push(child);\n\n\t\t\t\t\t// parent found\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// search children for parents\n\t\t\t\telse if (parent._children) this.appendChild(parent._children, child);\n\t\t\t}\n\n\t\t\t// parent not found\n\t\t\treturn false;\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\tif (!this.tableOnly == !this.filterType)\n\t\t\talert('You can not have a filter-type in table-only mode!');\n\t},\n\tcreated() {\n\t\tif (this.sideMenu && (!this.$props.onNwNewEntry || !(this.$props.onNwNewEntry instanceof Function)))\n\t\t\talert('\"nwNewEntry\" listener is mandatory when sideMenu is true');\n\t\tthis.uuid = _uuid++;\n\t\tthis.$emit('uuidDefined', this.uuid)\n\t},\n\tmounted() {\n\t\tthis.initTabulator().then(() => {\n\t\t\tif (!this.tableOnly) {\n\t\t\t\tthis.selectedFilter = window.location.hash ? window.location.hash.slice(1) : null;\n\t\t\t\tthis.render(this.fetchResult);\n\t\t\t}\n\t\t});\n\n\t},\n\ttemplate: `\n\t\t<!-- Load filter data -->\n\t\t<core-fetch-cmpt\n\t\t\tv-if=\"!tableOnly && fetchCmptApiFunction\"\n\t\t\tv-bind:api-function=\"fetchCmptApiFunction\"\n\t\t\tv-bind:api-function-parameters=\"fetchCmptApiFunctionParams\"\n\t\t\tv-bind:refresh=\"fetchCmptRefresh\"\n\t\t\t@data-fetched=\"fetchCmptDataFetched\">\n\t\t</core-fetch-cmpt>\n\n\t\t<div class=\"row\" v-if=\"title != null && title != ''\">\n\t\t\t<div class=\"col-lg-12\">\n\t\t\t\t<h3 class=\"page-header mt-1 mb-4\">\n\t\t\t\t\t{{ title }}\n\t\t\t\t</h3>\n\t\t\t</div>\n\t\t</div>\n\t\t<div :id=\"'filterCollapsables' + idExtra\">\n\n\t\t\t<div class=\"d-flex flex-row justify-content-between flex-wrap\">\n\t\t\t\t<div v-if=\"newBtnShow || reload || $slots.search || $slots.actions\" class=\"d-flex gap-2 align-items-baseline flex-wrap\">\n\t\t\t\t\t<button v-if=\"newBtnShow\" class=\"btn btn-primary\" :class=\"newBtnClass\" :title=\"newBtnLabel ? undefined : 'New'\" :aria-label=\"newBtnLabel ? undefined : 'New'\" @click=\"$emit('click:new', $event)\" :disabled=\"newBtnDisabled\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-plus\" aria-hidden=\"true\"></span>\n\t\t\t\t\t\t{{ newBtnLabel }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button v-if=\"reload\" class=\"btn btn-outline-secondary\" aria-label=\"Reload\" @click=\"reloadTable\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-rotate-right\" aria-hidden=\"true\"  :title=\"reloadBtnInfotext ? reloadBtnInfotext : 'Reload'\" ></span>\n\t\t\t\t\t</button>\n\t\t\t\t\t<span v-if=\"$slots.actions && tabulatorHasSelector && useSelectionSpan\">\n\t\t\t\t\t\t<span v-if=\"countOnly\">{{ selectedData.length }} ausgewhlt</span>\n\t\t\t\t\t\t<span v-else id=\"selected-info-text\"> Mit {{ selectedData.length }} ausgewhlten:</span>\n\t\t\t\t\t</span>\n\t\t\t\t\t<slot name=\"actions\" v-bind=\"{selected: tabulatorHasSelector ? selectedData : []}\"></slot>\n\t\t\t\t\t<slot name=\"search\"></slot>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"d-flex gap-1 align-items-baseline flex-grow-1 justify-content-end\">\n\t\t\t\t\t<span v-if=\"!tableOnly\">[ {{ filterName }} ]</span>\n\t\t\t\t\t<span v-else-if=\"description\" v-html=\"description\"></span>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"!tableOnly || $slots.filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseFilters' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" v-if=\"filterActive\"  class=\"btn btn-link px-0 fhc-text\" :title=\"$p.t('ui','filterdelete')\" @click=\"clearFilters\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-filter-circle-xmark\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a aria-label=\"filter\" href=\"#\" class=\"btn btn-link px-0 fhc-text\" data-bs-toggle=\"collapse\" :data-bs-target=\"'#collapseColumns' + idExtra\">\n\t\t\t\t\t\t<span class=\"fa-solid fa-xl fa-table-columns\"></span>\n\t\t\t\t\t</a>\n\t\t\t\t\t<table-download class=\"btn btn-link px-0 fhc-text\" :tabulator=\"tabulator\" :config=\"download\"></table-download>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<filter-columns\n\t\t\t\t:id=\"'collapseColumns' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:fields=\"fieldIdsForVisibilty\"\n\t\t\t\t:selected=\"selectedFields\"\n\t\t\t\t:names=\"fieldNames\"\n\t\t\t\t@hide=\"tabulator.hideColumn($event)\"\n\t\t\t\t@show=\"tabulator.showColumn($event)\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-columns>\n\n\t\t\t<filter-config\n\t\t\t\tv-if=\"!tableOnly\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\t:filters=\"!sideMenu ? (availableFilters || []) : []\"\n\t\t\t\t:columns=\"columnsForFilter\"\n\t\t\t\t:fields=\"filterFields || []\"\n\t\t\t\t@switch-filter=\"switchFilter\"\n\t\t\t\t@apply-filter-config=\"applyFilterConfig\"\n\t\t\t\t@save-custom-filter=\"handlerSaveCustomFilter\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t></filter-config>\n\t\t\t<div\n\t\t\t\tv-else-if=\"$slots.filter\"\n\t\t\t\t:id=\"'collapseFilters' + idExtra\"\n\t\t\t\tclass=\"card-body collapse\"\n\t\t\t\t:data-bs-parent=\"'#filterCollapsables' + idExtra\"\n\t\t\t\tv-collapse-auto-close\n\t\t\t\t>\n\t\t\t\t<slot name=\"filter\"></slot>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!-- Tabulator -->\n\t\t<div ref=\"table\" :id=\"'filterTableDataset' + idExtra\" class=\"filter-table-dataset\"></div>\n\t`\n};\n","export default {\n\tname: 'SearchbarResultTemplateAction',\n\temits: [ 'actionexecuted' ],\n\tprops: { \n\t\tres: Object,\n\t\taction: Object\n\t},\n\tcomputed: {\n\t\tactionHref() {\n\t\t\tif (this.action.type !== 'link')\n\t\t\t\treturn 'javascript:void(0);';\n\t\t\treturn typeof this.action.action === 'function'\n\t\t\t\t? this.action.action(this.res) \n\t\t\t\t: this.action.action;\n\t\t}\n\t},\n\tmethods: {\n\t\tactionFunc() {\n\t\t\tif (this.action.type === 'function')\n\t\t\t\tthis.action.action(this.res);\n\t\t\tthis.$emit('actionexecuted');\n\t\t},\n\t\trenderif: function() {\n\t\t\tif(this.action?.renderif === undefined) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn this.action.renderif(this.res);\n\t\t}\n\t},\n\ttemplate: `\n\t<template v-if=\"this.renderif()\">\n\t<a class=\"searchbar-result-template-action\" :href=\"actionHref\" @click=\"actionFunc\">\n\t\t<slot>{{ $p.t('search/action_default_label') }}</slot>\n\t</a>\n\t</template>\n\t<template v-else>\n\t<div class=\"searchbar-result-template-action\">\n\t\t<slot>{{ $p.t('search/action_default_label') }}</slot>\n\t</div>\n\t</template>`\n};","import ResultAction from \"./action.js\";\nimport ResultActions from \"./actions.js\";\n\nexport default {\n\tname: 'SearchbarResultTemplateFrame',\n\tcomponents: {\n\t\tResultAction,\n\t\tResultActions\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object,\n\t\ttitle: String,\n\t\timage: String,\n\t\timageFallback: String\n\t},\n\ttemplate: `\n\t<div class=\"searchbar-result-template-frame\">\n\t\t<div class=\"searchbar_grid\">\n\t\t\t<div class=\"searchbar_icon\">\n\t\t\t\t<result-action\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:action=\"actions.defaultaction\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\tclass=\"searchbar-rounded-image\"\n\t\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\tv-if=\"image\"\n\t\t\t\t\t\t:src=\"image\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t<div v-else>\n\t\t\t\t\t\t<i :class=\"imageFallback\"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</result-action>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_data\">\n\t\t\t\t<result-action\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:action=\"actions.defaultaction\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\tclass=\"mb-3\"\n\t\t\t\t\t>\n\t\t\t\t\t<span class=\"fw-bold\">{{ title }}</span>\n\t\t\t\t</result-action>\n\n\t\t\t\t<slot></slot>\n\n\t\t\t\t<result-actions\n\t\t\t\t\t:res=\"res\"\n\t\t\t\t\t:actions=\"actions.childactions\"\n\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t>\n\t\t\t\t</result-actions>\n\t\t\t</div>\n\t\t</div>\n\t</div>`\n};","import ResultAction from \"./action.js\";\n\nexport default {\n\tname: 'SearchbarResultTemplateActions',\n\tcomponents: {\n\t\tResultAction\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Array\n\t},\n\tmethods: {\n\t\trenderif: function(action) {\n\t\t\tif(action?.renderif === undefined) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn action.renderif(this.res);\n\t\t}\n\t},\n\ttemplate: `\n\t<div v-if=\"actions.length\" class=\"searchbar-result-template-actions\">\n\t\t<template v-for=\"(action, index) in actions\" :key=\"action.label\">\n\t\t<result-action\n\t\t\t v-if=\"this.renderif(action)\"\n\t\t\t:res=\"res\"\n\t\t\t:action=\"action\"\n\t\t\tclass=\"btn btn-primary btn-sm\"\n\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t>\n\t\t\t<i v-if=\"action.icon\" :class=\"action.icon\"></i>\n\t\t\t<span class=\"p-2\">{{ action.label }}</span>\n\t\t</result-action>\n\t\t</template>\n\t</div>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultPerson',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\temails() {\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"res.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultRoom',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tequipment() {\n\t\t\tif (!this.res.equipment)\n\t\t\t\treturn \"\";\n\t\t\treturn this.res.equipment.replace(new RegExp('<br />', 'ig'), '');\n\t\t},\n\t\taddress() {\n\t\t\tlet address = this.res.zip || '';\n\t\t\tif (this.res.city)\n\t\t\t\taddress += (address ? ' ' : '') + this.res.city;\n\t\t\tif (this.res.street)\n\t\t\t\taddress += (address ? ', ' : '') + this.res.street;\n\t\t\tif (this.res.floor)\n\t\t\t\taddress += (address ? ' / ' : '') + this.$p.t('search/result_address_floor', this.res);\n\n\t\t\treturn address || this.$p.t('search/result_address_none');\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-room\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.ort_kurzbz\"\n\t\timage-fallback=\"fas fa-door-open fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_room_address') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ address }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_workplaces') }}</div>\n\t\t\t\t<div v-if=\"mode == 'simple'\" class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.sitzplaetze }}\n\t\t\t\t</div>\n\t\t\t\t<div v-else class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<template v-if=\"res.max_person !== null && res.workplaces !== null\">\n\t\t\t\t\t\t{{ $p.t('search/result_workplaces_pc', res) }}\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t{{ $p.t('search/result_workplaces_none') }}\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_building') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.building }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_equipment') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<div v-if=\"mode == 'simple'\" class=\"no-margin-paragraphs\" v-html=\"res.austattung.replace('<br />','')\"></div>\n\t\t\t\t\t<div v-else class=\"no-margin-paragraphs\" v-html=\"equipment\"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultEmployee',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"res.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_stdkst') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.standardkostenstelle.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(stdkst, idx) in res.standardkostenstelle\" :key=\"idx\">{{ stdkst }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_stdkst_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('lehre/organisationseinheit') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.organisationunit_name.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(oe, idx) in res.organisationunit_name\" :key=\"idx\">{{ oe }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_oe_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a :href=\"'mailto:' + res.email\" class=\"d-block\">\n\t\t\t\t\t\t{{ res.email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/telefon') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a :href=\"'tel:' + res.phone\" class=\"d-block\">\n\t\t\t\t\t\t{{ res.phone }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultOrganistationunit',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-organisationunit\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\timage-fallback=\"fas fa-sitemap fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_parent_oe') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.parentoe_name }}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_group_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-if=\"res.mailgroup\" :href=\"'mailto:' + res.mailgroup\">\n\t\t\t\t\t\t{{ res.mailgroup }}\n\t\t\t\t\t</a>\n\t\t\t\t\t<template v-else>-</template>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_leader') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"res.leaders.length > 0\">\n\t\t\t\t\t\t<li v-for=\"(leader, idx) in res.leaders\" :key=\"idx\">{{ leader.name }}</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_leader_none') }}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_number_of_employees') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.number_of_people }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultStudent',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tphoto_url() {\n\t\t\tif (this.mode != 'simple')\n\t\t\t\treturn this.res.photo_url;\n\t\t\tif (this.res.foto)\n\t\t\t\treturn 'data:image/jpeg;base64,' + this.res.foto;\n\t\t\treturn null;\n\t\t},\n\t\temails() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn new Set([this.res.email]);\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-student\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image=\"photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.uid }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.matrikelnr }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultPrestudent',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\ttitle() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn this.res.name;\n\t\t\treturn this.res.name + ' (' + this.res.status + ' ' + this.res.stg_kuerzel + ')';\n\t\t},\n\t\tphoto_url() {\n\t\t\tif (this.mode != 'simple')\n\t\t\t\treturn this.res.photo_url;\n\t\t\tif (this.res.foto)\n\t\t\t\treturn 'data:image/jpeg;base64,' + this.res.foto;\n\t\t\treturn null;\n\t\t},\n\t\temails() {\n\t\t\tif (this.mode == 'simple')\n\t\t\t\treturn new Set([this.res.email]);\n\t\t\treturn new Set(this.res.email);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-prestudent\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"title\"\n\t\t:image=\"photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"res.uid\" class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.uid }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div v-if=\"res.matrikelnr\" class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.matrikelnr }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_prestudent_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.prestudent_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('lehre/studiengang') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.bezeichnung }} {{ res.orgform ? '(' + res.orgform + ')' : '' }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultDms',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\ticon() {\n\t\t\tswitch (this.res.mimetype) {\n\t\t\t\tcase 'application/pdf':\n\t\t\t\t\treturn 'file-pdf';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.wordprocessingml.document':\n\t\t\t\tcase 'application/msword':\n\t\t\t\t\treturn 'file-word';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.presentationml.presentation':\n\t\t\t\tcase 'application/mspowerpoint':\n\t\t\t\t\treturn 'file-powerpoint';\n\t\t\t\tcase 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':\n\t\t\t\tcase 'application/vnd.ms-excel':\n\t\t\t\t\treturn 'file-excel';\n\t\t\t\tcase 'application/x-zip':\n\t\t\t\tcase 'application/zip':\n\t\t\t\t\treturn 'file-zipper';\n\t\t\t\tcase 'image/jpeg':\n\t\t\t\tcase 'image/gif':\n\t\t\t\tcase 'image/png':\n\t\t\t\t\treturn 'file-image';\n\t\t\t\tdefault:\n\t\t\t\t\treturn 'file';\n\t\t\t}\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-dms\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.name\"\n\t\t:image-fallback=\"'fas fa-' + icon + ' fa-4x'\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_dms_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.dms_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_version') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.version }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_keywords') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.keywords }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('global/beschreibung') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ res.description }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</template-frame>`\n};","import TemplateFrame from \"./template/frame.js\";\n\nexport default {\n\tname: 'SearchbarResultCms',\n\tcomponents: {\n\t\tTemplateFrame\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tinject: [\n\t\t'query'\n\t],\n\tcomputed: {\n\t\tpreview() {\n\t\t\tif (this.res.template_kurzbz != 'redirect') {\n\t\t\t\tlet text = this.res.content.replace(/<!\\[CDATA\\[|\\]\\]>/ig, '').replace(/<[^>]+>/ig, '').replace(/^\\s+|\\s+$/g, '');\n\n\t\t\t\tif (text.length > 1000) {\n\t\t\t\t\t// NOTE(chris): focus on searched text!\n\t\t\t\t\tlet lower = text.toLowerCase();\n\t\t\t\t\tlet firstOccurence = Math.min(this.query.split(' ').reduce((a, c) => {\n\t\t\t\t\t\t// NOTE(chris): filter query for words that affects the content field and get the lowest index of them\n\t\t\t\t\t\tif (c == 'or')\n\t\t\t\t\t\t\treturn a;\n\t\t\t\t\t\tlet i = c.indexOf(':');\n\t\t\t\t\t\tif (i < 0 || (i > 0 && ['content', 'inhalt'].includes(c.split(':')[0]))) {\n\t\t\t\t\t\t\tlet posInText = lower.indexOf(c);\n\t\t\t\t\t\t\tif (posInText >= 0)\n\t\t\t\t\t\t\t\ta.push(posInText);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn a;\n\t\t\t\t\t}, []));\n\n\t\t\t\t\tif (firstOccurence) {\n\t\t\t\t\t\tif (firstOccurence + 997 >= text.length) {\n\t\t\t\t\t\t\tfirstOccurence = text.length - 997;\n\t\t\t\t\t\t\tif (firstOccurence > 0)\n\t\t\t\t\t\t\t\treturn '...' + text.substr(firstOccurence, 997);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn '...' + text.substr(firstOccurence, 994) + '...';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\ttext = text.substr(0, 997) + '...';\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\treturn text;\n\t\t\t}\n\t\t\t\n\t\t\tlet url = this.res.content_url;\n\t\t\tif (url.substr(0, 16) == '../index.ci.php/')\n\t\t\t\turl = this.$fhcApi.getUri(url.substr(16));\n\t\t\telse if (url.substr(0, 3) == '../')\n\t\t\t\turl = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/\\/+$/, '') + url.substr(2);\n\t\t\treturn '<a href=\"' + url + '\">' + url + '</a>';\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-cms\"\n\t\t:res=\"res\"\n\t\t:actions=\"actions\"\n\t\t:title=\"res.title\"\n\t\timage-fallback=\"fas fa-newspaper fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div v-if=\"preview\" class=\"searchbar_table\" v-html=\"preview\"></div>\n\t\t<div v-else class=\"searchbar_table text-muted\">\n\t\t\t{{ $p.t('search/result_content_none') }}\n\t\t</div>\n\t</template-frame>`\n};","import ResultPrestudent from \"./prestudent.js\";\nimport ResultStudent from \"./student.js\";\n\nexport default {\nname: 'SearchbarResultMergedstudent',\n\t\tcomponents: {\n\t\tResultPrestudent,\n\t\tResultStudent\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tprestudent() {\n\t\t\tconst prestudent = this.res.list.filter(item => item.type == 'prestudent');\n\t\t\treturn prestudent.pop();\n\t\t}\n\t},\n\ttemplate: `\n\t<result-prestudent\n\t\tv-if=\"prestudent\"\n\t\t:mode=\"mode\"\n\t\t:res=\"prestudent\"\n\t\t:actions=\"actions\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\tclass=\"searchbar-result-mergedstudent\"\n\t></result-prestudent>\n\t<result-student\n\t\tv-else\n\t\t:mode=\"mode\"\n\t\t:res=\"res.list[0]\"\n\t\t:actions=\"actions\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\tclass=\"searchbar-result-mergedstudent\"\n\t></result-student>`\n};","import TemplateFrame from \"./template/frame.js\";\nimport TemplateAction from \"./template/action.js\";\n\nexport default {\n\tname: 'SearchbarResultMergedperson',\n\tcomponents: {\n\t\tTemplateFrame,\n\t\tTemplateAction\n\t},\n\temits: [ 'actionexecuted' ],\n\tprops: {\n\t\tmode: String,\n\t\tres: Object,\n\t\tactions: Object\n\t},\n\tcomputed: {\n\t\tperson() {\n\t\t\t // Cummulate all emails\n\t\t\tconst email = this.res.list.reduce((a, c) => [...a, ...(Array.isArray(c.email) ? c.email : [c.email])], []);\n\n\t\t\t// Use person entry if available (with cummulated emails)\n\t\t\tconst person = this.res.list.find(item => item.type == 'person');\n\t\t\tif (person)\n\t\t\t\treturn {...person, email};\n\n\t\t\t // Those properties should be the same in all entries\n\t\t\tconst { person_id, name } = this.res.list[0];\n\t\t\t // Get first photo (prefer student photo if available)\n\t\t\tlet photo_url;\n\t\t\tif (this.mode == 'simple') {\n\t\t\t\tlet foto = (this.students ? this.students.find(el => el.foto) : null)?.foto;\n\t\t\t\tif (foto)\n\t\t\t\t\tfoto = 'data:image/jpeg;base64,' + foto;\n\t\t\t\tphoto_url = foto || this.employee?.photo_url;\n\t\t\t} else\n\t\t\t\tphoto_url = ((this.students ? this.students.find(el => el.photo_url) : null) || this.employee)?.photo_url;\n\n\t\t\treturn { person_id, name, photo_url, email };\n\t\t},\n\t\temployee() {\n\t\t\treturn this.res.list.find(item => [\n\t\t\t\t'employee',\n\t\t\t\t'unassigned_employee',\n\t\t\t\t'mitarbeiter',\n\t\t\t\t'mitarbeiter_ohne_zuordnung'\n\t\t\t].includes(item.type)) || null;\n\t\t},\n\t\tstudents() {\n\t\t\tconst students = this.res.list.filter(item => [\n\t\t\t\t\t'student',\n\t\t\t\t\t'prestudent',\n\t\t\t\t\t'studentcis',\n\t\t\t\t\t'studentStv'\n\t\t\t\t].includes(item.type))\n\t\t\t\t.filter((item, idx, arr) => {\n\t\t\t\t\tif (item.type === 'prestudent') {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet prestudentwithsameuidexists = arr.some(tmpitem => {\n\t\t\t\t\t\treturn tmpitem.uid === item.uid && tmpitem.type === 'prestudent';\n\t\t\t\t\t});\n\n\t\t\t\t\tif (prestudentwithsameuidexists) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}).sort((a, b) => (a.sort || 0) - (b.sort || 0));\n\t\t\treturn students.length ? students : null;\n\t\t},\n\t\temails() {\n\t\t\t// Remove duplicates\n\t\t\treturn new Set(this.person.email);\n\t\t},\n\t\ttelurl() {\n\t\t\treturn 'tel:' + this.employee?.phone;\n\t\t},\n\t\tinaktiv() {\n\t\t\treturn this.res.list.some(item => item?.aktiv === false);\n\t\t}\n\t},\n\ttemplate: `\n\t<template-frame\n\t\tclass=\"searchbar-result-mergedperson\"\n\t\t:class=\"(inaktiv) ? 'searchbar_inaktiv' : ''\"\n\t\t:res=\"person\"\n\t\t:actions=\"actions\"\n\t\t:title=\"person.name\"\n\t\t:image=\"person.photo_url\"\n\t\timage-fallback=\"fas fa-user fa-4x\"\n\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t>\n\t\t<div class=\"searchbar_table\">\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('person/person_id') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t{{ person.person_id }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_label\">{{ $p.t('search/result_emails') }}</div>\n\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t<a v-for=\"email in emails\" :key=\"email\" :href=\"'mailto:' + email\" class=\"d-block\">\n\t\t\t\t\t\t{{ email }}\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<template v-if=\"employee\">\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell\">\n\t\t\t\t\t\t<template-action\n\t\t\t\t\t\t\t:res=\"employee\"\n\t\t\t\t\t\t\t:action=\"actions.defaultactionemployee || actions.defaultaction\"\n\t\t\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ $p.t('search/result_employee') }}\n\t\t\t\t\t\t</template-action>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_stdkst') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"employee.standardkostenstelle.length > 0\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for=\"(stdkst, idx) in employee.standardkostenstelle\"\n\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ stdkst }}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_stdkst_none') }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('lehre/organisationseinheit') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<ul class=\"searchbar_inline_ul\" v-if=\"employee.organisationunit_name.length > 0\">\n\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\tv-for=\"(oe, idx) in employee.organisationunit_name\"\n\t\t\t\t\t\t\t\t:key=\"idx\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ oe }}\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<span v-else=\"\">{{ $p.t('search/result_oe_none') }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('person/telefon') }}</div>\n\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t<a :href=\"telurl\">\n\t\t\t\t\t\t\t{{ employee.phone }}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</template>\n\n\t\t\t<template v-if=\"students\">\n\t\t\t\t<template v-for=\"student in students\">\n\t\t\t\t\t<div class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell\">\n\t\t\t\t\t\t\t<template-action\n\t\t\t\t\t\t\t\tv-if=\"actions.defaultaction\"\n\t\t\t\t\t\t\t\t:res=\"student\"\n\t\t\t\t\t\t\t\t:action=\"actions.defaultactionstudent || actions.defaultaction\"\n\t\t\t\t\t\t\t\t@actionexecuted=\"$emit('actionexecuted')\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<template v-if=\"mode == 'simple'\">\n\t\t\t\t\t\t\t\t\t{{ student.studiengang_kz }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else-if=\"student.status && student.stg_kuerzel\">\n\t\t\t\t\t\t\t\t\t{{ student.status }} ({{ student.stg_kuerzel }})\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t\t\t{{ $p.t('person/student') }}\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</template-action>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.bezeichnung\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('lehre/studiengang') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.bezeichnung }} {{ student.orgform ? '(' + student.orgform + ')' : '' }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.prestudent_id\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_prestudent_id') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.prestudent_id }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.uid\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('search/result_student_uid') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.uid }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"student.matrikelnr\" class=\"searchbar_tablerow\">\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_label ps-3\">{{ $p.t('person/matrikelnummer') }}</div>\n\t\t\t\t\t\t<div class=\"searchbar_tablecell searchbar_value\">\n\t\t\t\t\t\t\t{{ student.matrikelnr }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</template>\n\t\t\t</template>\n\t\t</div>\n\t</template-frame>`\n};","import person from \"./result/person.js\";\nimport room from \"./result/room.js\";\nimport employee from \"./result/employee.js\";\nimport organisationunit from \"./result/organisationunit.js\";\nimport student from \"./result/student.js\";\nimport prestudent from \"./result/prestudent.js\";\nimport dms from \"./result/dms.js\";\nimport cms from \"./result/cms.js\";\nimport mergedStudent from \"./result/mergedstudent.js\";\nimport mergedPerson from \"./result/mergedperson.js\";\n\nexport default {\n\tname: \"FhcSearchbar\",\n\tcomponents: {\n\t\tperson,\n\t\troom,\n\t\temployee,\n\t\torganisationunit,\n\t\tstudent,\n\t\tprestudent,\n\t\tdms,\n\t\tcms,\n\t\tmergedStudent,\n\t\tmergedPerson\n\t},\n    props: [ \"searchoptions\", \"searchfunction\" ],\n    provide() {\n        return {\n            query: Vue.computed(() => this.lastQuery)\n        };\n    },\n    data: function() {\n      return {\n        searchtimer: null,\n        hidetimer: null,\n        searchsettings: {\n            searchstr: this.getSearchStr(),\n            types: this.getInitiallySelectedTypes(),\n        },\n        searchresult: [],\n        searchmode: '',\n        showresult: false,  \n        searching: false,\n        error: null,\n            abortController: null,\n\t\t\tsettingsDropdown: null,\n            lastQuery: ''\n      };\n    },\n\tcomputed: {\n\t\tsearchTypesPlaceholder() {\n\t\t\tif (!this.searchsettings.types.length) {\n\t\t\t\treturn Object.values(this.typeLabels).join(' / ');\n\t\t\t}\n\t\t\treturn this.searchsettings.types.map(type => this.typeLabels[type]).join(' / ');\n\t\t},\n\t\ttypes() {\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn [];\n\t\t\tif (Array.isArray(this.searchoptions.types))\n\t\t\t\treturn this.searchoptions.types;\n\t\t\treturn Object.keys(this.searchoptions.types);\n\t\t},\n\t\ttypeLabels() {\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn {};\n\t\t\tif (Array.isArray(this.searchoptions.types)) {\n\t\t\t\treturn this.searchoptions.types.reduce((res, type) => {\n\t\t\t\t\tres[type] = type;\n\t\t\t\t\treturn res\n\t\t\t\t}, {});\n\t\t\t}\n\t\t\treturn this.searchoptions.types;\n\t\t}\n\t},\n\ttemplate: /*html*/`\n\t\t<form\n\t\t\tref=\"searchform\"\n\t\t\tclass=\"d-flex me-3\"\n\t\t\t:class=\"searchoptions.cssclass\"\n\t\t\taction=\"javascript:void(0);\"\n\t\t\t@focusin=\"searchfocusin\"\n\t\t\t@focusout=\"searchfocusout\"\n\t\t>\n\t\t\t<div\n\t\t\t\tref=\"searchbox\"\n\t\t\t\tclass=\"h-100 input-group me-2 searchbar_searchbox\"\n\t\t\t\t:class=\"showresult ? 'open' : 'closed'\"\n\t\t\t>\n\t\t\t\t<span class=\"input-group-text\">\n\t\t\t\t\t<i class=\"fa-solid fa-magnifying-glass\"></i>\n\t\t\t\t</span>\n                <input\n                \tref=\"input\"\n                    @keyup=\"search\"\n                    @focus=\"showsearchresult\"\n                    v-model=\"searchsettings.searchstr\"\n                    class=\"form-control searchbar_input\"\n                    type=\"search\"\n                    :placeholder=\"$p.t('search/input_search_label', { types: searchTypesPlaceholder })\"\n                    :aria-label=\"$p.t('search/input_search_label', { types: searchTypesPlaceholder })\"\n                >\n\t\t\t\t<button\n\t\t\t\t\tv-if=\"searchsettings.searchstr\"\n\t\t\t\t\tclass=\"searchbar_input_clear btn btn-outline-secondary\"\n\t\t\t\t\t@click=\"clearInput\"\n\t\t\t\t>\n\t\t\t\t\t<i class=\"fas fa-close\"></i>\n\t\t\t\t</button>\n                <button\n                    data-bs-toggle=\"collapse\"\n                    data-bs-target=\"#searchSettings\"\n                    aria-expanded=\"false\"\n                    aria-controls=\"searchSettings\"\n                    ref=\"settingsbutton\"\n                    class=\"searchbar_setting_btn btn btn-secondary\"\n                    type=\"button\"\n                    :title=\"$p.t('search/button_filter_label')\"\n                    :aria-label=\"$p.t('search/button_filter_label')\"\n                >\n                    <i class=\"fas fa-cog\"></i>\n                </button>\n            </div>\n\n            <div v-show=\"showresult\"\n                 class=\"searchbar_results\" tabindex=\"-1\">\n              <div class=\"searchbar_results_scroller\" ref=\"result\">\n                <div class=\"searchbar_results_wrapper\" ref=\"results\">\n                  <div v-if=\"searching\">\n                    <i class=\"fas fa-spinner fa-spin fa-2x\"></i>\n                  </div>\n                  <div v-else-if=\"this.error !== null\">{{ error }}</div>\n                  <div v-else-if=\"searchresult.length < 1\">{{  $p.t('search/error_no_results') }}</div>\n                  <template v-else v-for=\"res in searchresult\">\n                    <component\n                        v-if=\"isValidRenderer(res.renderer)\"\n                        :is=\"res.renderer\"\n                        :mode=\"searchmode\"\n                        :res=\"res\"\n                        :actions=\"getActions(res)\"\n                        @actionexecuted=\"hideresult\"\n                    ></component>\n                    <div v-else class=\"searchbar-result text-danger fw-bold\">{{ $p.t('search/error_unknown_type', res) }}</div>\n                  </template>\n                </div>\n              </div>\n            </div>\n\n\t\t\t<div\n\t\t\t\tid=\"searchSettings\"\n\t\t\t\tref=\"settings\"\n\t\t\t\t@[\\`shown.bs.collapse\\`]=\"handleShowSettings\"\n\t\t\t\t@[\\`hide.bs.collapse\\`]=\"handleHideSettings\"\n\t\t\t\tclass=\"top-100 end-0 searchbar_settings text-white collapse\"\n\t\t\t\ttabindex=\"-1\"\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tv-if=\"types.length > 0\"\n\t\t\t\t\tclass=\"d-flex flex-column m-3\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"fw-light mb-2\">\n\t\t\t\t\t\t{{ $p.t('search/applyfilter_label') }}\n\t\t\t\t\t</span>\n\t\t\t\t\t<template\n\t\t\t\t\t\tv-for=\"(label, value) in typeLabels\"\n\t\t\t\t\t\t:key=\"value\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div class=\"form-check form-switch\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tclass=\"fhc-switches form-check-input\"\n\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\trole=\"switch\"\n\t\t\t\t\t\t\t\t:id=\"$.uid + 'search_type_' + value\"\n\t\t\t\t\t\t\t\t:value=\"value\"\n\t\t\t\t\t\t\t\tv-model=\"searchsettings.types\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<label\n\t\t\t\t\t\t\t\tclass=\"ps-2 form-check-label non-selectable\"\n\t\t\t\t\t\t\t\t:for=\"$.uid + 'search_type_' + value\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{{ label }}\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</template>\n\t\t\t\t</div>\n            </div>\n\t\t</form>\n    `,\n    watch:{\n\t\t'searchsettings.searchstr': function (newSearchValue) {\n\t\t\tif(this.searchoptions.origin){\n\t\t\t\tsessionStorage.setItem(`${this.searchoptions.origin}_searchstr`,newSearchValue);\n\t\t\t}\n\t\t},\n\t\t'searchsettings.types'(newValue) {\n\t\t\tif (Array.isArray(newValue) && newValue.length === 0) {\n\t\t\t\tthis.searchsettings.types = [...this.types];\n\t\t\t}\n\t\t\t// stores the search types in the localstorage, only if the newValue is also an array\n\t\t\tif (Array.isArray(newValue) && this.searchoptions.origin) {\n\t\t\t\tlocalStorage.setItem(`${this.searchoptions.origin}_searchtypes`, JSON.stringify(newValue));\n\t\t\t}\n\t\t\tthis.search();\n\t\t}\n    },\n\tmounted(){\n\t\tthis.settingsDropdown = new bootstrap.Collapse(this.$refs.settings, {\n\t\t\ttoggle: false\n\t\t});\n\n\t\tif (!this.searchoptions.origin){\n\t\t\tconsole.warn(\"No origin defined in the searchoptions for the searchbar, please define the origin property in the searchbaroptions to allow reliable storage of searchstr and searchtypes accross applications.\");\n\t\t}\n\t},\n\tupdated() {\n\t\tif(this.showresult) {\n\t\t\tVue.nextTick(() => {\n\t\t\t\tthis.calcSearchResultHeight();\n\t\t\t});\n\t\t}\n\t},\n    methods: {\n    \tclearInput() {\n    \t\tthis.searchsettings.searchstr = \"\";\n    \t\tthis.hideresult();\n    \t\tthis.$refs.input.focus()\n    \t},\n\t\tgetInitiallySelectedTypes() {\n\t\t\tlet result = false;\n\t\t\tif (this.searchoptions.origin) {\n\t\t\t\tlet localStorageValue = localStorage.getItem(`${this.searchoptions.origin}_searchtypes`);\n\t\t\t\tif (localStorageValue) {\n\t\t\t\t\tresult = JSON.parse(localStorageValue);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (result)\n\t\t\t\treturn result;\n\t\t\tif (!this.searchoptions.types)\n\t\t\t\treturn [];\n\t\t\tif (Array.isArray(this.searchoptions.types))\n\t\t\t\treturn [...this.searchoptions.types];\n\t\t\treturn Object.keys(this.searchoptions.types);\n\t\t},\n\t\tgetSearchStr: function(){\n\t\t\tif (!this.searchoptions.origin)\n\t\t\t\treturn '';\n\t\t\treturn sessionStorage.getItem(`${this.searchoptions.origin}_searchstr`) ?? '';\n\t\t},\n\t\tcheckSettingsVisibility: function(event) {\n\t\t\t// hides the settings collapsible if the user clicks somewhere else\n\t\t\tif (!this.$refs.settings.contains(event.target))\n\t\t\t{\n\t\t\t\tthis.settingsDropdown.hide();\n\t\t\t}\n\t\t},\n\t\thandleShowSettings: function() {\n\t\t\t// adds the event listener checkSettingsVisibility only when the collapsible is shown\n\t\t\tdocument.addEventListener(\"click\", this.checkSettingsVisibility);\n\t\t},\n\t\thandleHideSettings: function () {\n\t\t\t// removes the event listener checkSettingsVisibility when the collapsible is hidden\n\t\t\tdocument.removeEventListener(\"click\", this.checkSettingsVisibility);\n\t\t},\n\t\tcalcSearchResultHeight: function() {\n\t\t\tconst rect = this.$refs.results.getBoundingClientRect();\n\t\t\tif( rect.height > 0 && rect.height < (window.innerHeight * 0.8) ) {\n\t\t\t\tthis.$refs.result.style.height = Math.ceil(rect.height + 16) + 'px';\n\t\t\t} else {\n\t\t\t\tthis.$refs.result.style.height = Math.floor(window.innerHeight * 0.8) + 'px';\n\t\t\t}\n\t\t},\n        calcSearchResultExtent: function() {\n\t\t\tif(!this.showresult) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(this.searchoptions?.calcheightonly === undefined \n\t\t\t\t|| this.searchoptions.calcheightonly === false) {\n\t\t\t\tvar rect = this.$refs.searchbox.getBoundingClientRect();\n\t\t\t\tthis.$refs.result.style.top = Math.floor(rect.bottom + 3) + 'px';\n\t\t\t\tthis.$refs.result.style.right = Math.floor(rect.right) + 'px';\n\t\t\t\tthis.$refs.result.style.width = Math.floor(rect.width) + 'px';\n\t\t\t}\n            this.calcSearchResultHeight();\n        },\n        search: function() {\n            if( this.searchtimer !== null ) {\n                clearTimeout(this.searchtimer);\n            }\n            if (this.abortController) {\n                this.abortController.abort();\n                this.abortController = null;\n            }\n            if( this.searchsettings.searchstr.length >= 2 ) {\n                this.calcSearchResultExtent();\n                this.searchtimer = setTimeout(\n                    this.callsearchapi,\n                    500\n                );\n            } else {                \n                this.showresult = false;\n            }\n        },\n        callsearchapi: function() {\n            this.error = null;\n            this.searchresult.splice(0, this.searchresult.length);\n            this.searching = true;\n            this.showsearchresult();\n            if(this.searchsettings.types.length === 0) {\n                this.error = this.$p.t('search/error_missing_type');\n                this.searching = false;\n                return;\n            }\n\n            if (this.abortController)\n                this.abortController.abort();\n            this.abortController = new AbortController();\n\n            this.searchfunction(this.searchsettings, { timeout: 50000, signal: this.abortController.signal })\n            .then(response=>{\n                if (!response.data) {\n                    this.error = this.$p.t('search/error_general');\n                } else {\n                    let res = response.data.map(el => el.data ? {...el, ...JSON.parse(el.data)} : el);\n                    this.lastQuery = response.meta.searchstring;\n                    if (this.searchoptions.mergeResults) {\n                        let counter = 0;\n                        let mergeTypes = [];\n                        let mergedType = 'merged-';\n                        let mergeKey = '';\n\n                        switch (this.searchoptions.mergeResults) {\n                        case 'student':\n                            mergeTypes = ['student', 'prestudent'];\n                            mergedType += this.searchoptions.mergeResults;\n                            mergeKey = 'uid';\n                            break;\n                        case 'person':\n                            mergeTypes = ['person', 'employee', 'student', 'prestudent'];\n                            mergedType += this.searchoptions.mergeResults;\n                            mergeKey = 'person_id';\n                            break;\n                        }\n\n                        if (mergeTypes.length) {\n                            res = Object.values(res.reduce((a, c) => {\n                                if (!mergeTypes.includes(c.renderer)) {\n                                    a['nomerge' + counter++] = c;\n                                } else if (c[mergeKey] === null) {\n                                    a['nomerge' + counter++] = c;\n                                } else if (a[c[mergeKey]] === undefined) {\n                                    a[c[mergeKey]] = {\n                                        rank: c.rank,\n                                        renderer: mergedType,\n                                        type: mergedType,\n                                        list: [c]\n                                    };\n                                } else {\n                                    a[c[mergeKey]].list.push(c);\n                                    if (c.rank > a[c[mergeKey]].rank)\n                                        a[c[mergeKey]].rank = c.rank;\n                                }\n                                return a;\n                            }, {})).sort((a, b) => b.rank - a.rank);\n                        }\n                    }\n                    this.searchresult = res;\n                    this.searchmode = response.meta.mode;\n                }\n                this.searching = false;\n                this.retry = 0;\n            })\n            .catch(error=> {\n                if (error.code == \"ERR_CANCELED\") {\n                    return this.retry = 0;\n                }\n                if (error.code == \"ECONNABORTED\" && this.retry) {\n                    this.retry--;\n                    return this.callsearchapi();\n                }\n\n                this.error = this.$p.t('search/error_general', error);\n                this.searching = false;\n                this.retry = 0;\n            });\n        },\n        refreshsearch: function() {\n          this.search();\n          this.togglesettings();\n        },\n        hideresult: function() {\n            this.showresult = false;\n            window.removeEventListener('resize', this.calcSearchResultExtent);\n        },\n        showsearchresult: function() {\n            if( this.searchsettings.searchstr.length >= 2 ) {\n                this.showresult = true;\n                window.addEventListener('resize', this.calcSearchResultExtent);\n\t\t\t\tthis.calcSearchResultExtent();\n            }\n        },\n        searchfocusin: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            if( this.hidetimer !== null ) {\n                clearTimeout(this.hidetimer);\n            }\n\t\t\tif (this.searchsettings.searchstr.length >= 2\n\t\t\t\t&& this.searchresult.length === 0) {\n\t\t\t\tthis.search();\n\t\t\t}\n        },\n        searchfocusout: function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.hidetimer = setTimeout(\n                this.hideresult,\n                100\n            );\n        },\n        dash2camelCase(string) {\n            return string.replace(/-([a-z])/g, g => g[1].toUpperCase());\n        },\n        isValidRenderer(renderer) {\n            const camelCaseRenderer = this.dash2camelCase(renderer);\n            return Object.keys(this.$.components).includes(camelCaseRenderer);\n        },\n\t\tgetActions(res) {\n\t\t\tlet actions = this.searchoptions.actions[this.dash2camelCase(res.renderer)];\n\t\t\tif (actions) {\n\t\t\t\treturn actions;\n\t\t\t}\n\t\t\treturn this.searchoptions.actions[res.type];\n\t\t}\n    }\n};\n","import { CoreFilterAPIs } from '../../../../js/components/filter/API.js';\n\nlet protocol_host = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\t \n\nexport const searchbaroptions = {\n    cssclass: \"position-relative\",\n    origin: 'pv21',\n    types: [\n        \"person\",\n        \"raum\",\n        \"mitarbeiter\",\n        \"mitarbeiter_ohne_zuordnung\",\n/*\n        \"student\",\n        \"prestudent\",\n        \"document\",\n        \"cms\",\n*/\n        \"organisationunit\"\n    ],\n    actions: {\n        person: {\n            defaultaction: {\n                type: \"link\",\n                action: function(data) { \n                    return data.profil;\n                }\n            },\n            childactions: [\n                {\n                    label: \"testchildaction1\",\n                    icon: \"fas fa-check-circle\",\n                    type: \"function\",\n                    action: function(data) { \n                        alert('person testchildaction 01 ' + JSON.stringify(data)); \n                    }\n                },\n                {\n                    label: \"testchildaction2\",\n                    icon: \"fas fa-file-csv\",\n                    type: \"function\",\n                    action: function(data) { \n                        alert('person testchildaction 02 ' + JSON.stringify(data)); \n                    }\n                }\n            ]\n        },\n\t\traum: {\n\t\t\tdefaultaction: {\n\t\t\t\ttype: \"link\",\n\t\t\t\trenderif: function(data) {\n\t\t\t\t\tif(data.content_id === \"N/A\"){\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t},\n\t\t\t\taction: function(data) { \n\t\t\t\t\tconst link= FHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\t\t\t\t'cms/content.php?content_id=' + data.content_id;\n\t\t\t\t\treturn link;\n\t\t\t\t}\n\t\t\t},\n\t\t\tchildactions: [\n\t\t\t\t{\n\t\t\t\t\tlabel: \"LV-Plan\",\n\t\t\t\t\ticon: \"fas fa-bookmark\",\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\taction: function(data) {\n\t\t\t\t\t\tconst link = FHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\t\t\t\t\t'cis/private/lvplan/stpl_week.php?type=ort&ort_kurzbz=' + data.ort_kurzbz;\n\t\t\t\t\t\treturn link;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlabel: \"Rauminformation\",\n\t\t\t\t\ticon: \"fas fa-info-circle\",\n\t\t\t\t\ttype: \"link\",\n\t\t\t\t\trenderif: function(data) {\n\t\t\t\t\t\tif(data.content_id === \"N/A\"){\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t},\n\t\t\t\t\taction: function(data) {\n\t\t\t\t\tconst link= FHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\t\t\t\t'cms/content.php?content_id=' + data.content_id;\n\t\t\t\t\t\treturn link;\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t]\n\t\t},\n        employee: {\n            defaultaction: {\n                type: \"link\",\n                action: (data) => {\n                    return `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees/${data.person_id}/${data.uid}/summary`;\n                }\n            },\n            childactions: [\n                {\n                    label: \"Dienstverhltnis\",\n                    icon: \"fas fa-address-book\",\n                    type: \"link\",\n                    action: function(data) {\n                        return `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees/${data.person_id}/${data.uid}/contract`;\n                    }\n                },\n                {\n                    label: \"Stammdaten\",\n                    icon: \"fas fa-address-card\",\n                    type: \"link\",\n                    action: function(data) {\n                        return `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees/${data.person_id}/${data.uid}`;\n                    }\n                },\n                {\n                    label: \"Vertragshistorie\",\n                    icon: \"fas fa-address-book\",\n                    type: \"link\",\n                    action: function(data) {\n                        return `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees/${data.person_id}/${data.uid}/contract#dvhistory`;\n                    }\n                },\n/*\n                {\n                    label: \"testchildaction3\",\n                    icon: \"fas fa-bell\",\n                    type: \"function\",\n                    action: function(data) { \n                        alert('employee testchildaction 03 ' + JSON.stringify(data)); \n                    }\n                },\n                {\n                    label: \"testchildaction4\",\n                    icon: \"fas fa-calculator\",\n                    type: \"function\",\n                    action: function(data) { \n                        alert('employee testchildaction 04 ' + JSON.stringify(data)); \n                    }\n                }\n */\n            ]\n        },\n        organisationunit: {\n            defaultaction: {\n                type: \"function\",\n                action: function(data) { \n                    //alert('organisationunit defaultaction ' + JSON.stringify(data));\n                    const filterFields = {\n                        \"filterUniqueId\":\"extensions/FHC-Core-Personalverwaltung/Employees/index\",\n                        \"filterType\":\"EmployeeViewer\",\n                        \"filterFields\":[{\"name\":\"OE Key\",\"operation\":\"equal\",\"condition\":data.oe_kurzbz}]\n                    };\n\t\t\t\t\tlet protocol_host = FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n\t\t\t\t\taxios.post(protocol_host + '/api/frontend/v1/filter/applyFilterFields', filterFields).then(function() {\n                        // redirect\n                        window.location.href = `${protocol_host}/extensions/FHC-Core-Personalverwaltung/Employees`;\n                    });\n                }\n            },\n            childactions: []\n        }\n    }\n};\n","export const Modal = {\n\tname: 'Modal',\n    props: {\n        type: String,\n        title: String,\n        noscroll: Boolean\n    },\n    expose: ['show', 'hide'],\n    setup(props, { emit }) {\n       \n        let modalEle = Vue.ref(null);\n        let thisModalObj;\n\n        Vue.onMounted(() => {\n            thisModalObj = new bootstrap.Modal(modalEle.value);\n        });\n        const show = () => {\n            thisModalObj.show();\n        }\n        function hide() {\n            thisModalObj.hide();\n        }\n\n        return { modalEle, show, hide };\n    },\n\n    template:`\n    <div class=\"modal fade \" id=\"customModal\" tabindex=\"-1\" aria-labelledby=\"\"\n        aria-hidden=\"true\" ref=\"modalEle\">\n        <div class=\"modal-dialog modal-lg\" :class=\"(!noscroll) ? 'modal-dialog-scrollable' : ''\">\n            <div class=\"modal-content\">\n                <div class=\"modal-header\">\n                    <h5 class=\"modal-title\" id=\"customModalLabel\">{{ title }}</h5>\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n                </div>\n                <div class=\"modal-body\">\n                    <slot name=\"body\" />\n                </div>\n                <div class=\"modal-footer\">\n                    <slot name=\"footer\"></slot>\n                    <!-- button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\n                        OK\n                    </button-->\n                </div>\n            </div>\n        </div>\n    </div>`\n};\n","export const formatter = {\n\tformatDateGerman: function(date) {\n\t\tif (typeof date == 'undefined') return '';\n\n\t\tconst re = /([0-9]{4})-([0-9]{2})-([0-9]{2})/;\n\t\tvar matches = null;\n\n\t\tif( null !== date && null !== (matches = date.match(re)) ) {\n\t\t\treturn matches[3] + '.' + matches[2] + '.' + matches[1];\n\t\t} else {\n\t\t\treturn date;\n\t\t}\n\t},\n\tformatCurrencyGerman: function(amount) {\n\t\treturn new Intl.NumberFormat(\n\t\t\t\"de-DE\",\n\t\t\t{ minimumFractionDigits: 2, maximumFractionDigits: 2 }\n\t\t).format(amount);\n\t}\n}\n","/**\n * Copyright (C) 2025 fhcomplete.org\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <https://www.gnu.org/licenses/>.\n */\n\nexport default {\n\tsearch(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/search',\n\t\t\tparams\n\t\t};\n\t},\n\tsearchCis(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/searchCis',\n\t\t\tparams\n\t\t};\n\t},\n\tsearchStv(params) {\n\t\treturn {\n\t\t\tmethod: 'post',\n\t\t\turl: '/api/frontend/v1/searchbar/searchStv',\n\t\t\tparams\n\t\t};\n\t}\n};","export default {\n  calculateValorisation(valorisierunginstanz_kurzbz) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/Valorisierung/calculateValorisation',\n      params: { valorisierunginstanz_kurzbz }\n    }\n  },\n  doValorisation(valorisierunginstanz_kurzbz) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/Valorisierung/doValorisation',\n      params: { valorisierunginstanz_kurzbz }\n    }\n  },\n  getValorisierungsInstanzen() {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/Valorisierung/getValorisierungsInstanzen',\n    }\n  },\n  getGehaelter(gehaelter_stichtag, gehaelter_oe_kurzbz) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/Valorisierung/getGehaelter',\n      params: {'gehaelter_stichtag': gehaelter_stichtag, 'gehaelter_oe_kurzbz': gehaelter_oe_kurzbz},\n    }\n  },\n  getValorisationInfo(valorisierunginstanz_kurzbz) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/Valorisierung/getValorisationInfo',\n      params: {'valorisierunginstanz_kurzbz': valorisierunginstanz_kurzbz},\n    }\n  },\n  getAllUnternehmen() {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/Valorisierung/getAllUnternehmen',\n    }\n  }\n}\n","import {CoreNavigationCmpt} from '../../../../../js/components/navigation/Navigation.js';\nimport {CoreFilterCmpt} from \"../../../../../js/components/filter/Filter.js\";\nimport searchbar from \"../../../../../js/components/searchbar/searchbar.js\";\nimport {searchbaroptions} from \"../../apps/common.js\";\nimport { Modal } from '../Modal.js';\nimport {formatter} from './valorisationformathelper.js';\nimport ApiSearchbar from  '../../../../../js/api/factory/searchbar.js';\nimport ApiValorisierung from '../../api/factory/valorisierung.js';\n\nexport const ValorisationSelection = {\n\tname: 'ValorisationSelection',\n\tcomponents: {\n\t\t\tsearchbar,\n\t\t\tCoreNavigationCmpt,\n\t\t\tCoreFilterCmpt,\n\t\t\tModal,\n\t\t\tdatepicker: VueDatePicker\n\t\t},\n\t\tinject: ['$api', '$fhcAlert'],\n\t\tdata() {\n\t\t\treturn \t{\n\t\t\t\tsearchbaroptions: searchbaroptions,\n\t\t\t\tappSideMenuEntries: {},\n\t\t\t\talleValorisierungsinstanzen: [],\n\t\t\t\tvalorisierungInfoData: [],\n\t\t\t\talleUnternehmen: [],\n\t\t\t\tvalorisierungsinstanz_kurzbz: '',\n\t\t\t\tvalorisierung_oe_kurzbz: '',\n\t\t\t\tvalorisierungsdatum: '',\n\t\t\t\tgehaelter_oe_kurzbz: '',\n\t\t\t\tgehaelter_stichtag: '',\n\t\t\t\tajaxUrl: FHC_JS_DATA_STORAGE_OBJECT.app_root +\n\t\t\t\t\tFHC_JS_DATA_STORAGE_OBJECT.ci_router +\n\t\t\t\t\t'/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/Valorisierung/calculateValorisation',\n\t\t\t\tformatter: formatter,\n\t\t\t\tdownloadconfig: {\n\t\t\t\t\t'csv': {\n\t\t\t\t\t\tformatter:'csv',\n\t\t\t\t\t\tfile: 'pv21_valorisation.csv',\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tdelimiter: ';',\n\t\t\t\t\t\t\tbom: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tcreated: function() {\n\t\t\tthis.getValorisierungsInstanzen();\n\t\t\tthis.getAllUnternehmen();\n\t\t},\n\t\tmethods: {\n\t\t\tsearchfunction: function(params) {\n\t\t\t\treturn this.$api.call(ApiSearchbar.search(params));\n\t\t\t},\n\t\t\tgetValorisierungsInstanzen: function() {\n\t\t\t\tconst res = this.$api.call(ApiValorisierung.getValorisierungsInstanzen())\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.alleValorisierungsinstanzen = response.data;\n\t\t\t\t\t\tthis.valorisierungsdatum = '';\n\t\t\t\t\t\tif (this.alleValorisierungsinstanzen.length > 0)\n\t\t\t\t\t\t\tthis.valorisierung_oe_kurzbz = this.alleValorisierungsinstanzen[0].oe_kurzbz;\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tthis.valorisierung_oe_kurzbz = '';\n\t\t\t\t\t})\n\t\t\t\t\t.catch(this.handleErrors);\n\t\t\t},\n\t\t\tnewSideMenuEntryHandler: function(payload) {\n\t\t\t\t\tthis.appSideMenuEntries = payload;\n\t\t\t},\n\t\t\tcalculateValorisation: function() {\n\t\t\t\tif( this.valorisierungsinstanz_kurzbz === '' ) {\n\t\t\t\t\tthis.$fhcAlert.alertWarning('Keine ValorisierungsInstanz ausgewhlt.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$refs.valorisationTabulator.tabulator.dataLoader.alertLoader();\n\t\t\t\tconst res = this.$api.call(ApiValorisierung.calculateValorisation(this.valorisierungsinstanz_kurzbz))\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.$refs.valorisationTabulator.tabulator.setData(response.data);\n\t\t\t\t\t\tthis.$refs.valorisationTabulator.tabulator.dataLoader.clearAlert();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(this.handleErrors);\n\t\t\t},\n\t\t\tdoValorisation: function() {\n\t\t\t\tif( this.valorisierungsinstanz_kurzbz === '' ) {\n\t\t\t\t\tthis.$fhcAlert.alertWarning('Keine ValorisierungsInstanz ausgewhlt.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$refs.valorisationTabulator.tabulator.dataLoader.alertLoader();\n\t\t\t\tconst res = this.$api.call(ApiValorisierung.doValorisation(this.valorisierungsinstanz_kurzbz))\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.$refs.valorisationTabulator.tabulator.setData([]);\n\t\t\t\t\t\tthis.getValorisierungsInstanzen();\n\t\t\t\t\t\tthis.$fhcAlert.alertSuccess('Valorisierung erfolgreich abgeschlossen');\n\t\t\t\t\t\tthis.$refs.valorisationTabulator.tabulator.dataLoader.clearAlert();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(this.handleErrors);\n\t\t\t},\n\t\t\tgetGehaelter: function() {\n\t\t\t\tif( this.gehaelter_stichtag === '' ) {\n\t\t\t\t\tthis.$fhcAlert.alertWarning('Kein Stichtagsdatum ausgewhlt.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.$refs.valorisationTabulator.tabulator.dataLoader.alertLoader();\n\t\t\t\tconst res = this.$api.call(ApiValorisierung.getGehaelter(this.gehaelter_stichtag, this.gehaelter_oe_kurzbz))\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.$refs.valorisationTabulator.tabulator.setData(response.data);\n\t\t\t\t\t\tthis.$refs.valorisationTabulator.tabulator.dataLoader.clearAlert();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(this.handleErrors);\n\t\t\t},\n\t\t\tgetValorisationInfo: function() {\n\t\t\t\tif( this.valorisierungsinstanz_kurzbz === '' ) {\n\t\t\t\t\tthis.$fhcAlert.alertWarning('Keine ValorisierungsInstanz ausgewhlt.');\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst res = this.$api.call(ApiValorisierung.getValorisationInfo(this.valorisierungsinstanz_kurzbz))\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.valorisierungInfoData = response.data;\n\t\t\t\t\t\tthis.$refs.infoModalRef.show();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(this.handleErrors);\n\t\t\t},\n\t\t\toeChanged: function() {\n\t\t\t\t// reset Valorisierungdatum for correct dropdown display\n\t\t\t\tthis.valorisierungsdatum = '';\n\t\t\t},\n\t\t\tdatumChanged: function() {\n\t\t\t\tlet valInstanzen = this.alleValorisierungsinstanzen.filter(vi => vi.valorisierungsdatum == this.valorisierungsdatum && vi.oe_kurzbz == this.valorisierung_oe_kurzbz);\n\n\t\t\t\t// set Valorisierungsinstanz to first in list when datum is changed\n\t\t\t\tif (valInstanzen.length > 0)\n\t\t\t\t\tthis.valorisierungsinstanz_kurzbz = valInstanzen[0].value;\n\t\t\t},\n\t\t\tgetAllUnternehmen: function() {\n\t\t\t\tconst res = this.$api.call(ApiValorisierung.getAllUnternehmen())\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tthis.alleUnternehmen = response.data;\n\t\t\t\t\t\tthis.gehaelter_oe_kurzbz = '';\n\t\t\t\t\t\tif (this.alleUnternehmen.length > 0) this.gehaelter_oe_kurzbz = this.alleUnternehmen[0].oe_kurzbz;\n\t\t\t\t\t})\n\t\t\t\t\t.catch(this.handleErrors);\n\t\t\t},\n\t\t\thandleErrors: function(response) {\n\t\t\t\tif (response.hasOwnProperty('response') && response.response?.data?.errors) {\n\t\t\t\t\tfor (let error of response.response.errors) {\n\t\t\t\t\t\tthis.$fhcAlert.handleSystemError(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.$fhcAlert.handleSystemError(response);\n\t\t\t\t}\n\t\t\t\tthis.$refs.valorisationTabulator.tabulator.dataLoader.clearAlert();\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tgetFHCUrl: function() {\n\t\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n\t\t\t},\n\t\t\ttabulatorOptions: function() {\n\t\t\t\tconst moneyformatterparams = {\n\t\t\t\t\tdecimal: \",\",\n\t\t\t\t\tthousand: \".\",\n\t\t\t\t\tsymbol: false,\n\t\t\t\t\tsymbolAfter: false,\n\t\t\t\t\tnegativeSign: true,\n\t\t\t\t\tprecision: 2\n\t\t\t\t};\n\n\t\t\t\tconst sumsDownload = function(value, data, type, params, column){\n\t\t\t\t\treturn value.toString().replace('.', ',');\n\t\t\t\t}\n\n\t\t\t\tconst formatDate = function(cell, formatterParams, onRendered) {\n\t\t\t\t\treturn formatter.formatDateGerman(cell.getValue());\n\t\t\t\t};\n\n\t\t\t\tconst nullValueFormatter = function(row) {\n\t\t\t\t\tconst rowData = row.getData();\n\n\t\t\t\t\tfor (let column in rowData) {\n\t\t\t\t\t\trowData[column] = rowData[column] ?? '-';\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tconst formatWochenstunden = function(cell) {\n\t\t\t\t\tlet value = cell.getValue();\n\t\t\t\t\tlet retval = (typeof value === 'string') ? value.replace(/\\./, ',') : value;\n\t\t\t\t\treturn retval;\n\t\t\t\t};\n\n\t\t\t\treturn {\n\t\t\t\t\theight: '75vh',\n\t\t\t\t\t// Unique ID\n\t\t\t\t\tindex: 'dienstverhaeltnis_id',\n\n\t\t\t\t\t// @see: https://tabulator.info/docs/5.2/layout#layout\n\t\t\t\t\t// This is the default option and can be omitted.\n\t\t\t\t\tlayout: 'fitDataStretch',\n\n\t\t\t\t\tfooterElement: '<div><p><span id=\"filteredrows_count\"></span> von <span id=\"totalrows_count\"></span></p><p>&sum; <span id=\"label_gehaelter_before\"></span>: <span id=\"sumpreval\"></span></p><p id=\"sumpostval_text\">&sum; nach Valorisierung: <span id=\"sumpostval\"></span></p><p id=\"differenz_text\">Differenz: <span id=\"valdifferenz\"></span></p></div>',\n\n\t\t\t\t\trowFormatter: nullValueFormatter,\n\n\t\t\t\t\t// Column definitions\n\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t{title: 'Mitarbeiter', field: 'mitarbeiter', headerFilter: true, frozen: true, minWidth: 250},\n\t\t\t\t\t\t{title: 'Personalnummer', field: 'personalnummer', visible: false, download:true},\n\t\t\t\t\t\t{title: 'Summe Gehalt vor Valorisierung', field: 'sumsalarypreval', headerFilter: true, hozAlign: 'right', sorter: 'number', formatter:\"money\", formatterParams: moneyformatterparams, accessorDownload: sumsDownload},\n\t\t\t\t\t\t{title: 'Summe Gehalt nach Valorisierung', field: 'sumsalarypostval', headerFilter: true, hozAlign: 'right', sorter: 'number', formatter:\"money\", formatterParams: moneyformatterparams, accessorDownload: sumsDownload},\n\t\t\t\t\t\t{title: 'Valorisierungs-Methode', field: 'valorisierungmethode', headerFilter: true},\n\t\t\t\t\t\t{title: 'Standard-Kostenstelle', field: 'stdkst', headerFilter: true},\n\t\t\t\t\t\t{title: 'Diszpl. Zuordnung', field: 'diszplzuordnung', headerFilter: true},\n\t\t\t\t\t\t{title: 'OE-Pfad', field: 'oe_pfad', headerFilter: true, download:false},\n\t\t\t\t\t\t{title: 'DVId', field: 'dienstverhaeltnis_id', visible: false},\n\t\t\t\t\t\t{title: 'Vertragsart', field: 'vertragsart', headerFilter: true, frozen: true},\n\t\t\t\t\t\t{title: 'Unternehmen', field: 'unternehmen', headerFilter: true, frozen: true},\n\t\t\t\t\t\t{title: 'Wochenstunden', field: 'wochenstunden', headerFilter: true, frozen: true, formatter: formatWochenstunden, sorter: 'number'},\n\t\t\t\t\t\t{title: 'Teilzeittyp', field: 'teilzeittyp', headerFilter: true, frozen: true},\n\t\t\t\t\t\t{title: 'DV-Beginn', field: 'dvvon', headerFilter: true, hozAlign: 'center', frozen: true, formatter: formatDate, accessorDownload: formatter.formatDateGerman},\n\t\t\t\t\t\t{title: 'DV-Ende', field: 'dvbis', headerFilter: true, hozAlign: 'center', frozen: true, formatter: formatDate, accessorDownload: formatter.formatDateGerman}\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t},\n\t\t\ttabulatorEvents: function() {\n\t\t\t\treturn [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"event\": \"tableBuilt\",\n\t\t\t\t\t\t\"handler\": function() {\n\t\t\t\t\t\t\tconsole.log('valorisation table built');\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"event\": \"dataFiltered\",\n\t\t\t\t\t\t\"handler\": function(filters, rows) {\n\t\t\t\t\t\t\tvar elfiltered = document.getElementById(\"filteredrows_count\");\n\t\t\t\t\t\t\tvar elsumpreval = document.getElementById(\"sumpreval\");\n\t\t\t\t\t\t\tvar elsumpostval = document.getElementById(\"sumpostval\");\n\t\t\t\t\t\t\tvar elvaldifferenz = document.getElementById(\"valdifferenz\");\n\t\t\t\t\t\t\tvar sumpreval = 0;\n\t\t\t\t\t\t\tvar sumpostval = 0;\n\t\t\t\t\t\t\t// if no valorisation is calculated: there is no salary postval\n\t\t\t\t\t\t\tvar noSalaryPostval = true;\n\n\t\t\t\t\t\t\tfor( var row of rows ) {\n\t\t\t\t\t\t\t\tvar rowData = row.getData();\n\t\t\t\t\t\t\t\tsumpreval += rowData.sumsalarypreval;\n\t\t\t\t\t\t\t\tif (rowData.sumsalarypostval != null \n\t\t\t\t\t\t\t\t\t&& false === isNaN(rowData.sumsalarypostval)) {\n\t\t\t\t\t\t\t\t\tsumpostval += rowData.sumsalarypostval;\n\t\t\t\t\t\t\t\t\tnoSalaryPostval = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// hide salary after valorisation, if it doesn't exist\n\t\t\t\t\t\t\tdocument.getElementById('sumpostval_text').style.display = noSalaryPostval ? 'none' : 'block';\n\t\t\t\t\t\t\tdocument.getElementById('differenz_text').style.display = noSalaryPostval ? 'none' : 'block';\n\n\t\t\t\t\t\t\t// and use correct text (with/without valorisation)\n\t\t\t\t\t\t\tdocument.getElementById('label_gehaelter_before').textContent = noSalaryPostval ? 'Gehaelter' : 'vor Valorisierung';\n\n\t\t\t\t\t\t\tconst moneyformatter = this.modules.format.getFormatter('money');\n\t\t\t\t\t\t\tconst moneyformatterparams = {\n\t\t\t\t\t\t\t\tdecimal: \",\",\n\t\t\t\t\t\t\t\tthousand: \".\",\n\t\t\t\t\t\t\t\tsymbol: \"EUR \",\n\t\t\t\t\t\t\t\tsymbolAfter: false,\n\t\t\t\t\t\t\t\tnegativeSign: true,\n\t\t\t\t\t\t\t\tprecision: 2\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconst sumpreval_wrapper = {\n\t\t\t\t\t\t\t\tgetValue: function() {\n\t\t\t\t\t\t\t\t\treturn sumpreval;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconst sumpostval_wrapper = {\n\t\t\t\t\t\t\t\tgetValue: function() {\n\t\t\t\t\t\t\t\t\treturn sumpostval;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tconst differenz_wrapper = {\n\t\t\t\t\t\t\t\tgetValue: function() {\n\t\t\t\t\t\t\t\t\treturn (sumpostval - sumpreval);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\telfiltered.innerHTML = rows.length;\n\t\t\t\t\t\t\telsumpreval.innerHTML = moneyformatter(sumpreval_wrapper, moneyformatterparams);\n\t\t\t\t\t\t\telsumpostval.innerHTML = moneyformatter(sumpostval_wrapper, moneyformatterparams);\n\t\t\t\t\t\t\telvaldifferenz.innerHTML = moneyformatter(differenz_wrapper, moneyformatterparams);\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tevent: \"dataLoaded\",\n\t\t\t\t\t\thandler: function(data) {\n\t\t\t\t\t\t\tvar el = document.getElementById(\"totalrows_count\");\n\t\t\t\t\t\t\tel.innerHTML = (false !== data && typeof data != 'undefined') ? data.length : 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t];\n\t\t\t},\n\t\t\tvalorisierungsOrganisationseinheiten: function() {\n\t\t\t\tlet oes = [...new Map(\n\t\t\t\t\tthis.alleValorisierungsinstanzen\n\t\t\t\t\t\t.map(vi => ({value: vi.oe_kurzbz, label: vi.oe_bezeichnung})) // get only oes\n\t\t\t\t\t\t.map(vi => [vi['value'], vi]) // filter unique\n\t\t\t\t).values()];\n\n\t\t\t\toes.unshift({ // add default label\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tlabel: 'Organisationseinheit whlen...',\n\t\t\t\t\tdisabled: true\n\t\t\t\t});\n\n\t\t\t\tlet idx = oes.findIndex(vi => vi.value === null);\n\n\t\t\t\t// set label for null value\n\t\t\t\tif (typeof idx !== 'undefined' && idx >= 0) oes[idx].label = '-- Nicht angegeben --';\n\n\t\t\t\treturn oes;\n\t\t\t},\n\t\t\tvalorisierungsDates: function() {\n\t\t\t\tlet dates = this.alleValorisierungsinstanzen\n\t\t\t\t\t.filter((value, index, array) => value.oe_kurzbz == this.valorisierung_oe_kurzbz) // filter unique\n\t\t\t\t\t.map(vi => vi.valorisierungsdatum) // get only dates\n\t\t\t\t\t.filter((value, index, array) => array.indexOf(value) === index && value != '') // filter unique\n\t\t\t\t\t.map(date => ({value: date, label: formatter.formatDateGerman(date)})); // transform to object\n\n\t\t\t\tdates.unshift({ // add default label\n\t\t\t\t\tvalue: '',\n\t\t\t\t\tlabel: 'Datum whlen...',\n\t\t\t\t\tdisabled: true\n\t\t\t\t});\n\n\t\t\t\treturn dates;\n\t\t\t},\n\t\t\tdatumValorisierungsinstanzen: function() {\n\t\t\t\treturn this.alleValorisierungsinstanzen.filter(\n\t\t\t\t\tvi => vi.oe_kurzbz == this.valorisierung_oe_kurzbz && vi.valorisierungsdatum == this.valorisierungsdatum\n\t\t\t\t);\n\t\t\t},\n\t\t\tvalorisierungInfo: function() {\n\t\t\t\tlet valorisierungInfoObj = {};\n\t\t\t\tfor (let infoData of this.valorisierungInfoData) {\n\n\t\t\t\t\tlet valorisierungMethode =\n\t\t\t\t\t{\n\t\t\t\t\t\t\"valorisierung_methode_kurzbz\": infoData.valorisierung_methode_kurzbz,\n\t\t\t\t\t\t\"valorisierung_methode_beschreibung\": infoData.valorisierung_methode_beschreibung,\n\t\t\t\t\t\t\"valorisierung_methode_parameter\": infoData.valorisierung_methode_parameter\n\t\t\t\t\t};\n\n\t\t\t\t\tif (valorisierungInfoObj.hasOwnProperty(\"methoden\"))\n\t\t\t\t\t{\n\t\t\t\t\t\tvalorisierungInfoObj.methoden.push(valorisierungMethode);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tvalorisierungInfoObj =\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"valorisierung_kurzbz\": infoData.valorisierung_kurzbz,\n\t\t\t\t\t\t\t\"valorisierung_oe_bezeichnung\": infoData.oe_bezeichnung,\n\t\t\t\t\t\t\t\"valorisierungsdatum\": infoData.valorisierungsdatum,\n\t\t\t\t\t\t\t\"valorisierung_instanz_beschreibung\": infoData.valorisierung_instanz_beschreibung,\n\t\t\t\t\t\t\t\"methoden\": [valorisierungMethode]\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn valorisierungInfoObj;\n\t\t\t}\n\t\t},\n\t\ttemplate: `\n\n\t\t<header class=\"navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap p-0 border-bottom\">\n\t\t<a class=\"navbar-brand col-md-3 col-lg-2 me-0 px-3\" :href=\"getFHCUrl\">FHComplete [PV21]</a>\n\t\t<button class=\"navbar-toggler position-absolute d-md-none collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#sidebarMenu\" aria-controls=\"sidebarMenu\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t\t<span class=\"navbar-toggler-icon\"></span>\n\t\t</button>\n\t\t<div id=\"chooser\" class=\"w-100\">\n\t\t\t<searchbar :searchoptions=\"searchbaroptions\" :searchfunction=\"searchfunction\"></searchbar>\n\t\t</div>\n\t\t<div class=\"navbar-nav\">\n\t\t\t<div class=\"nav-item dropdown\">\n\t\t\t<a class=\"nav-link dropdown-toggle px-3\" data-bs-toggle=\"dropdown\" href=\"#\" id=\"navbarDropdownMenuLink\">Hufige Funktionen</a>\n\t\t\t<ul class=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\n\t\t\t\t<li><a class=\"dropdown-item\" href=\"#\">Action</a></li>\n\t\t\t\t<li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\n\t\t\t\t<li><a class=\"dropdown-item\" href=\"#\">Something else here</a></li>\n\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t\t</header>\n\n\t\t<div class=\"container-fluid\">\n\t\t<div class=\"row\">\n\n\t\t<core-navigation-cmpt :add-side-menu-entries=\"appSideMenuEntries\" hide-top-menu left-nav-css-classes=\"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse\"></core-navigation-cmpt>\n\n\t\t<main class=\"col-md-9 ms-sm-auto col-lg-10 px-md-4\" style=\"height:100%\">\n\n\t\t\t<div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3\">\n\t\t\t\t<h1 class=\"h2\">Valorisierung</h1>\n\t\t\t\t<div class=\"btn-toolbar mb-2 mb-md-0\">\n\t\t\t\t<div class=\"btn-group me-2\">\n\t\t\t\t\t<!--button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" @click=\"expandAllHandler\">Expand</button>\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" @click=\"collapseAllHandler\">Collapse</button-->\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"mh-100 pb-5\" >\n\t\t\t\t<core-filter-cmpt\n\t\t\t\t\tref=\"valorisationTabulator\"\n\t\t\t\t\t:download=\"downloadconfig\"\n\t\t\t\t\ttable-only\n\t\t\t\t\t:side-menu=\"false\"\n\t\t\t\t\t:tabulator-options=\"tabulatorOptions\"\n\t\t\t\t\t:tabulator-events=\"tabulatorEvents\">\n\t\t\t\t\t<template #actions>\n\t\t\t\t\t\t<table class=\"table table-borderless\">\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<select v-model=\"valorisierung_oe_kurzbz\" class=\"form-select\" aria-label=\"ValorisierungsOe\" @change=\"oeChanged\">\n\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"vo in valorisierungsOrganisationseinheiten\"\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"vo.value\"\n\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"vo.disabled\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{ vo.label }}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<select v-model=\"valorisierungsdatum\" class=\"form-select\" aria-label=\"ValorisierungsDatum\" @change=\"datumChanged\">\n\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"vd in valorisierungsDates\"\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"vd.value\"\n\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"vd.disabled\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{ vd.label }}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td v-show=\"valorisierungsdatum != ''\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"input-group\">\n\t\t\t\t\t\t\t\t\t\t<select v-model=\"valorisierungsinstanz_kurzbz\" class=\"form-select\" aria-label=\"ValorisierungsInstanz\">\n\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"vi in datumValorisierungsinstanzen\"\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"vi.value\"\n\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"vi.disabled\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{ vi.label }}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"getValorisationInfo\">\n\t\t\t\t\t\t\t\t\t\t\t<i class=\"fa fa-info\"></i>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-primary me-5\" @click=\"calculateValorisation\">Valorisierung berechnen</button>\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-primary\" @click=\"doValorisation\">Gewhlte Valorisierung abschlieen</button>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan=\"4\">\n\t\t\t\t\t\t\t\t\t<hr class=\"hr m-0\" />\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<select v-model=\"gehaelter_oe_kurzbz\" class=\"form-select\" aria-label=\"GehaelterOe\">\n\t\t\t\t\t\t\t\t\t\t\t<option\n\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"unt in alleUnternehmen\"\n\t\t\t\t\t\t\t\t\t\t\t\t:value=\"unt.oe_kurzbz\"\n\t\t\t\t\t\t\t\t\t\t\t\t:disabled=\"unt.disabled\">\n\t\t\t\t\t\t\t\t\t\t\t\t{{ unt.bezeichnung }}\n\t\t\t\t\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<datepicker id=\"stichtagSelect\"\n\t\t\t\t\t\t\t\t\t\t\tv-model=\"gehaelter_stichtag\"\n\t\t\t\t\t\t\t\t\t\t\tv-bind:enable-time-picker=\"false\"\n\t\t\t\t\t\t\t\t\t\t\tv-bind:placeholder=\"'Stichtag whlen'\"\n\t\t\t\t\t\t\t\t\t\t\tv-bind:text-input=\"true\"\n\t\t\t\t\t\t\t\t\t\t\tauto-apply\n\t\t\t\t\t\t\t\t\t\t\tlocale=\"de\"\n\t\t\t\t\t\t\t\t\t\t\tformat=\"dd.MM.yyyy\"\n\t\t\t\t\t\t\t\t\t\t\tmodel-type=\"yyyy-MM-dd\"\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"width: 100%;\" >\n\t\t\t\t\t\t\t\t\t\t</datepicker>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t\t<button class=\"btn btn-primary\" @click=\"getGehaelter\">Gehlter zum Stichtag anzeigen</button>\n\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t</table>\n\t\t\t\t\t</template>\n\t\t\t\t</core-filter-cmpt>\n\t\t\t</div>\n\n\t\t</main>\n\n\t\t</div>\n\t\t</div>\n\t\t<!-- detail modal -->\n\t\t<Modal :title=\"'Valorisierung Information'\" ref=\"infoModalRef\">\n\t\t\t<template #body>\n\t\t\t\t<table class=\"table table-bordered\">\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Bezeichnung</th>\n\t\t\t\t\t\t\t<td>{{valorisierungInfo.valorisierung_kurzbz}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Beschreibung</th>\n\t\t\t\t\t\t\t<td>{{valorisierungInfo.valorisierung_instanz_beschreibung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Unternehmen/Organisationseinheit</th>\n\t\t\t\t\t\t\t<td>{{valorisierungInfo.valorisierung_oe_bezeichnung}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Datum</th>\n\t\t\t\t\t\t\t<td>{{this.formatter.formatDateGerman(valorisierungInfo.valorisierungsdatum)}}</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t<th>Methoden</th>\n\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t<div v-for=\"(methode, index) in valorisierungInfo.methoden\">\n\t\t\t\t\t\t\t\t\t<span v-if=\"index > 0\">\n\t\t\t\t\t\t\t\t\t\t<br>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<b>{{methode.valorisierung_methode_kurzbz}}</b><br>\n\t\t\t\t\t\t\t\t\tBeschreibung: {{methode.valorisierung_methode_beschreibung}}<br>\n\t\t\t\t\t\t\t\t\tParameter: <pre>{{JSON.stringify(JSON.parse(methode.valorisierung_methode_parameter), null, 2)}}</pre>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t</tbody>\n\t\t\t\t</table>\n\t\t\t</template>\n\t\t</Modal>\n\t`\n};\n","export default {\n  getDvData(dienstverhaeltnis_id) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/ValorisierungCheck/getDvData',\n      params: { dienstverhaeltnis_id }\n    }\n  },\n  getValorisierungCheckData(dienstverhaeltnis_id) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/ValorisierungCheck/getValorisierungCheckData',\n      params: { dienstverhaeltnis_id }\n    }\n  },\n  checkValorisationValidityOfDv(dienstverhaeltnis_id) {\n    return {\n      method: 'get',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/ValorisierungCheck/checkValorisationValidityOfDv',\n      params: { dienstverhaeltnis_id }\n    }\n  },\n  redoValorisation(dienstverhaeltnis_id) {\n    return {\n      method: 'post',\n      url: '/extensions/FHC-Core-Personalverwaltung/api/frontend/v1/ValorisierungCheck/redoValorisation',\n      params: { dienstverhaeltnis_id }\n    }\n  }\n}\n","import {CoreNavigationCmpt} from '../../../../../js/components/navigation/Navigation.js';\nimport searchbar from \"../../../../../js/components/searchbar/searchbar.js\";\nimport ApiSearchbar from  '../../../../../js/api/factory/searchbar.js';\nimport {searchbaroptions} from \"../../apps/common.js\";\nimport {Modal} from '../Modal.js';\nimport {formatter} from './valorisationformathelper.js';\nimport ApiValorisierungCheck from '../../api/factory/valorisierungcheck.js';\n\nexport const ValorisationCheck = {\n\tname: 'ValorisationCheck',\n\tprops: {\n\t\tdienstverhaeltnis_id: { type: Number, required: true }\n\t},\n\tcomponents: {\n\t\tsearchbar,\n\t\tCoreNavigationCmpt,\n\t\tModal\n\t},\n\tinject: ['$api', '$fhcAlert'],\n\tdata() {\n\t\treturn \t{\n\t\t\tsearchbaroptions: searchbaroptions,\n\t\t\tappSideMenuEntries: {},\n\t\t\tvalorisierungCheckData: {},\n\t\t\tdvData: {},\n\t\t\tviewedValorisierungMethod: {},\n\t\t\tformatter: formatter\n\t\t};\n\t},\n\tcreated: function() {\n\t\tthis.getAllData();\n\t},\n\tmethods: {\n\t\tsearchfunction: function(params) {\n\t\t\treturn this.$api.call(ApiSearchbar.search(params));\n\t\t},\n\t\tgetAllData: function() {\n\t\t\tthis.getDvData();\n\t\t\tthis.getValorisierungCheckData();\n\t\t},\n\t\tgetDvData: function() {\n\t\t\tconst res = this.$api.call(ApiValorisierungCheck.getDvData(this.dienstverhaeltnis_id))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.dvData = response.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.handleErrors);\n\t\t},\n\t\tgetValorisierungCheckData: function() {\n\t\t\tconst res = this.$api.call(ApiValorisierungCheck.getValorisierungCheckData(this.dienstverhaeltnis_id))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.valorisierungCheckData = response.data;\n\t\t\t\t})\n\t\t\t\t.catch(this.handleErrors);\n\t\t},\n\t\tredoValorisation: function() {\n\t\t\tconst res = this.$api.call(ApiValorisierungCheck.redoValorisation(this.dienstverhaeltnis_id))\n\t\t\t\t.then((response) => {\n\t\t\t\t\tthis.getAllData();\n\t\t\t\t})\n\t\t\t\t.catch(this.handleErrors);\n\t\t},\n\t\tshowMethodenInfo: function(event, valorisierung) {\n\t\t\tthis.viewedValorisierungMethod = valorisierung;\n\t\t\tthis.$refs.infoModalRef.show();\n\t\t},\n\t\tnewSideMenuEntryHandler: function(payload) {\n\t\t\t\tthis.appSideMenuEntries = payload;\n\t\t},\n\t\thandleErrors: function(response) {\n\t\t\tif (response.hasOwnProperty('response') && response.response?.data?.errors) {\n\t\t\t\tfor (let error of response.response.data.errors) {\n\t\t\t\t\tthis.$fhcAlert.handleSystemError(error);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.$fhcAlert.handleSystemError(response);\n\t\t\t}\n\t\t}\n\t},\n\tcomputed: {\n\t\tgetFHCUrl: function() {\n\t\t\treturn FHC_JS_DATA_STORAGE_OBJECT.app_root + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n\t\t},\n\t\tvalorisierungCheckDataArr: function() {\n\t\t\tlet dataArr = [];\n\t\t\tfor (let gehaltsbestandteil_id in this.valorisierungCheckData)\n\t\t\t{\n\t\t\t\tlet va = this.valorisierungCheckData[gehaltsbestandteil_id];\n\t\t\t\tva.gehaltsbestandteil_id = gehaltsbestandteil_id;\n\t\t\t\tdataArr.push(va);\n\t\t\t}\n\t\t\tdataArr.sort(function(a, b){\n\t\t\t\tif (a.valorisierung == true && b.valorisierung == false) return -1;\n\t\t\t\tif (a.bis == null && b.bis != null) return -1;\n\t\t\t\tif (a.bis != null && b.bis == null) return 1;\n\t\t\t\treturn b.von.localeCompare(a.von)\n\t\t\t});\n\t\t\treturn dataArr;\n\t\t},\n\t\tfinalCalculatedValorisations: function() {\n\t\t\tlet valorisations = {};\n\t\t\tfor (let gehaltsbestandteil_id in this.valorisierungCheckData)\n\t\t\t{\n\t\t\t\tlet va = this.valorisierungCheckData[gehaltsbestandteil_id]['valorisation_methods'];\n\n\t\t\t\t// initialize with Grundbetrag\n\t\t\t\tvalorisations[gehaltsbestandteil_id] = parseFloat(this.valorisierungCheckData[gehaltsbestandteil_id]['grundbetrag']);\n\n\t\t\t\tif (va == null) continue;\n\n\t\t\t\t// get last calculated amount\n\t\t\t\tlet latestDate = Object.keys(va).reduce((a, b) => va[a] > va[b] ? a : b);\n\t\t\t\tlet lastBetrag = parseFloat(va[latestDate].calculated_betrag_valorisiert);\n\t\t\t\tif (!lastBetrag) continue;\n\t\t\t\tvalorisations[gehaltsbestandteil_id] = lastBetrag;\n\t\t\t}\n\n\t\t\treturn valorisations;\n\t\t},\n\t\tdienstverhaeltnisInfo: function() {\n\t\t\tlet dienstverhaeltnisInfo = {};\n\t\t\tif (this.dvData.length > 0)\n\t\t\t{\n\t\t\t\tlet dv = this.dvData[0];\n\t\t\t\tdienstverhaeltnisInfo = {\n\t\t\t\t\t'von': dv.von,\n\t\t\t\t\t'vertragsart': dv.vertragsart,\n\t\t\t\t\t'vorname': dv.vorname,\n\t\t\t\t\t'nachname': dv.nachname,\n\t\t\t\t\t'unternehmen': dv.unternehmen\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn dienstverhaeltnisInfo;\n\t\t},\n\t\tdienstverhaeltnisSums: function() {\n\t\t\tlet sums = {\n\t\t\t\tsaved: 0,\n\t\t\t\tcalculated: 0\n\t\t\t};\n\n\t\t\tfor (let gehaltsbestandteil_id in this.valorisierungCheckData)\n\t\t\t{\n\t\t\t\tsums.saved += parseFloat(this.valorisierungCheckData[gehaltsbestandteil_id].final_betrag_valorisiert);\n\t\t\t}\n\n\t\t\tif (Object.keys(this.finalCalculatedValorisations).length <= 0) return sums;\n\n\t\t\tsums.calculated = Object.values(this.finalCalculatedValorisations).reduce((a, b) => a + b);\n\n\t\t\treturn sums;\n\t\t},\n\t\tvalorisierungValid: function() {\n\t\t\tfor (let gehaltsbestandteil_id in this.valorisierungCheckData) {\n\t\t\t\tlet valData = this.valorisierungCheckData[gehaltsbestandteil_id];\n\n\t\t\t\t// if saved betrag valorisiert different from calculated - invalid\n\t\t\t\tif (valData['final_betrag_valorisiert'] != this.finalCalculatedValorisations[gehaltsbestandteil_id]) return false;\n\n\t\t\t\tfor (let methodIdx in valData['valorisation_methods']) {\n\t\t\t\t\tlet method = valData['valorisation_methods'][methodIdx];\n\n\t\t\t\t\t// if history betrag valorisiert different from calculated - invalid\n\t\t\t\t\tif (method.historie_betrag_valorisiert != method.calculated_betrag_valorisiert) return false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\ttemplate: `\n\n\t<header class=\"navbar navbar-expand-lg navbar-dark sticky-top bg-dark flex-md-nowrap p-0 border-bottom\">\n\t<a class=\"navbar-brand col-md-3 col-lg-2 me-0 px-3\" :href=\"getFHCUrl\">FHComplete [PV21]</a>\n\t<button class=\"navbar-toggler position-absolute d-md-none collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#sidebarMenu\" aria-controls=\"sidebarMenu\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n\t\t<span class=\"navbar-toggler-icon\"></span>\n\t</button>\n\t<div id=\"chooser\" class=\"w-100\">\n\t\t<searchbar :searchoptions=\"searchbaroptions\" :searchfunction=\"searchfunction\"></searchbar>\n\t</div>\n\t<div class=\"navbar-nav\">\n\t\t<div class=\"nav-item dropdown\">\n\t\t<a class=\"nav-link dropdown-toggle px-3\" data-bs-toggle=\"dropdown\" href=\"#\" id=\"navbarDropdownMenuLink\">Hufige Funktionen</a>\n\t\t<ul class=\"dropdown-menu\" aria-labelledby=\"navbarDropdownMenuLink\">\n\t\t\t<li><a class=\"dropdown-item\" href=\"#\">Action</a></li>\n\t\t\t<li><a class=\"dropdown-item\" href=\"#\">Another action</a></li>\n\t\t\t<li><a class=\"dropdown-item\" href=\"#\">Something else here</a></li>\n\t\t</ul>\n\t\t</div>noheader\n\t</div>\n\t</header>\n\n\t<div class=\"container-fluid\">\n\t<div class=\"row\">\n\n\t<core-navigation-cmpt :add-side-menu-entries=\"appSideMenuEntries\" hide-top-menu left-nav-css-classes=\"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse\"></core-navigation-cmpt>\n\n\t<main class=\"col-md-9 ms-sm-auto col-lg-10 px-md-4\" style=\"height:100%\">\n\n\t\t<div class=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3\">\n\t\t\t<h1 class=\"h2\">\n\t\t\t\tValorisierungscheck {{dienstverhaeltnisInfo.vorname+' '+dienstverhaeltnisInfo.nachname}},\n\t\t\t\t{{ dienstverhaeltnisInfo.unternehmen }}, {{ dienstverhaeltnisInfo.vertragsart }},\n\t\t\t\t{{ this.formatter.formatDateGerman(dienstverhaeltnisInfo.von) }}\n\t\t\t</h1>\n\t\t\t<div class=\"btn-toolbar mb-2 mb-md-0\">\n\t\t\t<div class=\"btn-group me-2\">\n\t\t\t\t<!--button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" @click=\"expandAllHandler\">Expand</button>\n\t\t\t\t<button type=\"button\" class=\"btn btn-sm btn-outline-secondary\" @click=\"collapseAllHandler\">Collapse</button-->\n\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class=\"row\">\n\n\t\t\t<div class=\"col-6\">\n\t\t\t\t<div class=\"d-flex mb-3 align-items-center\" v-if=\"valorisierungValid\">\n\t\t\t\t\t<label class=\"text-success\"><i class=\"fa fa-check\"></i>&nbsp;Valorisierung korrekt gespeichert</label>&nbsp;\n\t\t\t\t</div>\n\n\t\t\t\t<div class=\"d-flex mb-3 align-items-center\" v-else>\n\t\t\t\t\t<label class=\"text-danger\"><i class=\"fa fa-x\"></i>&nbsp;Gespeicherte Valorisierung weicht von berechneter Valorisierung ab!</label>&nbsp;\n\t\t\t\t\t<button type=\"button\" class=\"btn btn-primary ml-auto\" @click=\"redoValorisation\">Valorisierung neu berechnen und speichern</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<div class=\"col-6 mb-3 text-end fw-bold fs-5\">\n\t\t\t\t&sum; Historie: {{ this.formatter.formatCurrencyGerman(dienstverhaeltnisSums.saved) }};\n\t\t\t\t&sum; berechnet: {{ this.formatter.formatCurrencyGerman(dienstverhaeltnisSums.calculated) }}\n\t\t\t</div>\n\n\t\t</div>\n\n\t\t<div class=\"mh-100 pb-5\">\n\t\t\t<div class=\"row\" v-for=\"method in valorisierungCheckDataArr\">\n\t\t\t\t<h1 class=\"h3\">\n\t\t\t\t\tGehaltsbestandteil {{ method.gehaltstyp }},\n\t\t\t\t\t{{ this.formatter.formatDateGerman(method.von) }}<span v-if=\"method.bis != null\"> - {{ this.formatter.formatDateGerman(method.bis) }}</span>, Betrag valorisiert:\n\t\t\t\t\t<span\n\t\t\t\t\t\tv-bind:class=\"finalCalculatedValorisations[method.gehaltsbestandteil_id] != method.final_betrag_valorisiert ? 'text-danger' : ''\">\n\t\t\t\t\t\t{{ this.formatter.formatCurrencyGerman(method.final_betrag_valorisiert) }}\n\t\t\t\t\t</span>,\n\t\t\t\t\tValorisierung:\n\t\t\t\t\t{{ method.valorisierung ? 'Ja' : 'Nein' }}\n\t\t\t\t</h1>\n\t\t\t\t<div class=\"col-6\">\n\t\t\t\t\t<table class=\"table table-condensed table-bordered\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr class=\"text-center\">\n\t\t\t\t\t\t\t\t<th colspan=\"3\">Historie</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Valorisierungsdatum</th>\n\t\t\t\t\t\t\t\t<th>Bezeichnung</th>\n\t\t\t\t\t\t\t\t<th>Betrag valorisiert</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t<td>Grundbetrag</td>\n\t\t\t\t\t\t\t\t<td>{{ this.formatter.formatCurrencyGerman(method.grundbetrag) }}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr v-for=\"(valorisierung, valorisierungsdatum) in method.valorisation_methods\"\n\t\t\t\t\t\t\t\tv-bind:class=\"valorisierung.calculated_betrag_valorisiert != valorisierung.historie_betrag_valorisiert ? 'table-danger' : ''\">\n\t\t\t\t\t\t\t\t<td>{{ this.formatter.formatDateGerman(valorisierungsdatum) }}</td>\n\t\t\t\t\t\t\t\t<td>{{ valorisierung.valorisierung_kurzbz }}</td>\n\t\t\t\t\t\t\t\t<td>{{ this.formatter.formatCurrencyGerman(valorisierung.historie_betrag_valorisiert) }}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"col-6\">\n\t\t\t\t\t<table class=\"table table-condensed table-bordered\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr class=\"text-center\">\n\t\t\t\t\t\t\t\t<th colspan=\"4\">Berechnet</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>Valorisierungsdatum</th>\n\t\t\t\t\t\t\t\t<th>Bezeichnung</th>\n\t\t\t\t\t\t\t\t<th>Methode</th>\n\t\t\t\t\t\t\t\t<th>Betrag valorisiert</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t\t<td>Grundbetrag</td>\n\t\t\t\t\t\t\t\t<td>-</td>\n\t\t\t\t\t\t\t\t<td>{{ this.formatter.formatCurrencyGerman(method.grundbetrag) }}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr v-for=\"(valorisierung, valorisierungsdatum) in method.valorisation_methods\"\n\t\t\t\t\t\t\t\tv-bind:class=\"valorisierung.calculated_betrag_valorisiert != valorisierung.historie_betrag_valorisiert ? 'table-danger' : ''\">\n\t\t\t\t\t\t\t\t<td>{{ this.formatter.formatDateGerman(valorisierungsdatum) }}</td>\n\t\t\t\t\t\t\t\t<td>{{ valorisierung.valorisierung_kurzbz }}</td>\n\t\t\t\t\t\t\t\t<td>{{ valorisierung.valorisierung_methode_kurzbz }}&nbsp;\n\t\t\t\t\t\t\t\t\t<i class=\"fa fa-info-circle fa-lg\" role=\"button\" @click=\"showMethodenInfo($event, valorisierung)\"></i>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{{ this.formatter.formatCurrencyGerman(valorisierung.calculated_betrag_valorisiert) }}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t</main>\n\n\t</div>\n\t</div>\n\t<!-- detail modal -->\n\t<Modal :title=\"'Valorisierungsmethode Information'\" ref=\"infoModalRef\" v-model=\"viewedValorisierungMethod\">\n\t\t<template #body>\n\t\t\t<table class=\"table table-bordered\">\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Bezeichnung</th>\n\t\t\t\t\t\t<td>{{viewedValorisierungMethod.valorisierung_methode_kurzbz}}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Beschreibung</th>\n\t\t\t\t\t\t<td>{{viewedValorisierungMethod.valorisierung_methode_beschreibung}}</td>\n\t\t\t\t\t</tr>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<th>Parameter</th>\n\t\t\t\t\t\t<td><pre>{{JSON.stringify(this.viewedValorisierungMethod.valorisierung_methode_parameter, null, 2)}}</pre></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</template>\n\t</Modal>\n\t`\n};\n","import Phrasen from '../../../../js/plugins/Phrasen.js';\nimport FhcAlert from '../../../../js/plugins/FhcAlert.js';\n//import * as typeDefinition from '../helpers/typeDefinition/loader.js';\nimport {ValorisationSelection} from \"../components/bulk/ValorisationSelection.js\";\nimport {ValorisationCheck} from \"../components/bulk/ValorisationCheck.js\";\n\n// path to CI-Router without host and port (requires https!)\nconst ciPath = FHC_JS_DATA_STORAGE_OBJECT.app_root.replace(/(https:|)(^|\\/\\/)(.*?\\/)/g, '') + FHC_JS_DATA_STORAGE_OBJECT.ci_router;\n\nconst router = VueRouter.createRouter(\n\t{\n\t\thistory: VueRouter.createWebHistory(),\n\t\troutes: [\n\t\t\t{ path: `/${ciPath}/extensions/FHC-Core-Personalverwaltung/Valorisation`, component: ValorisationSelection },\n\t\t\t{ path: `/${ciPath}/extensions/FHC-Core-Personalverwaltung/Valorisation/Check/:dienstverhaeltnis_id`, component: ValorisationCheck, props: route => ({ dienstverhaeltnis_id: parseInt(route.params.dienstverhaeltnis_id) })}\n\t\t],\n\t}\n);\n\nconst valApp = Vue.createApp({\n\tname: 'PV21Valorisation'\n}).use(router);\n\nvalApp.use(primevue.config.default);\nvalApp.use(Phrasen);\nvalApp.use(FhcAlert);\nvalApp.mount('#wrapper');\n\n"],"names":["search","searchsettings","config","this","$fhcApi","post","searchAdvanced","searchdummy","phrasen$1","loadCategory","category","get","setLanguage","categories","language","payload","getLanguage","getActiveDbLanguages","navigation","getHeader","navigation_page","getMenu","filter$1","saveCustomFilter","wsParams","filterUniqueId","filterType","customFilterName","removeCustomFilter","filterId","applyFilterFields","filterFields","addFilterField","filterField","removeFilterField","getFilterById","getFilter","studstatus","abmeldung","getDetails","antrag_id","prestudent_id","url","undefined","create","stdsem","grund","studiensemester","errorHandling","cancel","Array","isArray","Promise","allSettled","map","antrag","studierendenantrag_id","errorHeader","unterbrechung","datum_wiedereinstieg","attachment","wiederholung","getLvs","saveLvs","forbiddenLvs","mandatoryLvs","leitung","getStgs","getAntraege","params","then","res","data","getHistory","getPrestudents","query","signal","timeout","approve","a","reject","reopen","pause","unpause","object","approveObjection","denyObjection","profil","getView","uid","FHC_JS_DATA_STORAGE_OBJECT","app_root","ci_router","fotoSperre","value","isStudent","isMitarbeiter","getZustellAdresse","getZustellKontakt","getGemeinden","nation","zip","getAllNationen","profilUpdate","getStatus","getTopic","acceptProfilRequest","profil_update_id","status_message","topic","requested_change","denyProfilRequest","insertFile","dms","replace","getProfilRequestFiles","requestID","selectProfilRequest","id","insertProfilRequest","fileID","updateProfilRequest","ID","deleteProfilRequest","lvPlan","getRoomInfo","ort_kurzbz","start_date","end_date","getStunden","getOrtReservierungen","getLvPlanReservierungen","getLehreinheitStudiensemester","lehreinheit_id","studiensemesterDateInterval","date","LvPlanEvents","lv_id","stv","verband","favorites","set","students","studiensemester_kurzbz","encodeURIComponent","getUri","prestudent","person","person_id","relative_path","filter","getStg","setStg","studiengang_kz","konto","tabulatorConfig","self","ajaxURL","ajaxParams","modelValue","e","only_open","studiengang_kz_intern","stg_kz","ajaxRequestFunc","ajaxResponse","response","checkDoubles","form","confirmErrorHandler","error","insert","counter","edit","delete","buchungsnr","getBuchungstypen","group","getGruppen","deleteGroup","kontakt","getAdressen","addNewAddress","loadAddress","address_id","updateAddress","deleteAddress","getPlaces","plz","getFirmen","searchString","getNations","getAdressentypen","getBankverbindung","addNewBankverbindung","loadBankverbindung","bankverbindung_id","updateBankverbindung","deleteBankverbindung","getKontakte","addNewContact","loadContact","kontakt_id","updateContact","deleteContact","getStandorteByFirma","getKontakttypen","updatePrestudent","getBezeichnungZGV","getBezeichnungMZgv","getBezeichnungDZgv","getAusbildung","getAufmerksamdurch","getBerufstaetigkeit","getTypenStg","getBisstandort","getHistoryPrestudent","getMaxSem","studiengang_kzs","advanceStatus","status_kurzbz","ausbildungssemester","confirmStatus","isLastStatus","deleteStatus","getLastBismeldestichtag","getHistoryPrestudents","status","insertStatus","loadStatus","updateStatus","getStudienplaene","getStudiengang","getStatusgruende","getStati","addStudent","changeStatus","getStatusarray","details","save","exam","getPruefungen","loadPruefung","pruefung_id","getTypenPruefungen","getAllLehreinheiten","getLvsByStudent","getLvsandLesByStudent","semester","getLvsAndMas","getMitarbeiterLv","getNoten","checkZeugnisnoteLv","addPruefung","updatePruefung","deletePruefung","abschlusspruefung","getAbschlusspruefung","addNewAbschlusspruefung","loadAbschlusspruefung","updateAbschlusspruefung","deleteAbschlusspruefung","getTypenAbschlusspruefung","getTypenAntritte","getBeurteilungen","getAkadGrade","getTypStudiengang","getMitarbeiter","getPruefer","checkForExistingExams","uids","grades","list","getCertificate","getTeacherProposal","getRepeaterGrades","updateCertificate","lehrveranstaltung_id","student_uid","note","lehrveranstaltung_bezeichnung","deleteCertificate","copyTeacherProposalToCertificate","copyRepeaterGradeToCertificate","studierendenantrag_lehrveranstaltung_id","lv_bezeichnung","getGradeFromPoints","points","manualErrorHandling","mobility","getMobilitaeten","getProgramsMobility","addNewMobility","loadMobility","bisio_id","updateMobility","deleteMobility","getLVList","getPurposes","getSupports","getListPurposes","getListSupports","deleteMobilityPurpose","addMobilityPurpose","deleteMobilitySupport","addMobilitySupport","archiv","getArchivVorlagen","archive","archiveSigned","update","akte_id","documents","getDocumentsUnaccepted","getDocumentsAccepted","deleteZuordnung","dokument_kurzbz","createZuordnung","loadAkte","getDoktypen","updateFile","deleteFile","uploadFile","exemptions","getAnrechnungen","getLehrveranstaltungen","getBegruendungen","getLvsKompatibel","getLektoren","addNewAnrechnung","loadAnrechnung","anrechnung_id","editAnrechnung","deleteAnrechnung","jointstudies","getStudies","getTypenMobility","getStudiensemester","getStudyprograms","getListPartner","getStatiPrestudent","loadStudy","insertStudy","updateStudy","deleteStudy","courselist","getCourselist","group_consecutiveHours","dbStundenplanTable","configStudent","configStudents","notiz","getNotizen","type","getUid","addNewNotiz","formData","loadNotiz","notiz_id","loadDokumente","deleteNotiz","type_id","updateNotiz","event","isBerechtigt","betriebsmittel","getAllBetriebsmittel","addNewBetriebsmittel","loadBetriebsmittel","betriebsmittelperson_id","updateBetriebsmittel","deleteBetriebsmittel","getTypenBetriebsmittel","loadInventarliste","checkperson","updatePersonUnrulyStatus","unrulyParam","unruly","filterPerson","base","axios","ort","getContentID","ort_kurbz","getRooms","datum","von","bis","typ","personenanzahl","getRoomTypes","cms$1","content","content_id","version","sprache","sichtbar","getNews","page","page_size","news","limit","getNewsRowCount","getNewsExtra","lehre","getStudentenMail","getLvInfo","getStudentPruefungen","getStudentProjektarbeiten","getStudentProjektabgaben","detail","projektarbeit_id","postStudentProjektarbeitEndupload","Headers","postStudentProjektarbeitZwischenabgabe","getStudentProjektarbeitAbgabeFile","paabgabe_id","window","location","getMitarbeiterProjektarbeiten","all","postProjektarbeitAbgabe","termin","paabgabetyp_kurzbz","bezeichnung","fixtermin","insertvon","kurzbz","deleteProjektarbeitAbgabe","postSerientermin","projektarbeit_ids","fetchDeadlines","addons","getLvMenu","lvid","messages","getMessages","size","getVorlagen","getMsgVarsLoggedInUser","getMessageVarsPerson","getMsgVarsPrestudent","getPersonId","getDataVorlage","vorlage_kurzbz","getNameOfDefaultRecipient","getPreviewText","getReplyData","messageId","sendMessageFromModalContext","sendMessage","deleteMessage","vorlagen","getVorlagenByLoggedInUser","studium","getAllStudienSemester","studiengang","studienplan","getStudiengaengeForStudienSemester","getStudienplaeneBySemester","getLvPlanForStudiensemester","getLvEvaluierungInfo","FhcApiFactory","phrasen","dashboard","getViewData","bookmark","getBookmarks","bookmark_id","title","tag","ampeln","open","confirm","ampel_id","cms","studiengangInformation","getStudiengangByKz","menu","authinfo","getAuthUID","getAuthInfo","getAll","OldFhcApi","install","app","options","globalProperties","factory","console","warn","addEndpoints","_get_config","uri","TypeError","clearValidation","setFeedback","_clean_return_value","result","meta","fhcApiAxios","baseURL","interceptors","request","use","method","FormData","Object","values","every","item","FileList","i","File","newData","entries","reduce","nd","key","file","append","length","jsondata","forEach","JSON","stringify","errors","err","_defaultErrorHandlers","code","handled","$fhcAlert","alertDefault","message","responseURL","alertError","validation","$p","t","apply","general","php","filename","line","backtrace","function","severity","alertSystemError","exception","class","db","heading","sql","join","auth","controller","required_permissions","FhcApiFactoryWrapper","constructor","factorypart","root","defineProperty","noWarn","keys","bind","provide","CORE_REST_CLIENT_ERROR","CORE_REST_CLIENT_RETVAL","CoreRESTClient","wsURL","wsParameters","axiosParameters","_axiosCall","isSuccess","hasOwnProperty","isError","hasData","trim","getData","getError","getErrorCode","_generateRouterURI","_printDebug","parameters","errorThrown","axiosCallObj","prop","helperAppContainer","document","createElement","helperApp","Vue","createApp","name","components","PvToast","PvConfirm","methods","mailToUrl","slotProps","systemerror_mailto","called_path","called_method","openMessagecard","bootstrap","Collapse","getOrCreateInstance","target","getAttribute","toggle","unmounted","parentElement","removeChild","computed","showmaillink","template","PvConfig","PvConfirmationService","helperAppInstance","mount","body","appendChild","FhcAlert","FhcPhrasen","alertSuccess","$refs","toast","add","summary","life","alertInfo","alertWarning","alert","confirmDelete","resolve","$confirm","require","header","acceptLabel","acceptClass","rejectLabel","rejectClass","accept","sticky","html","alertMultiple","messageArray","handleSystemError","toLowerCase","errMsg","retval","toUpperCase","stack","handleSystemMessage","msg","resetFormValidation","Event","querySelectorAll","el","dispatchEvent","handleFormValidation","nodeType","Node","ELEMENT_NODE","notFound","input","querySelector","CustomEvent","arr","PluginsApi","$api","_send_array_or_object","func","errs","DEFAULT_ERROR_CONFIG","success","fail","combine","handler","async","_format_toast","_default","push","field","msgs","sort","b","indexOf","n_errors","n","get_config","clean_return_value","String","_merge_error_config","get_error_handler","formHandler","get_error_list","popHandleableErrors","copy","pop","newType","newTypeCombinesType","includes","newTypeHasHandler","errorConfig","remaining","call","configoverwrite","index","typedErrors","allowed","reason","errType","getErrorHandler","ApiPhrasen","reactive","loadingModules","user_language","ref","user_locale","server_languages","find","LC_Time","catArray","row","phrase","text","obj","elem","extractCategory","t_ref","split","val","match","p1","getValueForLoadedPhrase","Phrasen","cat","lang","CoreFetchCmpt","emits","props","refresh","Boolean","apiFunction","required","Function","apiFunctionParameters","watch","newValue","oldValue","fetchData","loading","errorMessage","created","apiFunctionResult","successHandler","catch","errorHandler","finally","finallyHandler","setError","$emit","ApiNavigation","CoreNavigationCmpt","addHeaderMenuEntries","addSideMenuEntries","hideTopMenu","leftNavCssClasses","default","headerMenu","sideMenu","headerMenuEntries","hm","description","sideMenuEntries","sm","getNavigationPage","fetchCmptApiFunctionHeader","fetchCmptApiFunctionSideMenu","fetchCmptDataFetchedHeader","fetchCmptDataFetchedMenu","getDataBsToggle","children","FILTER_COMPONENT_NEW_FILTER","FilterConfig","filters","columns","fields","switchFilter","applyFilterConfig","currentFields","types","c","evt","currentTarget","filteredFields","condition","addField","removeField","splice","FilterColumns","selected","names","hide","show","selectedFields","DEFAULT_ICONS","jsonLines","xlsx","pdf","json","csv","DEFAULT_LABELS","TableDownload","tabulator","iconClass","currentConfig","prototype","toString","newConfig","k","v","stringToFileFormatter","icon","label","formatter","validateFileFormatter","lcInput","XLSX","jspdf","jsPDF","autoTable","download","elementDataMap","WeakMap","collapseAutoClose","mounted","binding","contains","collapse","getInstance","addEventListener","beforeUnmount","removeEventListener","collapsibleAutoHideFunc","Tabulator","extendModule","fitDataStretchFrozen","forced","colsWidth","tableWidth","table","rowManager","element","clientWidth","gap","lastCol","column","widthFixed","reinitializeWidth","responsiveLayout","modules","responsive","visible","definition","frozen","getWidth","modExists","setWidth","ApiFilter","_uuid","CoreFilterCmpt","directives","onNwNewEntry","tabulatorOptions","tabulatorEvents","tableOnly","noColumnFilter","reload","reloadBtnInfotext","newBtnShow","newBtnClass","newBtnDisabled","newBtnLabel","uniqueId","idField","parentIdField","countOnly","useSelectionSpan","uuid","filterName","filterActive","dataset","datasetMetadata","availableFilters","selectedFilter","fetchCmptRefresh","fetchCmptApiFunction","fetchCmptApiFunctionParams","fetchCmptDataFetched","fetchResult","tableBuilt","tabulatorHasSelector","selectedData","persistence","headerFilter","notSelectedFields","x","filteredData","parse","filteredColumns","col","resizable","fieldIdsForVisibilty","getColumns","def","getDefinition","getField","fieldNames","idExtra","columnsForFilter","filterTitles","reloadTable","setData","initTabulator","placeholder","hash","slice","resolvePromiseFunc","setRenderData","startFetchCmpt","layout","movableColumns","columnDefaults","tooltip","height","minHeight","maxHeight","selectable","dataTree","on","toDelete","childIdx","child","cols","isVisible","_setHeaderFilter","updateTabulator","_updateTabulator","setColumns","clearFilters","getHeaderFilters","setHeaderFilterValue","clearFilter","render","j","setSideMenu","setDropDownMenu","personalFilters","filtersArray","filtersCount","link","filter_id","desc","onClickCall","handlerGetFilterById","subscriptDescription","subscriptLinkClass","subscriptLinkValue","onClickSubscriptCall","handlerRemoveCustomFilter","option","dataFetchedCallback","handlerSaveCustomFilter","substring","attr","parentId","parentIdx","parent","_children","beforeCreate","$props","TemplateAction","action","actionHref","actionFunc","renderif","TemplateFrame","ResultAction","ResultActions","actions","image","imageFallback","emails","Set","email","room","mode","equipment","RegExp","address","city","street","floor","employee","organisationunit","student","photo_url","foto","stg_kuerzel","mimetype","inject","preview","template_kurzbz","lower","firstOccurence","Math","min","posInText","substr","content_url","mergedStudent","ResultPrestudent","ResultStudent","mergedPerson","idx","some","tmpitem","telurl","phone","inaktiv","aktiv","searchbar","lastQuery","searchtimer","hidetimer","searchstr","getSearchStr","getInitiallySelectedTypes","searchresult","searchmode","showresult","searching","abortController","settingsDropdown","searchTypesPlaceholder","typeLabels","searchoptions","newSearchValue","origin","sessionStorage","setItem","localStorage","settings","updated","nextTick","calcSearchResultHeight","clearInput","hideresult","focus","localStorageValue","getItem","checkSettingsVisibility","handleShowSettings","handleHideSettings","rect","results","getBoundingClientRect","innerHeight","style","ceil","calcSearchResultExtent","calcheightonly","searchbox","top","bottom","right","width","clearTimeout","abort","setTimeout","callsearchapi","showsearchresult","AbortController","searchfunction","searchstring","mergeResults","mergeTypes","mergedType","mergeKey","renderer","rank","retry","refreshsearch","togglesettings","searchfocusin","preventDefault","stopPropagation","searchfocusout","dash2camelCase","string","g","isValidRenderer","camelCaseRenderer","$","getActions","protocol_host","searchbaroptions","cssclass","defaultaction","childactions","raum","operation","oe_kurzbz","href","Modal","noscroll","expose","setup","emit","thisModalObj","modalEle","onMounted","formatDateGerman","matches","formatCurrencyGerman","amount","Intl","NumberFormat","minimumFractionDigits","maximumFractionDigits","format","ApiSearchbar","searchCis","searchStv","ApiValorisierung","calculateValorisation","valorisierunginstanz_kurzbz","doValorisation","getValorisierungsInstanzen","getGehaelter","gehaelter_stichtag","gehaelter_oe_kurzbz","getValorisationInfo","getAllUnternehmen","ValorisationSelection","datepicker","VueDatePicker","appSideMenuEntries","alleValorisierungsinstanzen","valorisierungInfoData","alleUnternehmen","valorisierungsinstanz_kurzbz","valorisierung_oe_kurzbz","valorisierungsdatum","ajaxUrl","downloadconfig","delimiter","bom","handleErrors","newSideMenuEntryHandler","valorisationTabulator","dataLoader","alertLoader","clearAlert","infoModalRef","oeChanged","datumChanged","valInstanzen","vi","getFHCUrl","moneyformatterparams","decimal","thousand","symbol","symbolAfter","negativeSign","precision","sumsDownload","formatDate","cell","formatterParams","onRendered","getValue","footerElement","rowFormatter","rowData","minWidth","hozAlign","sorter","accessorDownload","log","rows","elfiltered","getElementById","elsumpreval","elsumpostval","elvaldifferenz","sumpreval","sumpostval","noSalaryPostval","sumsalarypreval","sumsalarypostval","isNaN","display","textContent","moneyformatter","getFormatter","sumpreval_wrapper","sumpostval_wrapper","differenz_wrapper","innerHTML","valorisierungsOrganisationseinheiten","oes","Map","oe_bezeichnung","unshift","disabled","findIndex","valorisierungsDates","dates","array","datumValorisierungsinstanzen","valorisierungInfo","valorisierungInfoObj","infoData","valorisierungMethode","valorisierung_methode_kurzbz","valorisierung_methode_beschreibung","valorisierung_methode_parameter","methoden","valorisierung_kurzbz","valorisierung_oe_bezeichnung","valorisierung_instanz_beschreibung","ApiValorisierungCheck","getDvData","dienstverhaeltnis_id","getValorisierungCheckData","checkValorisationValidityOfDv","redoValorisation","ValorisationCheck","Number","valorisierungCheckData","dvData","viewedValorisierungMethod","getAllData","showMethodenInfo","valorisierung","valorisierungCheckDataArr","dataArr","gehaltsbestandteil_id","va","localeCompare","finalCalculatedValorisations","valorisations","parseFloat","latestDate","lastBetrag","calculated_betrag_valorisiert","dienstverhaeltnisInfo","dv","vertragsart","vorname","nachname","unternehmen","dienstverhaeltnisSums","sums","saved","calculated","final_betrag_valorisiert","valorisierungValid","valData","methodIdx","historie_betrag_valorisiert","ciPath","router","VueRouter","createRouter","history","createWebHistory","routes","path","component","route","parseInt","valApp","primevue"],"mappings":"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"}